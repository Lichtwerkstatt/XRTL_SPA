(this["webpackJsonpxrtl-spa"]=this["webpackJsonpxrtl-spa"]||[]).push([[0],{125:function(e,t,o){e.exports={login:"Login_login__2plgY",close:"Login_close__39P7D",popupWindow:"Login_popupWindow__29wfX",popupInner:"Login_popupInner__2psTJ"}},161:function(e,t,o){e.exports={navbar:"NavBar_navbar__kQPlq",navMenu:"NavBar_navMenu__16QaL",navMenuLaser:"NavBar_navMenuLaser__3n9Gj",navRow:"NavBar_navRow__1qmGD",mobile:"NavBar_mobile__eglhI"}},18:function(e,t,o){"use strict";o.d(t,"b",(function(){return j})),o.d(t,"a",(function(){return h}));var n=o(1),s=o(19),c=o(163),a=o(2),r=o(275),i=new c.a("",{autoConnect:!1}),l=i.socket("/"),d=Object(n.createContext)();function j(){return Object(n.useContext)(d)}function h({children:e}){const[t,o]=Object(n.useState)("white"),[j,h]=Object(n.useState)(!1),[b,p]=Object(n.useState)(""),[u,m]=Object(n.useState)(""),g=Object(s.b)();Object(n.useEffect)((()=>{const e=e=>{h(!0),g.addLog("Server : Client connected to "+u),g.setSocket(l),g.setUsername(b)},t=e=>{h(!1),g.addLog("Server : Client disconnect.")};return l.on("connect",e),l.on("disconnect",t),()=>{l.removeAllListeners("connect",e),l.removeAllListeners("disconnect",t)}}));const x=(e,t)=>{p(t&&"admin"===t?"Supervisor":t),l.disconnect(),i=new c.a(e,{autoConnect:!1}),l=i.socket("/"),d=Object(n.createContext)(),m(e)};return Object(a.jsx)(d.Provider,{value:{socket:l,connected:j,setConnected:h,toggleConnection:(e,t)=>{if(j)h(!1),p(""),x(""),l.close(),g.addLog("Client disconnected by choice.");else{var o={sub:e},n=r.sign(o,t,{header:{kid:"admin"===e?"admin":"client"}});l.auth={token:n},l.connect(),l.emit("newUser",e),g.addLog("Client connected by choice.")}},setNewURL:x,setFontColor:o,username:b,fontColor:t},children:e})}},19:function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return i}));var n=o(1),s=o.n(n),c=o(2);const a=s.a.createContext();function r(){return Object(n.useContext)(a)}function i({children:e}){const[t,o]=Object(n.useState)(!1),[s,r]=Object(n.useState)(new Set),[i,l]=Object(n.useState)(new Set),[d,j]=Object(n.useState)(!1),[h,b]=Object(n.useState)(!1),[p,u]=Object(n.useState)(!1),[m,g]=Object(n.useState)(!1),[x,O]=Object(n.useState)(!0),[f,w]=Object(n.useState)(1),[v,S]=Object(n.useState)(!1),[y,C]=Object(n.useState)(!0),[_,k]=Object(n.useState)(!1),[I,L]=Object(n.useState)(""),[M,T]=Object(n.useState)(""),[P,R]=Object(n.useState)([]),N=e=>{i.has(e)?(l((t=>new Set([...t].filter((t=>t!==e))))),F(e)):l((t=>new Set(t.add(e))))},F=(e,t=!1)=>{try{s.has(e)||!1===t?s.has(e)&&(r((t=>new Set([...t].filter((t=>t!==e))))),M.emit("leave stream room",{controlId:e,userId:I})):(r((t=>new Set(t.add(e)))),M.emit("join stream room",{controlId:e,userId:I}))}catch(o){}};return Object(c.jsx)(a.Provider,{value:{autoRotate:m,toggleAutoRotate:()=>{g(!m)},selectedComps:i,toggleSelectedComp:N,logs:P,addLog:e=>{R((t=>[e,...t]))},showTags:y,toggleShowTags:()=>{C(!y)},showBeam:v,toggleShowBeam:()=>{S(!v)},showLogin:x,toggleLogin:()=>{O(!x)},showInfoWindow:d,toggleShowInfoWindow:()=>{j(!d)},showCam:_,toggleCam:()=>{k(!_),N("overview")},setRoomComponent:r,toogleRoomComp:F,showManualWindow:h,toggleShowManualWindow:()=>{b(!h)},underConstruction:t,toggleunderConstruction:e=>{o(e)},manualPage:f,toggleSetManualPage:e=>{w(e)},lightSource:p,toggleHandleLightSource:()=>{u(!p);try{M.emit("command",{controlId:"relay_light",userId:I,switch:p})}catch(e){}},username:I,setUsername:L,socket:M,setSocket:T},children:e})}},234:function(e,t,o){"use strict";(function(e){var n=o(254),s=o(255),c=o(18),a=o(60),r=o(19),i=o(245),l=o(248),d=o(250),j=o(253),h=o(2);t.a=()=>(e.title="XRTLApp",Object(h.jsx)(r.a,{children:Object(h.jsxs)(c.a,{children:[Object(h.jsx)(s.a,{}),Object(h.jsxs)(a.a,{children:[Object(h.jsx)(n.a,{}),Object(h.jsx)(l.a,{}),Object(h.jsx)(j.a,{}),Object(h.jsx)(i.a,{}),Object(h.jsx)(d.a,{})]})]})}))}).call(this,o(24))},240:function(e,t,o){e.exports={Canvas:"Settings_Canvas__2HER9",Settings:"Settings_Settings__19Ahs",Cam:"Settings_Cam__Eq-1N"}},241:function(e,t,o){e.exports={mainWrapper:"InfoWindowContent_mainWrapper__5S0Vi"}},242:function(e,t,o){e.exports={mainWrapper:"ManualWindowContent_mainWrapper__29Sga"}},245:function(e,t,o){"use strict";var n=o(18),s=o(48),c=o(19),a=o(166),r=o(71),i=o(162),l=o(246),d=o(68),j=o(247),h=o(161),b=o.n(h),p=o(33),u=o(1),m=o(28),g=o(2);const x=()=>{const e=Object(c.b)(),t=Object(n.b)();let o="";t.connected&&(o="white");let h="";e.showTags&&(h="white");let u="";e.showCam&&(u="white");let m="";e.showInfoWindow&&(m="white");let x="";e.showBeam&&(x="white");let O="";e.showManualWindow&&(O="white");let f="";return e.lightSource&&(f="white"),Object(g.jsx)("div",{id:"navbar",className:b.a.navbar,children:Object(g.jsxs)(a.a,{theme:p.a,children:[Object(g.jsx)("h1",{children:"XR TwinLab - Fundamentals"}),e.underConstruction&&Object(g.jsx)("h2",{children:"Experiment under construction! Some functions may not work!"}),Object(g.jsx)("div",{className:b.a.navMenu,children:Object(g.jsxs)("ul",{children:[Object(g.jsx)(r.a,{title:t.connected?"Disconnect":"Connect",children:Object(g.jsxs)("li",{onClick:()=>{t.connected?t.toggleConnection():e.toggleLogin()},children:[" ",t.connected?Object(g.jsx)(d.c,{size:25,color:o}):Object(g.jsx)(d.b,{size:25,color:o})," "]})}),Object(g.jsx)(r.a,{title:"Labels",children:Object(g.jsx)("li",{onClick:e.toggleShowTags,children:Object(g.jsx)(i.b,{size:25,color:h})})}),Object(g.jsx)(r.a,{title:"Cam",children:Object(g.jsx)("li",{onClick:e.toggleCam,children:Object(g.jsx)(l.a,{size:26,color:u})})}),Object(g.jsx)(r.a,{title:"Beam Path",children:Object(g.jsx)("li",{onClick:e.toggleShowBeam,children:Object(g.jsx)(j.a,{size:25,color:x})})}),Object(g.jsx)(r.a,{title:"Light Source",children:Object(g.jsx)("li",{onClick:e.toggleHandleLightSource,children:Object(g.jsx)(i.a,{size:24,color:f})})}),Object(g.jsx)(r.a,{title:"Manual",children:Object(g.jsx)("li",{onClick:e.toggleShowManualWindow,children:Object(g.jsx)(s.b,{size:26,color:O})})}),Object(g.jsx)(r.a,{title:"Info",children:Object(g.jsx)("li",{onClick:e.toggleShowInfoWindow,children:Object(g.jsx)(s.a,{size:26,color:m})})})]})})]})})};t.a=Object(u.memo)(x,m.isEqual)},248:function(e,t,o){"use strict";var n=o(19),s=o(249),c=o(85),a=o.n(c),r=o(1),i=o(28),l=o(2);const d=()=>{const[e,t]=Object(r.useState)(!1),[o,c]=Object(r.useState)(""),i=Object(n.b)();return Object(l.jsxs)("div",{className:a.a.consoleContainer+" "+o,children:[Object(l.jsx)("div",{className:a.a.consoleMain,children:i.logs.map(((e,t)=>Object(l.jsxs)("span",{children:[e,Object(l.jsx)("br",{})]},t)))}),Object(l.jsx)("div",{className:a.a.consoleHandler,children:Object(l.jsx)("span",{children:Object(l.jsx)(s.a,{size:35,onClick:()=>{c(e?a.a.closeConsole:a.a.openConsole),t(!e)}})})})]})};t.a=Object(r.memo)(d,i.isEqual)},250:function(e,t,o){"use strict";var n=o(166),s=o(260),c=o(405),a=o(259),r=o(402),i=o(251),l=o.n(i),d=o(33),j=o(18),h=o(19),b=o(252),p=o.n(b),u=o(1),m=o(125),g=o.n(m),x=o(28),O=o(2);const f=()=>{const e=[{title:"http://localhost:3000"},{title:"https://xrtl-fu.uni-jena.de"}],[t,o]=Object(u.useState)(""),[i,b]=Object(u.useState)(""),[m,x]=Object(u.useState)(""),f=Object(j.b)(),w=Object(h.b)(),v=()=>{if(""!==m)try{f.setNewURL(String(t),String(m)),f.toggleConnection(String(m),String(i)),w.toggleLogin()}catch(e){}},S=t=>{x(t.target.value),o(e[1].title)},y=e=>{b(e.target.value)};return w.showLogin?Object(O.jsxs)(n.a,{theme:d.b,children:[Object(O.jsx)("div",{className:g.a.popupWindow}),Object(O.jsxs)("div",{className:g.a.popupInner,children:[Object(O.jsx)("h3",{title:"settings",children:"Login"}),Object(O.jsx)("div",{className:g.a.close,children:Object(O.jsx)(s.a,{onClick:e=>{w.toggleLogin()},children:Object(O.jsx)(l.a,{fontSize:"large"})})}),Object(O.jsxs)(c.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(O.jsx)(a.a,{autoFocus:!0,variant:"outlined",label:"Username ",value:m,onChange:S,onKeyPress:e=>{"Enter"===e.key&&v()},style:{marginLeft:"0%",width:"200px",paddingRight:"25%"},error:""===m,helperText:""===m?"Enter your username!":" "}),Object(O.jsx)(a.a,{variant:"outlined",label:"Access code ",value:i,onChange:y,onKeyPress:e=>{"Enter"===e.key&&v()},style:{marginLeft:"0%",width:"200px",paddingRight:"25%"},error:""===i,helperText:""===i?"Enter the access code!":" "})]}),Object(O.jsx)(r.a,{size:"small",type:"submit",variant:"contained",onClick:v,endIcon:Object(O.jsx)(p.a,{}),style:{width:"20%",height:"15%"},children:"Login"})]})]}):Object(O.jsx)("div",{})};t.a=Object(u.memo)(f,x.isEqual)},253:function(e,t,o){"use strict";var n=o(166),s=o(408),c=o(403),a=o(406),r=o(409),i=o(260),l=o(18),d=o(33),j=o(19),h=o(1),b=o(70),p=o.n(b),u=o(68),m=o(48),g=o(28),x=o(2);const O=()=>{const[e,t]=Object(h.useState)(!1),[o,b]=Object(h.useState)(""),[g,O]=Object(h.useState)(""),[f,w]=Object(h.useState)([]),v=Object(l.b)(),S=Object(j.b)();Object(h.useEffect)((()=>{const e=e=>{w([...f,e])};return v.socket.on("message",e),()=>{v.socket.removeAllListeners("message",e)}}),[v,f]);const y=async e=>{if(e.preventDefault(),"!"===g.at(0))if("!rotate"===g||"!r"===g)S.toggleAutoRotate(),w([...f,{userId:"XRTL",message:"Rotation command was sent ... ",color:"#FF7373"}]);else if("!construction"===g||"!c"===g)S.toggleunderConstruction(!S.underConstruction),v.socket.emit("underConstruction",!S.underConstruction),w([...f,{userId:"XRTL",message:"Under construction is now set to "+!S.underConstruction,color:"#FF7373"}]);else if("!user"===g||"!users"===g)v.socket.emit("updateUser"),v.socket.on("updateUser",(e=>{var t="";console.log(e);for(var o=1;o<e.length;o+=2)t+=e[o]+", ";t=t.slice(0,-2),w([...f,{userId:"XRTL",message:"List of all connected user/s: "+t,color:"#FF7373"}])}));else if("!component"===g||"!components"===g)v.socket.emit("updateComponents"),v.socket.on("updateComponents",(e=>{if(0===e.length)w([...f,{userId:"XRTL",message:"No components are connected to the server! ",color:"#FF7373"}]);else{for(var t="",o=1;o<e.length;o+=2)t+=e[o]+", ";t=t.slice(0,-2),w([...f,{userId:"XRTL",message:"List of all connected components: "+t,color:"#FF7373"}])}}));else if("!reset"===g){v.socket.emit("message",{userId:"XRTL",message:"Attention the reset command was emited!",color:"#FF7373"});const e=["KM100_top_1","KM100_bottom_1","linear_1","greenlaser_top_1","greenlaser_bottom_1","beamSplitter"];for(var t=0;t<e.length;t++)v.socket.emit("command",{userId:v.username,controlId:e[t],reset:!0})}else"!cam"===g?(v.socket.emit("command",{userId:"XRTL",controlId:"overview",frameSize:10}),v.socket.emit("command",{userId:"XRTL",controlId:"overview",exposure:800,color:v.fontColor}),v.socket.emit("command",{userId:"XRTL",controlId:"overview",contrast:1,color:v.fontColor}),v.socket.emit("command",{userId:"XRTL",controlId:"overview",exposure:1200,color:v.fontColor}),w([...f,{userId:"XRTL",message:"The highest camera settings have been made!",color:"#FF7373"}])):w([...f,{userId:"XRTL",message:"Command doesn't exists",color:"#FF7373"}]);else g.length>0&&0!==g.replace(/\s/g,"").length&&v.socket.emit("message",{userId:v.username,message:g,color:v.fontColor});O("")};return Object(x.jsxs)("div",{className:p.a.chatContainer+" "+o,children:[Object(x.jsx)("div",{className:p.a.chatMain,children:f.map(((e,t)=>Object(x.jsxs)("b",{children:[Object(x.jsxs)("span",{style:{color:e.color},children:[" ",e.userId,":"]})," ",Object(x.jsx)("span",{children:e.message}),Object(x.jsx)("br",{})]},t)))}),Object(x.jsx)("form",{className:p.a.msgForm,children:Object(x.jsx)(n.a,{theme:d.a,children:Object(x.jsxs)(s.a,{sx:{marginLeft:-4,width:1,paddingTop:1},variant:"outlined",children:[Object(x.jsx)(c.a,{htmlFor:"outlined-adornment-password",children:"Message  "}),Object(x.jsx)(a.a,{onKeyPress:e=>{"Enter"===e.key&&y(e)},onChange:e=>{O(e.target.value)},value:g,endAdornment:Object(x.jsx)(r.a,{position:"end",children:Object(x.jsxs)(i.a,{onClick:y,edge:"end",children:[" ",Object(x.jsx)(m.f,{})," "]})}),label:"Message"})]})})}),Object(x.jsx)("div",{className:p.a.chatHandler+" "+o,children:Object(x.jsx)("span",{children:Object(x.jsx)(u.a,{size:35,onClick:()=>{b(e?p.a.closeChat:p.a.openChat),t(!e)}})})})]})};t.a=Object(h.memo)(O,g.isEqual)},254:function(e,t,o){"use strict";var n=o(95),s=o(33),c=o(166),a=o(58),r=o.n(a),i=o(473),l=o(402),d=o(2);var j=e=>Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:r.a.mainWrapper,style:{height:e.height},children:[Object(d.jsx)("p",{children:"The editorial responsibility for this application lies with the Executive Office of the Abbe Center of Photonics and it's representative/s."}),Object(d.jsx)("p",{children:"For further information please follow the links:"}),Object(d.jsx)(c.a,{theme:s.b,children:Object(d.jsxs)(i.a,{sx:{"& button":{mr:5,ml:3}},children:[Object(d.jsx)(l.a,{type:"submit",variant:"contained",onClick:()=>{window.open("https://www.asp.uni-jena.de/legal-notice","resizable=yes")},children:" Legal Notice "}),Object(d.jsx)(l.a,{type:"submit",variant:"contained",onClick:()=>{window.open("https://www.uni-jena.de/en/privacy-statement","resizable=yes")},children:" Privacy Statement "})]})})]})});var h=e=>Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:r.a.mainWrapper,style:{height:e.height},children:Object(d.jsx)("p",{children:"The laser power supply provides the electrical energy necessary to excite the laser medium and generate the coherent beam of light. The laser module here is a class 3 laser, which requires a protective eyewear."})})});var b=e=>Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:r.a.mainWrapper,style:{height:e.height},children:Object(d.jsx)("p",{children:"This retroreflector mounted on the linear translation stage together with the prism forms an optical delay line."})})});var p=e=>Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:r.a.mainWrapper,style:{height:e.height},children:Object(d.jsx)("p",{children:"The beam splitter is a partially reflective surface that splits the incoming beam of light into two separate beams. This plate beam splitter transmits about 90 percent of the incident laser light and reflects the other 10 percent."})})});var u=e=>{const t={info:Object(d.jsx)(j,{height:e.height}),relay_laser:Object(d.jsx)(h,{height:e.height}),stepper_linear1:Object(d.jsx)(b,{height:e.height}),beamSplitter:Object(d.jsx)(p,{height:e.height})};return Object(d.jsx)("div",{children:t[e.component]})},m=o(18),g=o(60),x=o(19),O=o(48),f=o(44),w=o.n(f),v=o(68),S=o(239),y=o.n(S),C=o(1),_=o(28);const k=e=>{const[t,o]=Object(C.useState)(!1!==e.info),[s,c]=Object(C.useState)(e.lastChange),[a,r]=Object(C.useState)("Initializing... "),[i,l]=Object(C.useState)(""),j=Object(m.b)(),h=Object(g.b)(),b=Object(x.b)(),p={para:Object(d.jsx)(v.d,{className:w.a.icon,size:24}),info:Object(d.jsx)(n.b,{className:w.a.iconClose,size:30}),setting:Object(d.jsx)(n.c,{className:w.a.iconClose,size:30}),none:Object(d.jsx)(n.c,{className:w.a.icon,size:25,color:"#01bd7d"})};Object(C.useEffect)((()=>{"none"===e.topper?l("none"):"para"===e.topper?l("para"):void 0===e.topper&&l("info");const t=t=>{if("none"!==e.footer&&e.componentList.includes(t.controlId)){r(String(t.status));var o=new Date;c([o.getHours(),o.getMinutes(),o.getSeconds(),o.getDay(),o.getMonth()])}},o=t=>{if("none"!==e.footer&&e.componentList.includes(t.controlId)){r(String(t.status));var o=new Date;c([o.getHours(),o.getMinutes(),o.getSeconds(),o.getDay(),o.getMonth()])}};return j.socket.on("footer",t),j.socket.on("getFooter",o),()=>{j.socket.removeAllListeners("footer",t),j.socket.removeAllListeners("getFooter",o)}}),[j.socket]);return Object(d.jsx)(y.a,{handle:".draggableHandler",children:Object(d.jsxs)("div",{className:w.a.window,style:{top:e.top+"px",left:e.left+"px",width:e.height+"px",height:e.height+"px"},children:[Object(d.jsxs)("div",{className:w.a.windowHeader,children:[Object(d.jsx)("span",{className:"draggableHandler",style:{display:"block",width:"calc(100% - 70px)",cursor:"move",float:"left"},children:e.header}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{onClick:()=>{o(!t),"screen"===e.id&&!0===b.smallSetting&&b.smallSettings(),"info"===e.id?l("para"===i?"info":"para"):l("info"===i?"setting":"info")},children:p[i]}),Object(d.jsx)("span",{onClick:()=>{b.toggleSelectedComp(e.id),"overview"===e.id&&b.toggleCam(),"info"===e.id&&b.toggleShowInfoWindow(),"welcome"===e.id&&b.toggleShowWelcomeWindow(),"manual"===e.id&&b.toggleShowManualWindow()},children:Object(d.jsx)(n.a,{className:w.a.iconClose,size:30})})]})]}),t?Object(d.jsx)("div",{className:w.a.windowContent,style:{height:e.height,width:e.width,background:"url("+e.background+")"},children:e.children}):Object(d.jsx)("div",{className:w.a.windowContent,style:{height:e.height,width:e.width},children:Object(d.jsx)(u,{height:e.height,component:e.id})}),"none"!==e.footer?Object(d.jsxs)("div",{className:w.a.windowFooter,children:[Object(d.jsxs)("span",{onClick:()=>{var t=new Date;let o,n,c=0;var a="";t=[t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()],""===s[0]?a="No last change detected!":t[0]>s[0]?(o=t[0]-s[0],a="Last change is more than "+o+" h ago!"):t[0]===s[0]&&t[1]===s[1]&&t[2]>s[2]?(c=t[2]-s[2],a="Last change is "+c+" s ago!"):t[0]===s[0]&&t[1]>s[1]?(n=t[1]-s[1],a="Last change is more than "+n+" min ago!"):a=t[3]>s[3]||t[4]>s[4]?"Last change is more than 24 h ago!":"No last change detected!",h.toggleShowPopUp(a,"info"),j.socket.emit("command",{controlId:e.componentList[0],identify:3e3,color:j.fontColor})},children:[" ",Object(d.jsx)(O.e,{size:25})]}),Object(d.jsx)("label",{children:a})]}):Object(d.jsx)("div",{})]})})};var I=Object(C.memo)(k,_.isEqual);var L=e=>Object(d.jsx)(I,{id:e.controlId,header:e.title,top:e.top,left:e.left,height:"240px",width:"250px",footer:"none",topper:"none",info:!1}),M=o.p+"static/media/BS_outline.1d0dd4bd.png",T=o(474),P=o(472),R=o(475),N=o(468);var F=e=>{const[t,o]=Object(C.useState)(!1),n=Object(x.b)(),s=Object(m.b)();return Object(d.jsx)(i.a,{children:Object(d.jsx)(T.a,{children:Object(d.jsxs)(P.a,{direction:"row",alignItems:"center",sx:{ml:2},children:[Object(d.jsx)(R.a,{children:e.left}),Object(d.jsx)(N.a,{checked:e.switchStatus,onChange:(c,a)=>{o(a),s.socket.emit("command",{userId:s.username,controlId:e.component,[e.option]:a,color:s.fontColor}),s.socket.emit("footer",{status:"Used by: "+s.username.substring(0,17),controlId:e.component}),n.addLog("User set switch on "+e.component+" to "+t)},inputProps:{"aria-label":"controlled"},disabled:!s.connected||!e.online}),Object(d.jsx)(R.a,{children:e.right})]})})})};var W=e=>{const[t,o]=Object(C.useState)(!1),[n,a]=Object(C.useState)(!0),r=Object(m.b)();return Object(C.useEffect)((()=>{const t=t=>{t.controlId===e.component&&(a(!0),90===t.status.absolute?o(!0):o(!1))};return r.socket.emit("command",{userId:r.username,controlId:e.component,getStatus:!0}),r.socket.emit("getFooter",e.component),r.socket.on("status",t),()=>{r.socket.removeAllListeners("status",t)}}),[r.socket]),Object(d.jsx)(c.a,{theme:s.a,children:Object(d.jsx)("div",{style:{position:"absolute",width:"120px",height:"40px",border:"2px solid #00ffa8",borderRadius:"50px",textAlign:"center",top:"200px",left:"10px"},children:Object(d.jsx)(i.a,{sx:{ml:"-4px"},children:Object(d.jsx)(F,{component:e.component,switchStatus:t,online:n,left:"Off",right:"On",option:"binaryCtrl"})})})})};var B=e=>Object(d.jsx)(I,{id:e.controlId,componentList:[e.controlId],header:e.title,top:e.top,left:e.left,height:"240px",width:"250px",background:M,children:Object(d.jsx)(W,{component:e.controlId})}),E=o.p+"static/media/PS_outline.a7b7cf84.png";var A=e=>{const[t,o]=Object(C.useState)(!1),[n,a]=Object(C.useState)(!1),r=Object(m.b)();return Object(C.useEffect)((()=>{const t=t=>{t.controlId===e.component&&(o(!0),a(t.status.isOn))};return r.socket.emit("command",{userId:r.username,controlId:e.component,getStatus:!0}),r.socket.emit("getFooter",e.component),r.socket.on("status",t),()=>{r.socket.removeAllListeners("status",t)}}),[r.socket]),Object(d.jsx)(c.a,{theme:s.a,children:Object(d.jsx)("div",{style:{position:"absolute",width:"120px",height:"40px",border:"2px solid #00ffa8",borderRadius:"50px",textAlign:"center",top:"40px",left:"10px"},children:Object(d.jsx)(i.a,{sx:{ml:"-4px"},children:Object(d.jsx)(F,{component:e.component,online:t,switchStatus:n,left:"Off",right:"On",option:"switch"})})})})};var z=e=>Object(d.jsx)(I,{id:e.id,componentList:[e.controlId],header:e.title,top:e.top,left:e.left,height:"240px",width:"250px",background:E,children:Object(d.jsx)(A,{component:e.controlId})}),D=o.p+"static/media/km100_outline.5cffd463.png",X=o(96),U=o.n(X);var H=e=>{const[t,o]=Object(C.useState)(0),[n,s]=Object(C.useState)(!1),[c,a]=Object(C.useState)(0);var r;const i=Object(x.b)(),l=Object(g.b)(),j=Object(m.b)();Object(C.useEffect)((()=>{const t=t=>{t.controlId===e.component&&(s(!0),a(t.status.absolute),t.status.busy?s(!1):s(!0))};return j.socket.emit("command",{userId:j.username,controlId:e.component,getStatus:!0}),j.socket.emit("getFooter",e.component),j.socket.on("status",t),()=>{j.socket.removeAllListeners("status",t)}}),[j.socket]);const h=o=>n=>{n.preventDefault(),r=0,0!==(r="left"===o?-1*Number(t):Number(t))?(j.socket.emit("command",{userId:j.username,controlId:e.component,move:r,color:j.fontColor}),j.socket.emit("footer",{status:"Used by: "+j.username.substring(0,17),controlId:e.component})):l.toggleShowPopUp("Only values greater than 0 can be entered!","warning"),i.addLog("User initiated CW rotation on "+e.component+" by "+t+" steps.")};return Object(d.jsxs)("form",{className:U.a.rotaryCtrl,style:{top:e.top+"px",left:e.left+"px"},children:[Object(d.jsxs)("div",{className:U.a.rotaryCtrl,children:[Object(d.jsx)("span",{children:Number(c)}),Object(d.jsx)("input",{type:"number",min:"0",max:"100",value:t,onChange:e=>{e.target.value>-1&&o(e.target.value)}})]}),Object(d.jsx)("button",{onClick:h("left"),className:U.a.CtrlLeft,disabled:!j.connected||!n,children:Object(d.jsx)(O.c,{size:28})}),Object(d.jsx)("button",{onClick:h("right"),className:U.a.CtrlRight,disabled:!j.connected||!n,children:Object(d.jsx)(O.d,{size:28})})]})};var K=e=>Object(d.jsxs)(I,{id:e.id,componentList:[e.controlIdBottom,e.controlIdTop],header:e.title,top:e.top,left:e.left,height:"240px",width:"250px",background:D,children:[Object(d.jsx)(H,{component:e.controlIdTop,top:"20",left:"160"}),Object(d.jsx)(H,{component:e.controlIdBottom,top:"50",left:"160"})]}),q=o.p+"static/media/XR50P_outline.84994168.png";var V=e=>Object(d.jsx)(I,{id:e.controlId,componentList:[e.controlId],header:e.title,top:e.top,left:e.left,width:"250px",height:"235px",background:q,children:Object(d.jsx)(H,{component:e.controlId,top:"35",left:"160"})});var J=e=>{let t="Initializing...";return Object(d.jsxs)("div",{children:[e.selected.has("KM100B_1")&&Object(d.jsx)(K,{title:"Prism Mount",id:"KM100B_1",controlIdTop:"KM100B_top_1",controlIdBottom:"KM100B_bottom_1",footer:t,top:600,left:920}),e.selected.has("stepper_linear1")&&Object(d.jsx)(V,{title:"Linear Stage",controlId:"stepper_linear1",footer:t,top:600,left:100}),e.selected.has("redlaser_1")&&Object(d.jsx)(K,{title:"Laser Alignment",id:"redlaser_1",controlIdTop:"redlaser_top_1",controlIdBottom:"redlaser_bottom_1",footer:t,top:450,left:1600}),e.selected.has("relay_laser")&&Object(d.jsx)(z,{title:"Power Supply",id:"relay_laser",controlId:"relay_laser",footer:t,top:50,left:1600}),e.selected.has("beamSplitter")&&Object(d.jsx)(L,{title:"Beam Splitter",controlId:"beamSplitter",footer:t,top:50,left:150}),e.selected.has("servo_screen")&&Object(d.jsx)(B,{title:"Retractable Screen",controlId:"servo_screen",footer:t,top:50,left:150})]})},Y=o(240),G=o.n(Y);var Q=e=>{const t=Object(m.b)(),o=Object(x.b)();return Object(C.useEffect)((()=>{var n;const s=t=>{if(t.controlId===e.component){for(var o=new Uint8Array(t.data),s="",c=0;c<o.length;c++)s+=String.fromCharCode(o[c]);var a=window.btoa(s),r=new Image;r.onload=function(){var t=document.getElementById(e.component);n=t.getContext("2d"),0,0,600,400,n.drawImage(this,0,0,600,400)},r.src="data:image/jpg;base64,"+a}};return o.toogleRoomComp(e.component,!0),t.socket.on("data",s),()=>{t.socket.removeAllListeners("data",s)}}),[t.socket]),Object(d.jsx)("div",{className:G.a.Canvas,children:Object(d.jsx)("canvas",{id:e.component,width:e.width,height:e.height,style:e.style})})};var Z=e=>{const t=Object(m.b)();return Object(C.useEffect)((()=>{document.getElementById(e.component).style.transform="rotate(180deg)";const o=t=>{t.controlId,e.component};return t.socket.emit("command",{userId:t.username,controlId:e.component,getStatus:!0}),t.socket.emit("getFooter",e.component),t.socket.on("status",o),()=>{t.socket.removeAllListeners("status",o)}}),[t.socket]),Object(d.jsx)(Q,{component:e.component,width:e.width,height:e.height,style:{borderRadius:"5px",backgroundSize:"cover",top:30}})};var $=()=>{var e=window.innerWidth,t=0;return 0<e&&e<576?(e="350px",t="260px"):576<e&&e<768?(e="510px",t="340px"):(e="600px",t="400px"),Object(d.jsx)(I,{header:"Top View of Experiment",top:"200",left:"650",id:"overview",componentList:["overview"],width:e,height:t,footer:"none",topper:"none",children:Object(d.jsx)(Z,{component:"overview",width:e,height:t})})},ee=o(241),te=o.n(ee),oe=o.p+"static/media/xrtl_team.9c8d8d7c.png";var ne=()=>Object(d.jsxs)("div",{className:te.a.mainWrapper,style:{backgroundImage:'url("'+oe+'")'},children:["Remote labs represent a groundbreaking approach to science education and collaboration, facilitating communication and experimentation from afar. However, creating remote access capabilities can be prohibitively expensive or technically challenging, particularly for non-IT and non-engineering disciplines. To make remote labs accessible across all fields, we need a user-friendly platform that enables researchers, assistants, and technical staff to implement them independently. To that end, we are proud to present XR TwinLab (XRTL), an open-source toolbox designed specifically for the field of Photonics. With its modular structure XRTL offers a flexible, web-based application for controlling optical experimental setups. This exciting project is currently being developed by the esteemed Abbe School of Photonics and the Open Makerspace Lichtwerkstatt Jena. Feel free to follow our ",Object(d.jsx)("a",{href:"https://github.com/Lichtwerkstatt/XRTL_SPA",children:"Git Repo"})," or ",Object(d.jsx)("a",{href:"mailto:team@lichtwerkstatt-jena.de",children:"Contact us."}),Object(d.jsx)("p",{children:"Best! Clara, Fabian, Falko, Jari and Johannes"})]});var se=()=>{var e=window.innerWidth,t=0;return 0<e&&e<576?(e="350px",t="650px"):(e="600px",t="517px"),Object(d.jsx)(I,{header:"About XR TwinLab",id:"info",top:"200",left:"200",width:e,height:t,footer:"none",topper:"para",children:Object(d.jsx)(ne,{})})},ce=o(242),ae=o.n(ce),re=o(159),ie=o.n(re),le=o(158),de=o.n(le),je=o(469),he=o(30);var be=e=>{const t=Object(he.a)(),o=Object(x.b)(),[n,s]=Object(C.useState)(1===o.manualPage?1:o.manualPage),[c,a]=Object(C.useState)(1===o.manualPage?e.buttonValue:o.manualPage+e.buttonValue-1);Object(C.useEffect)((()=>{1!==o.manualPage&&(document.getElementById(String(e.buttonValue)).style.display="none",document.getElementById(String(o.manualPage+e.buttonValue-1)).style.display="block")}),[]);return Object(d.jsx)(je.a,{variant:"progress",steps:e.length+1,position:"static",activeStep:n,sx:{width:"97%",flexGrow:1,top:"90%",position:"absolute",background:"transparent"},nextButton:Object(d.jsxs)(l.a,{size:"small",onClick:()=>{s((e=>e+1)),a((e=>e+1)),document.getElementById(String(c)).style.display="none",document.getElementById(String(c+1)).style.display="block",e.component&&o.toggleSetManualPage(n+1)},disabled:n===e.length,children:[e.right,"rtl"===t.direction?Object(d.jsx)(de.a,{}):Object(d.jsx)(ie.a,{})]}),backButton:Object(d.jsxs)(l.a,{size:"small",onClick:()=>{s((e=>e-1)),a((e=>e-1)),document.getElementById(String(c)).style.display="none",document.getElementById(String(c-1)).style.display="block",e.component&&o.toggleSetManualPage(n-1)},disabled:1===n,children:["rtl"===t.direction?Object(d.jsx)(ie.a,{}):Object(d.jsx)(de.a,{}),e.left]})})};var pe=()=>Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:ae.a.mainWrapper,children:[Object(d.jsxs)("div",{id:"10",children:[Object(d.jsx)("b",{children:"1. \xa0 Introduction"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:["Welcome to our remote-controlled ",Object(d.jsx)("b",{children:"Michelson\xa0Interferometer"}),"! Today, we'll explore various physical effects and phenomena. Remember, this manual serves as a guide, and users can follow their own exploration path based on their interests and objectives. Enjoy your journey through the fascinating world of Michelson interferometry!"]}),Object(d.jsx)("br",{}),Object(d.jsxs)("li",{children:["Discover who is currently engaged in experimentation with you at the ",Object(d.jsx)("b",{children:"XRTL\xa0Showcase"}),". Simply type ",Object(d.jsx)("i",{children:'"!users"'})," in the chat (pinned on the left edge) to unveil the answer. You can communicate with them via the chat."]}),Object(d.jsx)("br",{}),Object(d.jsxs)("li",{children:["Discover who is currently engaged in experimentation with you at the ",Object(d.jsx)("b",{children:"XRTL\xa0Showcase"}),". You can simply communicate with them via the chat (pinned on the left edge)."]})]})]}),Object(d.jsxs)("div",{id:"11",style:{display:"none"},children:[Object(d.jsx)("b",{children:"2. \xa0 Overview"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:["Initiate your experiment by gaining an overview. Begin by accessing the live camera feed through the menu located at the top right corner. From there, you can observe the current state of the experimental setup in our showcase at the ",Object(d.jsx)("b",{children:"Abbe\xa0School\xa0of\xa0Photonics"}),". Take note of the visible components and compare them with those displayed in the 3D model.",Object(d.jsx)("br",{})," Can you identify all of them?"]}),Object(d.jsx)("br",{}),Object(d.jsx)("li",{children:"Familiarize yourself with the user interface, including the power supply, mirror controls and beam splitter options. Simply tap on the individual components to display the respective control window."})]})]}),Object(d.jsxs)("div",{id:"12",style:{display:"none"},children:[Object(d.jsx)("b",{children:"3.a \xa0 Laser"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("ul",{})]})]}),Object(d.jsx)(c.a,{theme:s.a,children:Object(d.jsx)(be,{left:"Back",right:"Next",buttonValue:10,length:3,component:"manual"})})]});var ue=()=>{var e=window.innerWidth,t=0;return 0<e&&e<576?(e="350px",t="480px"):(e="510px",t="440px"),Object(d.jsx)(I,{header:"XR TwinLab - Adaptive Optic",id:"manual",top:"100",left:"1000",width:e,height:t,footer:"none",topper:"none",children:Object(d.jsx)(pe,{})})};const me=()=>{const e=Object(m.b)(),t=Object(g.b)(),o=Object(x.b)();return Object(C.useEffect)((()=>{const n=o=>{t.toggleShowPopUp("Connection successful!","success"),e.socket.emit("userId",e.username),e.setConnected(!0),e.setFontColor(o)},s=e=>{o.toggleunderConstruction(e)},c=()=>{e.setConnected(!1),t.toggleShowPopUp("To many user are connected right now!","warning")};return e.socket.on("AuthFailed",c),e.socket.on("Auth",n),e.socket.on("underConstruction",s),""!==e.username&&t.toggleShowPopUp("No server connection!","error"),()=>{e.socket.removeAllListeners("underConstruction",s),e.socket.removeAllListeners("AuthFailed",c),e.socket.removeAllListeners("Auth",n)}}),[e.socket]),Object(d.jsxs)(C.Fragment,{children:[o.showInfoWindow&&Object(d.jsx)(se,{}),o.showCam&&Object(d.jsx)($,{}),o.showManualWindow&&Object(d.jsx)(ue,{}),Object(d.jsx)(J,{selected:o.selectedComps})]})};t.a=Object(C.memo)(me,_.isEqual)},255:function(e,t,o){"use strict";var n=o(470),s=o(463),c=o(461),a=o(28),r=o(1),i=o(2);const l=e=>{const t={color:"white",width:"200px",height:"50px",position:"absolute",left:e.position.x+"px",top:e.position.y+"px",transform:"translateY(-100px)"};return Object(i.jsxs)(c.a,{position:e.position,style:t,zIndexRange:[0,10],children:[Object(i.jsx)("div",{style:{height:"100px",width:"0px",borderLeft:"2px solid white",float:"left"}}),Object(i.jsxs)("div",{style:{marginLeft:"12px"},children:[Object(i.jsx)("span",{children:Object(i.jsx)("b",{children:e.title})}),Object(i.jsx)("br",{}),e.description,Object(i.jsx)("br",{}),e.status]})]})};var d=Object(r.memo)(l,a.isEqual),j=o(462);function h({...e}){const t=Object(r.useRef)();return Object(i.jsxs)("group",{ref:t,...e,dispose:null,children:[Object(i.jsxs)("group",{name:"BSslim",onPointerDown:t=>{t.stopPropagation(),e.toggleSelect("pinhole")},children:[e.showTags&&Object(i.jsx)(d,{position:[0,.2,0],title:"Pinhole",description:"DESCRIPTION"}),Object(i.jsx)(j.a,{position:[0,0,0],args:[2,2,.01],scale:[.25,.25,.25],children:e.selected.has("pinhole")?Object(i.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(i.jsx)("meshStandardMaterial",{color:"#ffffff",opacity:.5})})]}),Object(i.jsxs)("group",{name:"Mirror1",position:[-1,-1,0],onPointerDown:t=>{t.stopPropagation(),e.toggleSelect("KM100B_1")},children:[e.showTags&&Object(i.jsx)(d,{position:[0,.2,0],title:"Reference Mirror",description:"KM100 B Double Rotary Control"}),Object(i.jsx)(j.a,{args:[2,2,.01],scale:[.25,.25,.25],children:e.selected.has("KM100B_1")?Object(i.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(i.jsx)("meshStandardMaterial",{color:"#ffffff",opacity:.5})})]}),Object(i.jsxs)("group",{name:"TranslateMirror",position:[-2,0,0],onPointerDown:t=>{t.stopPropagation(),e.toggleSelect("linear_1")},children:[e.showTags&&Object(i.jsx)(d,{position:[0,.2,0],title:"Linear Movable Mirror",description:"SM1ZP/M Translation Mount"}),Object(i.jsx)(j.a,{args:[2,2,.01],scale:[.25,.25,.25],children:e.selected.has("linear_1")?Object(i.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(i.jsx)("meshStandardMaterial",{color:"#ffffff",opacity:.5})})]}),Object(i.jsxs)("group",{name:"Schirm",position:[-1,1,0],onPointerDown:t=>{t.stopPropagation(),e.toggleSelect("rotaryStage_1")},children:[e.showTags&&Object(i.jsx)(d,{position:[0,.2,0],title:"Rotary Stage",description:"PR01/M Rotation Stage"}),Object(i.jsx)(j.a,{args:[2,2,.01],scale:[.25,.25,.25],children:e.selected.has("rotaryStage_1")?Object(i.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(i.jsx)("meshStandardMaterial",{color:"#ffffff",opacity:.5})})]}),Object(i.jsxs)("group",{name:"Laser",position:[2,0,0],onPointerDown:t=>{t.stopPropagation(),e.toggleSelect("redlaser_1")},children:[e.showTags&&Object(i.jsx)(d,{position:[0,.2,0],title:"Laser Alignment",description:"KM100 Double Rotary Control"}),Object(i.jsx)(j.a,{args:[2,2,.01],scale:[.25,.25,.25],children:e.selected.has("redlaser_1")?Object(i.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(i.jsx)("meshStandardMaterial",{color:"#ffffff",opacity:.5})})]}),Object(i.jsxs)("group",{name:"SD5",position:[2,1,0],onPointerDown:t=>{t.stopPropagation(),e.toggleSelect("redlaserPower_1")},children:[e.showTags&&Object(i.jsx)(d,{position:[0,.2,0],title:"Power Supply",description:"5V Laser Power Supply"}),Object(i.jsx)(j.a,{args:[2,2,.01],scale:[.25,.25,.25],children:e.selected.has("redlaserPower_1")?Object(i.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(i.jsx)("meshStandardMaterial",{color:"#ffffff",opacity:.5})})]})]})}var b=Object(r.memo)(h,a.isEqual),p=o(18),u=o(19),m=o(31);t.a=(...e)=>{const t=Object(u.b)(),o=Object(p.b)();return Object(i.jsx)(m.a,{style:{position:"absolute",background:"linear-gradient(Teal, Black)",width:"100%",height:"100%"},colorManagement:!0,camera:{position:[0,0,5],fov:40},children:Object(i.jsxs)(r.Suspense,{fallback:null,children:[Object(i.jsx)(n.a,{files:"../hdri/autoshop.hdr"}),Object(i.jsx)(s.a,{children:Object(i.jsx)(b,{toggleSelect:t.toggleSelectedComp,selected:t.selectedComps,showTags:t.showTags,socket:o.socket})})]})})}},261:function(e,t,o){"use strict";o.r(t);var n=o(27),s=o.n(n),c=(o(1),o(234)),a=(o(392),o(2));s.a.render(Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(c.a,{})}),document.getElementById("root"))},277:function(e,t){},279:function(e,t){},293:function(e,t){},295:function(e,t){},323:function(e,t){},325:function(e,t){},326:function(e,t){},33:function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return c}));var n=o(126);const s=Object(n.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#01bd7d"}}}),c=Object(n.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#fff"}},spacing:2})},331:function(e,t){},333:function(e,t){},352:function(e,t){},364:function(e,t){},367:function(e,t){},392:function(e,t,o){},44:function(e,t,o){e.exports={window:"Window_window__3Tl7P",windowHeader:"Window_windowHeader__3sdoy",windowFooter:"Window_windowFooter__2UqYD",icon:"Window_icon__1XLwI",iconClose:"Window_iconClose__2xmrX"}},58:function(e,t,o){e.exports={mainWrapper:"Description_mainWrapper__1Wfx9"}},60:function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"a",(function(){return d}));var n=o(1),s=o(18),c=o(401),a=o(400),r=o(2);const i=Object(n.createContext)();function l(){return Object(n.useContext)(i)}function d({children:e}){const[t,o]=Object(n.useState)(!1),[l,d]=Object(n.useState)(""),[j,h]=Object(n.useState)("info"),b=Object(s.b)();b.socket.on("error",(e=>{o(!0),d(e.errmsg),h("error")})),b.socket.on("newUserInfo",(e=>{p(e+" has joined the experiment!","info")}));const p=(e,n)=>{d(e),h(n),o(!t)};return Object(r.jsxs)(i.Provider,{value:{showPopUp:t,toggleShowPopUp:p},children:[Object(r.jsx)(c.a,{open:t,autoHideDuration:2e3,onClose:(e,t)=>{"clickaway"!==t&&o(!1)},children:Object(r.jsx)("div",{style:{position:"fixed",top:"5.25%",right:"0.5%"},children:Object(r.jsx)(a.a,{variant:"filled",severity:j,onClose:()=>{o(!1)},children:l})})}),e]})}},70:function(e,t,o){e.exports={chatContainer:"Chat_chatContainer__1-A5c",chatMain:"Chat_chatMain__2MKlm",msgForm:"Chat_msgForm__Lzuye",chatHandler:"Chat_chatHandler__2PpcP",openChat:"Chat_openChat__1uPdw",closeChat:"Chat_closeChat__2CVMW",buttonBlink:"Chat_buttonBlink__2OdHF"}},85:function(e,t,o){e.exports={consoleContainer:"Console_consoleContainer__3bbjP",consoleMain:"Console_consoleMain__3VuoB",consoleHandler:"Console_consoleHandler__1f5Pp",openConsole:"Console_openConsole__2rHs7",closeConsole:"Console_closeConsole__3Ij_U"}},96:function(e,t,o){e.exports={rotaryCtrl:"RotaryCtrl_rotaryCtrl__1CVNa",CtrlLeft:"RotaryCtrl_CtrlLeft__LL-dY",CtrlRight:"RotaryCtrl_CtrlRight__2CpC6"}}},[[261,1,2]]]);
//# sourceMappingURL=main.84575727.chunk.js.map