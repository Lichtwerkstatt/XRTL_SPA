{"version":3,"sources":["components/UI/templates/ESPCam.js","components/UI/CSS/NavBar.module.css","components/Login/CSS/LoginWithAccessCode.module.css","services/AppContext.js","services/SocketContext.js","App.js","components/UI/CSS/Settings.module.css","components/windows/CSS/InfoWindowContent.module.css","components/experiment/ComponentDescription/CSS/ManualWindowContent.module.css","components/UI/experimentUI/NavBar.js","components/experiment/ComponentDescription/CSS/Description.module.css","components/Console/Console.js","components/Login/LoginWithAccessCode.js","components/Chat/Chat.js","components/experiment/QuantumCryptography/QuantumCryptography.js","components/UI/CtrlUnits/ESPCamWithoutSettings.js","components/experiment/ComponentDescription/ESPCam.js","components/experiment/ComponentDescription/KM100.js","components/experiment/ComponentDescription/PowerSupply.js","components/experiment/ComponentDescription/LaserCtrl.js","components/experiment/ComponentDescription/SM1ZP.js","components/experiment/ComponentDescription/LegalNotice.js","components/experiment/ComponentDescription/BeamSplitter.js","components/experiment/ComponentDescription/Cube.js","components/experiment/ComponentDescription/Lens.js","components/experiment/ComponentDescription/DescriptionHandler.js","components/UI/experimentUI/Window.js","components/windows/OverviewCamWindow.js","components/media/images/xrtl_team.png","components/windows/Content/InfoWindowContent.js","components/windows/InfoWindow.js","components/UI/templates/Stepper.js","components/experiment/ComponentDescription/ManualWindowContent.js","components/windows/ManualWindow.js","components/UI/experimentUI/ExperimentUILayer.js","components/experiment/QuantumCryptography/QC.js","components/experiment/2D Model/media/MI_2D.png","components/experiment/2D Model/2D_MI_Overlay.js","components/experiment/2D Model/media/Transparent.png","components/UI/experimentUI/VirtualLayer.js","index.js","components/UI/CSS/Window.module.css","components/UI/templates/Theme.js","components/Chat/CSS/Chat.module.css","services/PopUpContext.js","components/Console/CSS/Console.module.css"],"names":["ESPCam","props","socketCtx","useSocketContext","appCtx","useAppContext","useEffect","x2","y2","ctx","data","payload","controlId","component","uint8Arr","Uint8Array","binary","i","length","String","fromCharCode","base64String","window","btoa","img","Image","onload","canvas","document","getElementById","getContext","width","height","drawImage","this","src","toogleRoomComp","socket","on","removeAllListeners","className","styles","Canvas","id","style","module","exports","AppContext","React","createContext","useContext","AppContextProvider","children","underConstruction","setUnderConstruction","useState","showVirtualLayer","setShowVirtualLayer","roomComponent","setRoomComponent","Set","selectedComps","setSelectedComps","showInfoWindow","setShowInfoWindow","showManualWindow","setShowManual","showWelcomeWindow","setShowWelcome","lightSource","setLightSource","autoRotate","setAutoRotate","showLogin","setShowLogin","manualPage","setManualPage","welcomePage","setWelcomePage","showBeam","setShowBeam","showTags","setShowTags","showCam","setShowCam","username","setUsername","setSocket","logs","setLogs","toggleSelectedComp","compId","has","prev","filter","x","add","val","emit","userId","e","Provider","value","toggleAutoRotate","toggleShowVirtualLayer","addLog","log","toggleShowTags","toggleShowBeam","toggleLogin","toggleShowInfoWindow","toggleCam","toggleShowManualWindow","toggleShowWelcomeWindow","toggleunderConstruction","newVal","toggleSetManualPage","toggleSetWelcomePage","toggleHandleLightSource","switch","jwt","require","manager","Manager","autoConnect","SocketContext","SocketContextProvider","fontColor","setFontColor","connected","setConnected","URL","setURL","connect","disconnect","setNewURL","newURL","includes","toggleConnection","close","sub","token","sign","auth","App","process","title","NavBar","connectionStatusColor","showTagsColor","cameraStatusColor","showInfoWindowColor","showManualWindowColor","showBeamColor","showVirtualLayerColor","mobileVersion","setMobileVersion","openMobileVersion","Boolean","closeMobileVersion","navbar","theme","navMenu","onClick","size","color","mobile","event","currentTarget","variant","sx","borderRadius","bgcolor","MenuListProps","anchorEl","open","onClose","disableRipple","paddingRight","memo","isEqual","Console","showConsole","setShowConsole","animation","setAnimation","consoleContainer","consoleMain","map","index","consoleHandler","closeConsole","openConsole","Login","connectionOption","connection","setConnection","accessCode","setAccessCode","handleLogin","error","handleChange","target","handleAccessCode","themeLogin","popupWindow","popupInner","fontSize","container","direction","justifyContent","alignItems","autoFocus","label","onChange","onKeyPress","key","marginLeft","helperText","type","endIcon","Chat","showChat","setShowChat","message","setMessage","chat","setChat","sendMessage","async","preventDefault","at","user","slice","controlIds","reset","binaryCtrl","Promise","resolve","setTimeout","move","showCase","frameSize","gray","brightness","contrast","exposure","replace","chatContainer","chatMain","msgForm","paddingTop","htmlFor","endAdornment","position","edge","chatHandler","closeChat","openChat","QuantumCryptography","ESPCamWithoutSettings","transform","status","getStatus","backgroundSize","top","DescriptionESPCam","mainWrapper","DescriptionKM100","DescriptionLaser","DescriptionLaserCtrl","DescriptionSM1ZP","DescriptionCubeLegalNotice","ThemeProvider","Box","mr","ml","Button","DescriptionBeamSplitter","DescriptionCube","DescriptionLens","DescriptionHandler","renderOption","linear_1","SM1ZP","KM100_1","KM100","screen","greenlaser_1","LaserCtrl","greenlaserPower_1","PowerSupply","beamSplitter","BeamSplitter","bscube","Cube","lens","Lens","info","LegalNotice","Window","setInfo","lastChange","setLastChange","footer","setFooter","topper","setTopper","popupCtx","usePopUpContext","para","icon","iconClose","setting","none","innerHeight","innerWidth","undefined","Footer","componentList","time","Date","getHours","getMinutes","getSeconds","getDay","getMonth","getFooter","handle","parseInt","left","scaleComponenteWindowWidth","windowHeader","display","cursor","float","header","smallSetting","smallSettings","windowContent","background","windowFooter","timeNow","difH","difMin","difSec","alert","toggleShowPopUp","identify","CamWindow","InfoWindowContent","backgroundImage","bgTeam","href","InfoWindow","StepperCtrl","useTheme","activeStep","setActiveStep","buttonValue","setButtonValue","MobileStepper","steps","flexGrow","nextButton","prevActiveStep","disabled","right","backButton","ManualWindowContent","Stepper","ManualWindow","ExperimentUILayer","authFailed","selected","Model2d","group","useRef","ref","dispose","Overlay","hoveredArea","setHoveredArea","screen_width","screen_height","boxScaling","arrayToScale","hitbox_scaling","MAP","name","areas","shape","coords","desc","zIndex","margin","OfflineModel","area","toggleSelect","clicked","onMouseEnter","enterArea","onMouseLeave","lineWidth","strokeColor","center","VirtualLayer","colorManagement","softShadows","camera","fov","fallback","Environment","files","OrbitControls","ReactDOM","render","createTheme","palette","mode","primary","light","main","dark","contrastText","spacing","PopUpContext","PopUpContextProvider","showPopUp","setShowPopUp","text","setText","setType","errmsg","newText","newType","autoHideDuration","reason","severity"],"mappings":"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","file":"static/js/main.dece8e96.chunk.js","sourcesContent":["import { useSocketContext } from '../../../services/SocketContext';\r\nimport { useAppContext } from '../../../services/AppContext';\r\nimport styles from '../CSS/Settings.module.css'\r\nimport propTypes from \"prop-types\";\r\nimport { useEffect } from 'react';\r\n\r\n/**\r\n * ESPCam canvas component\r\n * \r\n * @description This component returns a canvas with the camera stream of an ESPCam. For this, the height and width \r\n * must be specified. In addition, changes to the styling can be transferred.\r\n * \r\n * @param {string} component - controlId \r\n * @param {string} width - Sets the width of the canvas in pixels\r\n * @param {string} height - Sets the height of the canvas in pixels\r\n * @param {string} style - additional styling of the canvas\r\n * \r\n * @returns {React.ReactElement} styled canvas with ESPCam stream\r\n */\r\nconst ESPCam = (props) => {\r\n    const socketCtx = useSocketContext();\r\n    const appCtx = useAppContext();\r\n    \r\n    useEffect(() => {\r\n        var x1, x2, y1, y2;\r\n        var ctx;\r\n        const data = (payload) => {\r\n            if (payload.controlId === props.component) {\r\n                var uint8Arr = new Uint8Array(payload.data);\r\n                var binary = '';\r\n                for (var i = 0; i < uint8Arr.length; i++) {\r\n                    binary += String.fromCharCode(uint8Arr[i]);\r\n                }\r\n                var base64String = window.btoa(binary);\r\n\r\n                var img = new Image();\r\n                img.onload = function () {\r\n                    var canvas = document.getElementById(props.component);\r\n\r\n                    ctx = canvas.getContext('2d');\r\n                    x1 = 0;\r\n                    y1 = 0;\r\n                    x2 = props.width;\r\n                    y2 = props.height;\r\n                    ctx.drawImage(this, x1, y1, x2, y2);\r\n                };\r\n                img.src = 'data:image/jpg;base64,' + base64String;\r\n            }\r\n        }\r\n        // A room is created for the component, into which the clients are then added when they open the corresponding window. By creating the room, the traffic caused by sending the \r\n        // stream should be reduced, as only the clients who really need the stream receive it.\r\n        appCtx.toogleRoomComp(props.component, true);\r\n\r\n        socketCtx.socket.on('data', data);\r\n\r\n        return () => {\r\n            socketCtx.socket.removeAllListeners('data', data)\r\n        }\r\n        //Comment needed to prevent a warning\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [socketCtx.socket]);\r\n\r\n    return (\r\n        <div className={styles.Canvas}>\r\n            <canvas id={props.component} width={props.width+'px'} height={props.height+'px'} style={props.style} />\r\n        </div>\r\n    )\r\n}\r\n\r\nESPCam.propTypes = {\r\n    component: propTypes.string.isRequired,\r\n    width: propTypes.string.isRequired,\r\n    height: propTypes.string.isRequired,\r\n    style: propTypes.object\r\n}\r\n\r\nexport default ESPCam;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"NavBar_navbar__nP3M4\",\"navMenu\":\"NavBar_navMenu__oz19L\",\"navMenuLaser\":\"NavBar_navMenuLaser__3L3fT\",\"navRow\":\"NavBar_navRow__3dbYJ\",\"mobile\":\"NavBar_mobile__3S__F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"LoginWithAccessCode_login__1St1r\",\"close\":\"LoginWithAccessCode_close__1bxoy\",\"popupWindow\":\"LoginWithAccessCode_popupWindow__1vDkB\",\"popupInner\":\"LoginWithAccessCode_popupInner__2X4_p\"};","import React, { useState, useContext } from \"react\";\r\n\r\nconst AppContext = React.createContext()\r\n\r\nexport function useAppContext() {\r\n  return useContext(AppContext);\r\n}\r\n\r\n/**\r\n * AppContext\r\n * \r\n * @description This React component is the highest according to the hiearchie. It can be imported within every React component \r\n * and contains the globally most important variables. For example for the display of the component windows,\r\n * all the function are andles of the navigation bar etc. \r\n * \r\n * @returns {React.Context} App context\r\n */\r\nexport function AppContextProvider({ children }) {\r\n  const [underConstruction, setUnderConstruction] = useState(false);\r\n  const [showVirtualLayer, setShowVirtualLayer] = useState(false);\r\n  const [roomComponent, setRoomComponent] = useState(new Set());\r\n  const [selectedComps, setSelectedComps] = useState(new Set());\r\n  const [showInfoWindow, setShowInfoWindow] = useState(false);\r\n  const [showManualWindow, setShowManual] = useState(false);\r\n  const [showWelcomeWindow, setShowWelcome] = useState(true);\r\n  const [lightSource, setLightSource] = useState(false);\r\n  const [autoRotate, setAutoRotate] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(true);\r\n  const [manualPage, setManualPage] = useState(1);\r\n  const [welcomePage, setWelcomePage] = useState(1);\r\n  const [showBeam, setShowBeam] = useState(false);\r\n  const [showTags, setShowTags] = useState(true);\r\n  const [showCam, setShowCam] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [socket, setSocket] = useState('');\r\n  const [logs, setLogs] = useState([]);\r\n\r\n  // Contains all the controlIds of the component windows, which are currently open\r\n  const toggleSelectedComp = (compId) => {\r\n    //Adds controlId to set, when a component window is opened\r\n    if (!selectedComps.has(compId)) {\r\n      setSelectedComps(prev => new Set(prev.add(compId)));\r\n      // Removes controlId of a window, whenever it is closed\r\n    } else {\r\n      setSelectedComps(prev => new Set([...prev].filter(x => x !== compId)));\r\n      toogleRoomComp(compId);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Data recieving controlIds set\r\n   * \r\n   * @description This function adds or removes the controlIds of a data recieving window, if it is openns or closed.\r\n   * controlId is added, when this function is called within a React component after the import of this ContextProvider\r\n   * and is removed, wheather the toggleSelectedComp function is called.\r\n   * \r\n   * @param {string} compId - controlId  \r\n   * @param {boolean} val - prevents the mutiple calling of this function\r\n   */\r\n  const toogleRoomComp = (compId, val = false) => {\r\n    try {\r\n      // Adds a new controlId to the set and sends join stream room events\r\n      if (!roomComponent.has(compId) && val !== false) {\r\n        setRoomComponent(prev => new Set(prev.add(compId)));\r\n\r\n        socket.emit('join stream room', {\r\n          controlId: compId,\r\n          userId: username\r\n        });\r\n\r\n        // Removes controlId from the set and sends leave stream room events\r\n      } else if (roomComponent.has(compId)) {\r\n        setRoomComponent(prev => new Set([...prev].filter(x => x !== compId)));\r\n\r\n        socket.emit(\"leave stream room\", {\r\n          controlId: compId,\r\n          userId: username\r\n        });\r\n      }\r\n    } catch (e) {\r\n\r\n    }\r\n  }\r\n\r\n  // Controls the 3D experiment ambient rotation\r\n  const toggleAutoRotate = () => {\r\n    setAutoRotate(!autoRotate);\r\n  };\r\n\r\n  // Switches between the 2D (OverviewCam) and 3D (experiment visualisation) VirtualL\r\n  const toggleShowVirtualLayer = () => {\r\n    setShowVirtualLayer(!showVirtualLayer);\r\n  };\r\n\r\n  // Operats the display of the labels and descriptions of the experiment components\r\n  const toggleShowTags = () => {\r\n    setShowTags(!showTags)\r\n  }\r\n\r\n  // Adds a new log entry to the existing log\r\n  const addLog = (log) => {\r\n    setLogs(prev => [log, ...prev])\r\n  };\r\n\r\n  // For displaying the beam path within the 3D visualisation\r\n  const toggleShowBeam = () => {\r\n    setShowBeam(!showBeam)\r\n  }\r\n\r\n  // Handles the display of the Information window\r\n  const toggleShowInfoWindow = () => {\r\n    setShowInfoWindow(!showInfoWindow);\r\n  }\r\n\r\n  // Handles the display of the Task window\r\n  const toggleShowManualWindow = () => {\r\n    setShowManual(!showManualWindow);\r\n  }\r\n\r\n  // Handles the display of the Welcome window\r\n  const toggleShowWelcomeWindow = () => {\r\n    setShowWelcome(!showWelcomeWindow);\r\n  }\r\n\r\n  // Handles the display of the Login window\r\n  const toggleLogin = () => {\r\n    setShowLogin(!showLogin);\r\n  }\r\n\r\n  // Handles the display of the OverviewCam window\r\n  const toggleCam = () => {\r\n    setShowCam(!showCam);\r\n    toggleSelectedComp('overview')\r\n  }\r\n\r\n  // Displays the underConstruction information in the navigation bar\r\n  const toggleunderConstruction = (newVal) => {\r\n    setUnderConstruction(newVal)\r\n  }\r\n\r\n  // Contains the page of the Task window which was displayed, when the window was closed\r\n  const toggleSetWelcomePage = (newVal) => {\r\n    setWelcomePage(newVal)\r\n  }\r\n\r\n\r\n  // Contains the page of the Task window which was displayed, when the window was closed\r\n  const toggleSetManualPage = (newVal) => {\r\n    setManualPage(newVal)\r\n  }\r\n\r\n  const toggleHandleLightSource = () => {\r\n    setLightSource(!lightSource)\r\n\r\n    try {\r\n      socket.emit(\"command\", {\r\n        controlId: 'relay_light',\r\n        userId: username,\r\n        switch: lightSource\r\n      });\r\n    } catch (e) { }\r\n  }\r\n\r\n  // Contains all variables, which can be accessed within a React component, if this ContextProvider is imported\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        autoRotate,\r\n        toggleAutoRotate,\r\n        showVirtualLayer,\r\n        toggleShowVirtualLayer,\r\n        selectedComps,\r\n        toggleSelectedComp,\r\n        logs,\r\n        addLog,\r\n        showTags,\r\n        toggleShowTags,\r\n        showBeam,\r\n        toggleShowBeam,\r\n        showLogin,\r\n        toggleLogin,\r\n        showInfoWindow,\r\n        toggleShowInfoWindow,\r\n        showCam,\r\n        toggleCam,\r\n        setRoomComponent,\r\n        toogleRoomComp,\r\n        showManualWindow,\r\n        toggleShowManualWindow,\r\n        showWelcomeWindow,\r\n        toggleShowWelcomeWindow,\r\n        underConstruction,\r\n        toggleunderConstruction,\r\n        manualPage,\r\n        toggleSetManualPage,\r\n        welcomePage,\r\n        toggleSetWelcomePage,\r\n        username,\r\n        setUsername,\r\n        socket,\r\n        setSocket,\r\n        lightSource,\r\n        toggleHandleLightSource,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n","import { useState, useContext, useEffect, createContext } from \"react\";\r\nimport { useAppContext } from \"./AppContext\";\r\nimport { Manager } from \"socket.io-client\";\r\n\r\n// To create the JSON Web Token\r\nvar jwt = require('jsonwebtoken');\r\n//Manager is used because due to its ability to reconnect if the connection to the sever was disrupted\r\nvar manager = new Manager(\"\", { autoConnect: false });\r\nvar SocketContext = createContext();\r\nvar socket = manager.socket(\"/\");\r\n\r\nexport function useSocketContext() {\r\n  return useContext(SocketContext);\r\n}\r\n\r\n/**\r\n * SocketContext\r\n * \r\n * @description This ContextProvider holds the connection to the server in the variable socket. After \r\n * successfull establishing a connection to the server, the socket variable can be used to recieve events from the server \r\n * or send events to it, if imported, within a React component.  \r\n * \r\n * @returns {React.Context} Socket context\r\n */\r\nexport function SocketContextProvider({ children }) {\r\n  // Color in used within the chat and in which the LED rings flashes, when adjusted\r\n  const [fontColor, setFontColor] = useState('white');\r\n  // Holds the information if connection to the server was sucessfull\r\n  const [connected, setConnected] = useState(false);\r\n  // Contains the username set during the login process\r\n  const [username, setUsername] = useState('');\r\n  // Contains the server adress set during in the login component\r\n  const [URL, setURL] = useState('');\r\n\r\n  const appCtx = useAppContext();\r\n\r\n  useEffect(() => {\r\n    // If connection was successfull, than this event is recieved\r\n    const connect = (e) => {\r\n      setConnected(true);\r\n\r\n      // to set globally these information\r\n      appCtx.addLog(\"Server : Client connected to \" + URL);\r\n      appCtx.setSocket(socket);\r\n      appCtx.setUsername(username);\r\n    }\r\n\r\n    // If connection was disconnected\r\n    const disconnect = (e) => {\r\n      setConnected(false)\r\n      appCtx.addLog(\"Server : Client disconnect.\")\r\n    }\r\n\r\n    socket.on('connect', connect);\r\n\r\n    socket.on('disconnect', disconnect)\r\n\r\n    return (() => {\r\n      socket.removeAllListeners('connect', connect)\r\n      socket.removeAllListeners('disconnect', disconnect)\r\n    })\r\n  })\r\n\r\n  // During the login process is this function called, to set globally the server adress to connect to and\r\n  // the username of the web application client\r\n  const setNewURL = (newURL, username) => {\r\n    socket.disconnect();\r\n    manager = new Manager(newURL, { autoConnect: false });\r\n    socket = manager.socket(\"/\");\r\n    SocketContext = createContext();\r\n    setURL(newURL);\r\n\r\n    if (username && username.includes('digiPHOTON') && username.includes('digiPHOTON')) {\r\n      setUsername('Supervisor')\r\n    } else {\r\n      setUsername(username);\r\n    }\r\n  }\r\n\r\n  // Establishs a connetion to a server or disconnects from it\r\n  const toggleConnection = (username) => {\r\n    if (!connected) {\r\n      // Creation of the JSON Web Token payload\r\n      var payload = { sub: username, component: 'client', }\r\n      // Encryption of the JSON Web Token \r\n      var token = jwt.sign(payload, \"keysecret\");\r\n\r\n      // Insertion of the token into the socket \r\n      socket.auth = { token: token }\r\n      // Trying th establish a connection to the serveradress \r\n      socket.connect();\r\n      // To inform the other users of the web application, that a new client connected to the server\r\n      socket.emit('newUser', username)\r\n      setConnected(true)\r\n      appCtx.addLog(\"Client connected by choice.\")\r\n    } else {\r\n      //Disconnects from the server\r\n      setConnected(false)\r\n      setUsername(\"\");\r\n      setNewURL(\"\");\r\n      socket.close();\r\n      appCtx.addLog(\"Client disconnected by choice.\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SocketContext.Provider value={{ socket, connected, setConnected, toggleConnection, setNewURL, setFontColor, username, fontColor }}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  );\r\n}\r\n","import ExperimentUILayer from \"./components/UI/experimentUI/ExperimentUILayer\";\r\nimport VirtualLayer from \"./components/UI/experimentUI/VirtualLayer\";\r\nimport { SocketContextProvider } from \"./services/SocketContext\";\r\nimport {PopUpContextProvider} from \"./services/PopUpContext\";\r\nimport { AppContextProvider } from \"./services/AppContext\";\r\nimport NavBar from \"./components/UI/experimentUI/NavBar\";\r\nimport Console from \"./components/Console/Console\";\r\nimport Login from \"./components/Login/LoginWithAccessCode\";\r\nimport Chat from \"./components/Chat/Chat\";\r\n\r\nconst App = () => {\r\n  process.title = 'XRTLApp';\r\n  return (\r\n    <AppContextProvider>\r\n      <SocketContextProvider>\r\n          <VirtualLayer />\r\n        <PopUpContextProvider>\r\n          <ExperimentUILayer />\r\n          <Console />\r\n          <Chat />\r\n          <NavBar />\r\n          <Login />\r\n        </PopUpContextProvider>\r\n      </SocketContextProvider>\r\n    </AppContextProvider>\r\n  );\r\n};\r\n\r\nexport default App;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Canvas\":\"Settings_Canvas__3qNDD\",\"Settings\":\"Settings_Settings__25I57\",\"Cam\":\"Settings_Cam__2rLtv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"InfoWindowContent_mainWrapper__103nW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"ManualWindowContent_mainWrapper__1QV8B\"};","import { MenuItem, Menu, ThemeProvider, IconButton, Tooltip } from '@mui/material';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport { useSocketContext } from '../../../services/SocketContext';\r\nimport { MdInfoOutline, MdOutlineMenuBook } from 'react-icons/md';\r\nimport { useAppContext } from '../../../services/AppContext';\r\nimport { FaTags, FaLightbulb } from 'react-icons/fa';\r\nimport { BsCamera, BsBox } from 'react-icons/bs';\r\nimport { ImEnter, ImExit } from 'react-icons/im';\r\nimport { GiLaserWarning } from 'react-icons/gi'\r\nimport styles from '../CSS/NavBar.module.css'\r\nimport { theme } from './../templates/Theme'\r\nimport { memo, useState } from 'react';\r\nimport { isEqual } from 'lodash';\r\n\r\n/**\r\n * Navigation bar component \r\n * \r\n * @description React components returns the styling and functionality of the navigation bar. Within this file all onclick events \r\n * on the buttons in the bar and their color changes are also handled.\r\n * \r\n * @returns {React.ReactElement} Navigation bar component  \r\n */\r\nconst NavBar = () => {\r\n    const appCtx = useAppContext();\r\n    const socketCtx = useSocketContext();\r\n\r\n    let connectionStatusColor = '';\r\n    if (socketCtx.connected) { connectionStatusColor = 'white' }\r\n    let showTagsColor = '';\r\n    if (appCtx.showTags) { showTagsColor = 'white' }\r\n    let cameraStatusColor = '';\r\n    if (appCtx.showCam) { cameraStatusColor = 'white' }\r\n    let showInfoWindowColor = '';\r\n    if (appCtx.showInfoWindow) { showInfoWindowColor = 'white' }\r\n    let showManualWindowColor = '';\r\n    if (appCtx.showManualWindow) { showManualWindowColor = 'white' }\r\n    let showBeamColor = '';\r\n    if (appCtx.showBeam) { showBeamColor = 'white' }\r\n    let showVirtualLayerColor = '';\r\n    if (appCtx.showVirtualLayer) { showVirtualLayerColor = 'white' }\r\n    let lightSource = '';\r\n    if (appCtx.lightSource) { lightSource = 'white' }\r\n\r\n    const [mobileVersion, setMobileVersion] = useState(null);\r\n    const openMobileVersion = Boolean(mobileVersion);\r\n\r\n    const handleClick = (event) => {\r\n        setMobileVersion(event.currentTarget);\r\n    };\r\n\r\n    const closeMobileVersion = () => {\r\n        setMobileVersion(null);\r\n    };\r\n\r\n    // Prevents the OverviewCam window from being opened when the OverviewCam stream is displayed as a VirtualLayer\r\n    const handleOverviewCam = () => {\r\n        if (!appCtx.showVirtualLayer) {\r\n            appCtx.toggleCam();\r\n        }\r\n    };\r\n\r\n    // Handles changing the VirtualLayer and, if necessary, closes the OverviewCam window if it is open.\r\n    const handleVirtualLayer = () => {\r\n        if (!appCtx.showVirtualLayer && appCtx.showCam) {\r\n            appCtx.toggleCam();\r\n        }\r\n        appCtx.toggleShowVirtualLayer()\r\n    }\r\n\r\n    return (\r\n        <div id='navbar' className={styles.navbar} >\r\n            <ThemeProvider theme={theme} >\r\n                <h1>XR TwinLab</h1>\r\n\r\n                {appCtx.underConstruction && <h2>Experiment under construction! Some functions may not work!</h2>}\r\n\r\n                <div className={styles.navMenu}>\r\n                    <ul>\r\n                        <Tooltip title={(socketCtx.connected) ? 'Disconnect' : 'Connect'}>\r\n                            <li onClick={() => { (socketCtx.connected) ? socketCtx.toggleConnection() : appCtx.toggleLogin(); }}> {(socketCtx.connected) ? <ImExit size={25} color={connectionStatusColor} /> : <ImEnter size={25} color={connectionStatusColor} />} </li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Labels'>\r\n                            <li onClick={appCtx.toggleShowTags}><FaTags size={25} color={showTagsColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Light Source'>\r\n                            <li onClick={appCtx.toggleHandleLightSource}><FaLightbulb size={24} color={lightSource} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Cam'>\r\n                            <li onClick={handleOverviewCam}><BsCamera size={26} color={cameraStatusColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Model'>\r\n                            <li onClick={handleVirtualLayer}><BsBox size={26} color={showVirtualLayerColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Beam Path'>\r\n                            <li onClick={appCtx.toggleShowBeam}><GiLaserWarning size={25} color={showBeamColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Manual'>\r\n                            <li onClick={appCtx.toggleShowManualWindow}><MdOutlineMenuBook size={26} color={showManualWindowColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Info'>\r\n                            <li onClick={appCtx.toggleShowInfoWindow}><MdInfoOutline size={26} color={showInfoWindowColor} /></li>\r\n                        </Tooltip>\r\n\r\n                    </ul>\r\n                </div>\r\n\r\n                <div className={styles.mobile}>\r\n                    <IconButton onClick={handleClick} variant=\"contained\" sx={{\r\n                        borderRadius: 1,\r\n                        height: '33px',\r\n                        width: '30px',\r\n                        color: 'black',\r\n                        ':hover': {\r\n                            bgcolor: 'darkgreen',\r\n                            color: '#00ffa8',\r\n                        },\r\n                    }}>\r\n                        <KeyboardArrowDownIcon color={'white'} />\r\n                    </IconButton>\r\n\r\n                    <Menu\r\n                        id=\"demo-customized-menu\"\r\n                        MenuListProps={{\r\n                            'aria-labelledby': 'demo-customized-button',\r\n                        }}\r\n                        anchorEl={mobileVersion}\r\n                        open={openMobileVersion}\r\n                        onClose={closeMobileVersion}\r\n                    >\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            (socketCtx.connected) ? socketCtx.toggleConnection() : appCtx.toggleLogin();\r\n                        }} disableRipple>\r\n                            {(socketCtx.connected) ? <ImExit size={25} color={connectionStatusColor} style={{ paddingRight: '20px' }} /> : <ImEnter size={25} color={connectionStatusColor} style={{ paddingRight: '20px' }} />}\r\n                            {(socketCtx.connected) ? 'Disconnect' : 'Connect'}\r\n                        </MenuItem>\r\n\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            appCtx.toggleShowTags();\r\n                        }} disableRipple>\r\n                            <FaTags size={25} style={{ paddingRight: '20px' }} />\r\n                            Labels\r\n                        </MenuItem>\r\n\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            appCtx.toggleHandleLightSource();\r\n                        }} disableRipple>\r\n                            <FaLightbulb size={25} style={{ paddingRight: '20px' }} />\r\n                            Light Source\r\n                        </MenuItem>\r\n\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            appCtx.toggleShowManualWindow();\r\n                        }} disableRipple>\r\n                            <MdOutlineMenuBook size={26} style={{ paddingRight: '20px' }} />\r\n                            Manual\r\n                        </MenuItem>\r\n\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            appCtx.toggleCam();\r\n                        }} disableRipple>\r\n                            <BsCamera size={26} style={{ paddingRight: '20px' }} />\r\n                            Cam\r\n                        </MenuItem>\r\n\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            appCtx.toggleShowInfoWindow();\r\n                        }} disableRipple>\r\n                            <MdInfoOutline size={26} style={{ paddingRight: '20px' }} />\r\n                            Info\r\n                        </MenuItem>\r\n\r\n                    </Menu>\r\n                </div>\r\n            </ThemeProvider>\r\n        </div>\r\n    );\r\n}\r\nexport default memo(NavBar, isEqual)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"Description_mainWrapper__1wHp8\"};","import { useAppContext } from '../../services/AppContext';\r\nimport { RiTerminalBoxFill } from 'react-icons/ri';\r\nimport styles from './CSS/Console.module.css';\r\nimport { useState, memo } from 'react';\r\nimport { isEqual } from 'lodash';\r\n\r\n/**\r\n * Console component \r\n * \r\n * @description This React component contains the console, the handling of collapsing/expanding it and the display of the log, i.e. the content of this component.\r\n * \r\n * @returns {React.ReactElement} Console component  \r\n */\r\nconst Console = () => {\r\n  const [showConsole, setShowConsole] = useState(false);\r\n  const [animation, setAnimation] = useState('');\r\n\r\n  const appCtx = useAppContext();\r\n\r\n  //Function handles the folding/unfolding of the console\r\n  const showConsoleHandler = () => {\r\n    setAnimation(showConsole ? styles.closeConsole : styles.openConsole)\r\n    setShowConsole(!showConsole)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.consoleContainer + ' ' + animation}>\r\n      <div className={styles.consoleMain}>\r\n        {/* Log representation */}\r\n        {appCtx.logs.map((payload, index) => {\r\n          return (<span key={index}>{payload}<br /></span>)\r\n        })}\r\n      </div>\r\n      <div className={styles.consoleHandler}>\r\n        <span>\r\n          <RiTerminalBoxFill size={35} onClick={showConsoleHandler} />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default memo(Console, isEqual);","import { TextField, ThemeProvider, Button, IconButton, Grid } from '@mui/material';\r\nimport HighlightOffOutlinedIcon from '@mui/icons-material/HighlightOffOutlined';\r\nimport { themeLogin } from '../../components/UI/templates/Theme';\r\nimport { useSocketContext } from '../../services/SocketContext';\r\nimport { useAppContext } from '../../services/AppContext';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport React, { useState, memo } from 'react';\r\nimport styles from './CSS/LoginWithAccessCode.module.css';\r\nimport { isEqual } from 'lodash';\r\n\r\n/**\r\n * Login component \r\n * \r\n * @description This React component contains the login overlay, which prevents the navigation bar and components from being clicked. \r\n * Furthermore, this component handles the forwarding of the entered access code and user name to the SocketContext. \r\n * \r\n * @returns {React.ReactElement} Login component  \r\n */\r\nconst Login = () => {\r\n    // List of addresses to which a connection can be established, for quick change if work is to be done locally.\r\n    const connectionOption = [{ title: 'http://localhost:3000' }, { title: 'https://xrtl-qc.uni-jena.de/' }]\r\n    const [connection, setConnection] = useState('');\r\n    const [accessCode, setAccessCode] = useState('');\r\n    const [username, setUsername] = useState('');\r\n\r\n    const socketCtx = useSocketContext();\r\n    const appCtx = useAppContext();\r\n\r\n    //Forwarding the entered user name and access code to the SocketContext\r\n    const handleLogin = () => {\r\n        if (username !== '') {\r\n            try {\r\n                socketCtx.setNewURL(String(connection), String(username));\r\n                socketCtx.toggleConnection(String(username), String(accessCode));\r\n                appCtx.toggleLogin();\r\n            }\r\n            catch (error) { }\r\n        }\r\n    }\r\n\r\n    // Handling the entry of the user name\r\n    const handleChange = (event) => {\r\n        setUsername(event.target.value);\r\n        setConnection(connectionOption[1].title)\r\n    };\r\n\r\n    // Handling of the access code entry\r\n    const handleAccessCode = (event) => {\r\n        setAccessCode(event.target.value);\r\n    };\r\n\r\n\r\n    if (appCtx.showLogin) {\r\n        return (\r\n            <ThemeProvider theme={themeLogin}>\r\n                {/* Overlay so that NavBar and components cannot be clicked on */}\r\n                <div className={styles.popupWindow}>\r\n                </div>\r\n                {/* Login window with input fields */}\r\n                <div className={styles.popupInner} >\r\n                    <h3 title='settings'>Login</h3>\r\n                    <div className={styles.close}>\r\n                        <IconButton onClick={(e) => {\r\n                            appCtx.toggleLogin();\r\n                        }} >\r\n                            <HighlightOffOutlinedIcon fontSize='large' />\r\n                        </IconButton>\r\n                    </div>\r\n                    <Grid\r\n                        container\r\n                        direction=\"column\"\r\n                        justifyContent=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <TextField\r\n                            autoFocus\r\n                            variant='outlined'\r\n                            label='Username '\r\n                            value={username}\r\n                            onChange={handleChange}\r\n                            onKeyPress={(e) => { if (e.key === 'Enter') { handleLogin(); } }}\r\n                            style={{ marginLeft: '0%', width: '200px', paddingRight: '25%' }}\r\n                            error={username === ''}\r\n                            helperText={username === '' ? 'Enter your username!' : ' '}\r\n                        />\r\n\r\n                        <TextField\r\n                            variant='outlined'\r\n                            label='Access code '\r\n                            value={accessCode}\r\n                            onChange={handleAccessCode}\r\n                            onKeyPress={(e) => { if (e.key === 'Enter') { handleLogin(); } }}\r\n                            style={{ marginLeft: '0%', width: '200px', paddingRight: '25%' }}\r\n                            error={accessCode === ''}\r\n                            helperText={accessCode === '' ? 'Enter the access code!' : ' '}\r\n                        />\r\n                    </Grid>\r\n                    <Button size='small' type='submit' variant='contained'\r\n                        onClick={handleLogin}\r\n                        endIcon={<SendIcon />}\r\n                        style={{ width: '20%', height: '15%' }}\r\n                    >Login</Button>\r\n                </div>\r\n            </ThemeProvider>\r\n        );\r\n    } else {\r\n        return (<div></div>)\r\n    }\r\n}\r\nexport default memo(Login, isEqual);","import { ThemeProvider, InputAdornment, IconButton, FormControl, InputLabel, OutlinedInput } from '@mui/material';\r\nimport { useSocketContext } from '../../services/SocketContext';\r\nimport { theme } from '../../components/UI/templates/Theme';\r\nimport { useAppContext } from '../../services/AppContext';\r\nimport { useEffect, useState, memo } from 'react'\r\nimport styles from './CSS/Chat.module.css'\r\nimport { ImBubble } from 'react-icons/im'\r\nimport { MdSend } from 'react-icons/md'\r\nimport { isEqual } from 'lodash';\r\n\r\n/**\r\n * Chat component \r\n * \r\n * @description This React component contains the chat, the collapse/expand handling, the sending of the messages to the other web application clients \r\n * via the server and finally the display of the messages.\r\n * \r\n * @returns {React.ReactElement} Chat component  \r\n */\r\nconst Chat = () => {\r\n  const [showChat, setShowChat] = useState(false);\r\n  const [animation, setAnimation] = useState('');\r\n  var [message, setMessage] = useState('');\r\n  const [chat, setChat] = useState([]);\r\n\r\n  const socketCtx = useSocketContext();\r\n  const appCtx = useAppContext();\r\n\r\n  useEffect(() => {\r\n    //When new messages are received, the chat is simply extended to include them.\r\n    const message = (payload) => {\r\n      setChat([...chat, payload]);\r\n    }\r\n\r\n    socketCtx.socket.on('message', message);\r\n\r\n    return () => {\r\n      socketCtx.socket.removeAllListeners('message', message);\r\n    }\r\n  }, [socketCtx, chat])\r\n\r\n  //Handling of sending chat messages\r\n  const sendMessage = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // Case 1: A command has been entered\r\n    if (message.at(0) === '!') {\r\n\r\n      // De-/activate the ambient rotation of the experiment \r\n      if (message === '!rotate' || message === '!r') {\r\n        appCtx.toggleAutoRotate();\r\n        setChat([...chat, { userId: 'XRTL', message: 'Rotation command was sent ... ', color: '#FF7373' }]);\r\n      }\r\n      // De-/activation of the \"under construction\" message\r\n      else if (message === '!constructiom' || message === '!c') {\r\n        appCtx.toggleunderConstruction(!appCtx.underConstruction);\r\n        // Forward the change to the server, which sends it to the other web clients.\r\n        socketCtx.socket.emit('underConstruction', !appCtx.underConstruction)\r\n        setChat([...chat, { userId: 'XRTL', message: 'Under construction is now set to ' + !appCtx.underConstruction, color: '#FF7373' }]);\r\n      }\r\n      //Display all user names that are connected to the server via the web application\r\n      else if (message === '!user' || message === '!users') {\r\n        //Request to the server \r\n        socketCtx.socket.emit('updateUser')\r\n\r\n        //Response from the server and formatting of the message, which then finally appears as a chat message within the chat.\r\n        socketCtx.socket.on('updateUser', (payload) => {\r\n          var user = ''\r\n\r\n          for (var i = 1; i < payload.length; i += 2) {\r\n            user += payload[i] + ', '\r\n          }\r\n          user = user.slice(0, -2)\r\n          setChat([...chat, { userId: 'XRTL', message: 'List of all connected user/s: ' + user, color: '#FF7373' }]);\r\n        })\r\n      }\r\n      // Resetting selected components to their \"factory settings\"\r\n      else if (message === '!reset') {\r\n        socketCtx.socket.emit('message', { userId: 'XRTL', message: 'Attention the reset command was emited!', color: '#FF7373' });\r\n\r\n        const controlIds = ['KM100_top_1', 'KM100_bottom_1', 'linear_1', 'greenlaser_top_1', 'greenlaser_bottom_1', 'beamSplitter']\r\n\r\n        for (var i = 0; i < controlIds.length; i++) {\r\n          socketCtx.socket.emit('command', {\r\n            userId: socketCtx.username,\r\n            controlId: controlIds[i],\r\n            reset: true\r\n          })\r\n        }\r\n      }\r\n      // Resetting selected components to their \"factory settings\"\r\n      else if (message === '!cam_reset') {\r\n        socketCtx.socket.emit('message', { userId: 'XRTL', message: 'Attention the reset for overview cam was emited!', color: '#FF7373' });\r\n\r\n\r\n        socketCtx.socket.emit('command', {\r\n          userId: socketCtx.username,\r\n          controlId: 'overview',\r\n          reset: true\r\n        })\r\n\r\n      }\r\n\r\n      // Runs through a showcase scenario \r\n      else if (message === '!showcase' || message === '!s') {\r\n        const showCase = async () => {\r\n          //Establish the ground state =========================\r\n          //Turning off the laser\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'greenlaser_1',\r\n            switch: false,\r\n            color: '#00ffa8'\r\n          })\r\n\r\n          //Removes the retractable mirror\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'beamSplitter',\r\n            binaryCtrl: false,\r\n            color: '#00ffa8'\r\n          })\r\n\r\n          //this line guarantees that the following code is executed only after 8 s\r\n          //please note that some commands may take longer or less time to complete  \r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n          //Do awesome things ==================================\r\n          //Turning on the laser\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'greenlaser_1',\r\n            switch: true,\r\n            color: '#00ffa8'\r\n          })\r\n\r\n          //this line guarantees that the following code is executed only after 8 s\r\n          //please note that some commands may take longer or less time to complete  \r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n          //Adds the retractable mirror\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'beamSplitter',\r\n            binaryCtrl: true,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 1s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n          //Adjustment of the linear stage by 200 steps in clockwise direction \r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'linear_1',\r\n            move: 200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          //Adjustment of the reference mirror by 200 steps vertical tilting \r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'KM100_top_1',\r\n            move: 200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          ////Adjustment of the reference mirror by -200 steps horizontal tilting\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'KM100_bottom_1',\r\n            move: -200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          //Adjustment of the reference mirror by -200 steps vertical tilting \r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'KM100_top_1',\r\n            move: -200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          ////Adjustment of the reference mirror by -200 steps horizontal tilting\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'KM100_bottom_1',\r\n            move: 200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          //Adjustment of the linear stage by 200 steps counterclockwise \r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'linear_1',\r\n            move: -200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          //Establish a ground state ==========================\r\n          //Removes the retractable mirror\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'beamSplitter',\r\n            binaryCtrl: false,\r\n            color: '#00ffa8'\r\n          })\r\n        }\r\n\r\n        showCase()\r\n\r\n      }\r\n      // Adjusting the settings of the Overview camera to the optimal settings\r\n      else if (message === '!cam') {\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          frameSize: 5\r\n        })\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          gray: false\r\n        })\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          frameSize: 10\r\n        })\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          brightness: 0 // (-2,2)\r\n        })\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          contrast: -1, // (-2,2)\r\n          color: socketCtx.fontColor,\r\n        })\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          exposure: 1000, // (0,1200)\r\n          color: socketCtx.fontColor,\r\n        })\r\n\r\n        setChat([...chat, { userId: 'XRTL', message: 'The highest camera settings have been made!', color: '#FF7373' }]);\r\n      }\r\n\r\n      else if (message === '!cam5') {\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          frameSize: 5\r\n        })}\r\n\r\n      else if (message === '!cam10') {\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          frameSize: 10\r\n        })} \r\n\r\n      else if (message === '!component' || message === '!components') {\r\n        socketCtx.socket.emit(\"updateComponents\");\r\n\r\n        socketCtx.socket.on('updateComponents', (payload) => {\r\n\r\n          if (payload.length === 0) {\r\n            setChat([...chat, { userId: 'XRTL', message: 'No components are connected to the server! ', color: '#FF7373' }])\r\n          }\r\n          else {\r\n            var component = ''\r\n\r\n            for (var i = 1; i < payload.length; i += 3) {\r\n              component += payload[i] + ', '\r\n            }\r\n            component = component.slice(0, -2)\r\n\r\n            setChat([...chat, { userId: 'XRTL', message: 'List of all connected components: \\n ' + component, color: '#FF7373' }]);\r\n          }\r\n        })\r\n      }\r\n\r\n      // Output of an error message if command does not exist or is written incorrectly \r\n      else {\r\n        setChat([...chat, { userId: 'XRTL', message: \"Command doesn't exists\", color: '#FF7373' }]);\r\n      }\r\n\r\n    }\r\n    // Case 2: Sending a chat message to all web clients\r\n    else if (message.length > 0 && message.replace(/\\s/g, '').length !== 0) {\r\n      socketCtx.socket.emit('message', { userId: socketCtx.username, message: message, color: socketCtx.fontColor });\r\n    }\r\n    setMessage('')\r\n  }\r\n\r\n\r\n  // Handling of the folding in/out of the chat\r\n  const showChatHandler = () => {\r\n    setAnimation(showChat ? styles.closeChat : styles.openChat);\r\n    setShowChat(!showChat);\r\n  }\r\n\r\n  // Handling of the message\r\n  const handleChange = (event) => {\r\n    setMessage(event.target.value);\r\n  };\r\n\r\n  return (\r\n    // Chat container\r\n    <div className={styles.chatContainer + ' ' + animation}    >\r\n      <div className={styles.chatMain}>\r\n        {chat.map((payload, index) => {\r\n          return (\r\n            <b key={index} >\r\n              {/* Formatting of the received message from the server to username: message */}\r\n              <span style={{ color: payload.color }}> {payload.userId}:</span> <span >{payload.message}</span>\r\n              <br />\r\n            </b>\r\n          )\r\n        })}\r\n      </div>\r\n      <form className={styles.msgForm}>\r\n        <ThemeProvider theme={theme}>\r\n\r\n          <FormControl sx={{ marginLeft: -4, width: 3 / 3, paddingTop: 1 }} variant=\"outlined\">\r\n            <InputLabel htmlFor=\"outlined-adornment-password\">Message  </InputLabel>\r\n            <OutlinedInput\r\n              onChange={handleChange}\r\n              onKeyPress={(e) => { if (e.key === 'Enter') { sendMessage(e); } }}\r\n              value={message}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    onClick={sendMessage}\r\n                    edge=\"end\"\r\n                  >\r\n                    <MdSend />\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n              label=\"Message\"\r\n            />\r\n          </FormControl>\r\n        </ThemeProvider>\r\n      </form>\r\n\r\n      {/* Chat icon */}\r\n      <div className={styles.chatHandler + ' ' + animation}>\r\n        <span>\r\n          <ImBubble size={35} onClick={showChatHandler} />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default memo(Chat, isEqual);","/**\r\n * Experiment Setup Component\r\n *\r\n * @description Within this React component, all experiment components are intialised and the renderings of their windows, if selected, are handled.\r\n * In addition, important variables are passed to the individual components.\r\n *\r\n * @param {Set} selected - Set contains the controlIds of the component windows that are currently opened/rendered\r\n * \r\n * @example \r\n          {props.selected.has(// general controlId) && ( // handles the renderings of the window, if the variable selected includes the controlId \r\n          <COMPONENT  \r\n          title= // Title within the topper of the component window\r\n          id={// general controlId of the component}\r\n          controlIdTop={// controlId for the upper stepper motor}\r\n          controlIdBottom={// controlId for the lower stepper motor}\r\n          top={// Positioning at the height of the window}\r\n          left={// Positioning at the width of the window}\r\n        />\r\n        )}\r\n *\r\n * @returns {React.ReactElement} Experiment setup component\r\n */\r\n\r\n        const QuantumCryptography = (props) => {\r\n          return (\r\n              <div>\r\n              </div>\r\n          );\r\n      };\r\n      export default QuantumCryptography;\r\n      ","import { useSocketContext } from '../../../services/SocketContext';\r\nimport ESPCam from '../templates/ESPCam';\r\nimport propTypes from \"prop-types\";\r\nimport { useEffect } from 'react';\r\n\r\n/**\r\n * ESPCam component without settings\r\n * \r\n * @description This component returns a canvas with the camera stream of an ESPCam. For this, the height and width of the window must be transferred \r\n * and the controlId with which the ESP is to be addressed.\r\n * \r\n * @param {string} component - controlId \r\n * @param {string} width - Transfers the width to ESPCam class \r\n * @param {string} height - Transfer the height to ESPCam class \r\n * \r\n * @returns {React.ReactElement} styled canvas with ESPCam stream\r\n */\r\nconst ESPCamWithoutSettings = (props) => {\r\n    const socketCtx = useSocketContext();\r\n\r\n    useEffect(() => {\r\n        document.getElementById(props.component).style.transform = 'rotate(180deg)'\r\n\r\n        const status = (payload) => {\r\n            if (payload.controlId === props.component) {\r\n                //console.log('Status of settings:   ', payload)\r\n            }\r\n        }\r\n\r\n        socketCtx.socket.emit('command', {\r\n            userId: socketCtx.username,\r\n            controlId: props.component,\r\n            getStatus: true\r\n        })\r\n\r\n        socketCtx.socket.emit('getFooter', props.component)\r\n\r\n        socketCtx.socket.on('status', status);\r\n\r\n        return () => {\r\n            socketCtx.socket.removeAllListeners('status', status)\r\n        }\r\n        //Comment needed to prevent a warning\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [socketCtx.socket]);\r\n\r\n    return (\r\n        <ESPCam component={props.component} width={props.width} height={props.height} style={{ borderRadius: '5px', backgroundSize: 'cover', top: 30 }} />\r\n    )\r\n}\r\n\r\nESPCamWithoutSettings.propTypes = {\r\n    component: propTypes.string.isRequired,\r\n    width: propTypes.string.isRequired,\r\n    height: propTypes.string.isRequired,\r\n}\r\n\r\nexport default ESPCamWithoutSettings;","import styles from './CSS/Description.module.css';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * ESPCam window content \r\n * \r\n * @description This file contains the descriptive text for the window of the ESPCam, which can be seen within the component window on the information icon.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * \r\n * @returns {React.ReactElement} descriptive text of the ESPCam\r\n */\r\nconst DescriptionESPCam = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>The screen in a Michelson interferometer setup displays an interference pattern consisting of bright and dark fringes. The location and spacing of these fringes provide information\r\n                    about the relative phase difference between the two light paths, which can be used to measure small changes in the optical path length of the sample beam.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nDescriptionESPCam.propTypes = {\r\n    height: propTypes.string.isRequired,\r\n};\r\nexport default DescriptionESPCam;\r\n","import styles from './CSS/Description.module.css';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * KM100 window content \r\n * \r\n * @description This file contains the descriptive text for the window of the KM100, which can be seen within the component window on the information icon.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * \r\n * @returns {React.ReactElement} descriptive text of the KM100\r\n */\r\nconst DescriptionKM100 = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The two beams of light are reflected by mirrors placed at a 90-degree angle to each other. This mirror is used to reflect the reference beam. The kinematic mirror mount is designed to\r\n                    securely hold a mirror in place while allowing fine tip and tilt adjustments.\r\n\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nDescriptionKM100.propTypes = {\r\n    height: propTypes.string.isRequired,\r\n};\r\nexport default DescriptionKM100;\r\n","import styles from './CSS/Description.module.css';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * Laser window content \r\n * \r\n * @description This file contains the descriptive text for the window of the laser, which can be seen within the component window on the information icon.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * \r\n * @returns {React.ReactElement} descriptive text of the laser\r\n */\r\nconst DescriptionLaser = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The laser power supply provides the electrical energy necessary to excite the laser medium and generate the coherent beam of light. The laser module here is a class 2 laser,\r\n                    which does not require any protective eyewear. However, to avoid injury, do not look directly into the laser beam.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nDescriptionLaser.propTypes = {\r\n    height: propTypes.string.isRequired,\r\n};\r\nexport default DescriptionLaser;\r\n","import styles from './CSS/Description.module.css';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * LaserCtrl window content \r\n * \r\n * @description This file contains the descriptive text for the window of the LaserCtrl, which can be seen within the component window on the information icon.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * \r\n * @returns {React.ReactElement} descriptive text of the LaserCtrl\r\n */\r\nconst DescriptionLaserCtrl = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    A coherent light source such as a laser is used to illuminate the interferometer. When light waves are coherent, their peaks and troughs line up perfectly, resulting in a pattern of\r\n                    constructive and destructive interference that can produce beautiful and complex interference patterns. In contrast, light that is not coherent has randomly varying phases and does not\r\n                    produce well-defined interference patterns.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nDescriptionLaserCtrl.propTypes = {\r\n    height: propTypes.string.isRequired,\r\n};\r\nexport default DescriptionLaserCtrl;\r\n","import styles from './CSS/Description.module.css';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * SM1ZP window content \r\n * \r\n * @description This file contains the descriptive text for the window of the SM1ZP, which can be seen within the component window on the information icon.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * \r\n * @returns {React.ReactElement} descriptive text of the SM1ZP\r\n */\r\nconst DescriptionSM1ZP = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The two beams of light are reflected by mirrors placed at a 90-degree angle to each other. This mirror is used to reflect the sample beam. The translation mount is designed to securely\r\n                    hold a mirror in place while offering repeatable linear travel using the precision micrometer actuator, which is graduated in 1 µm increments. This component is used to create a\r\n                    quantifiable change in the path length of the sample beam.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nDescriptionSM1ZP.propTypes = {\r\n    height: propTypes.string.isRequired,\r\n};\r\nexport default DescriptionSM1ZP;\r\n","import { themeLogin } from '../../UI/templates/Theme';\r\nimport { ThemeProvider } from '@mui/material/styles';\r\nimport styles from './CSS/Description.module.css';\r\nimport { Button, Box } from '@mui/material';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * Imprint text\r\n * \r\n * @description Within this file is the text for the imprint, which can be found within the information window under the § symbol.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * \r\n * @returns {React.ReactElement} Imprint text and buttons for redirection to websites.  \r\n */\r\nconst DescriptionCubeLegalNotice = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The editorial responsibility for this application lies with the Executive Office of the Abbe Center of Photonics and it's representative/s.\r\n                </p>\r\n                <p>\r\n                    For further information please follow the links:\r\n                </p>\r\n                <ThemeProvider theme={themeLogin}>\r\n\r\n                    <Box sx={{ '& button': { mr: 5, ml: 3 } }}>\r\n\r\n                        <Button type='submit' variant='contained' onClick={() => { window.open(\"https://www.asp.uni-jena.de/legal-notice\", 'resizable=yes') }}> Legal Notice </Button>\r\n                        <Button type='submit' variant='contained' onClick={() => { window.open(\"https://www.uni-jena.de/en/privacy-statement\", 'resizable=yes') }}> Privacy Statement </Button>\r\n                    </Box>\r\n                </ThemeProvider>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nDescriptionCubeLegalNotice.propTypes = {\r\n    height: propTypes.string.isRequired,\r\n}\r\n\r\nexport default DescriptionCubeLegalNotice;","import styles from './CSS/Description.module.css';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * Beamsplitter window content \r\n * \r\n * @description This file contains the descriptive text for the window of the Beamsplitter, which can be seen within the component window on the information icon.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * \r\n * @returns {React.ReactElement} descriptive text of the Beamsplitter\r\n */\r\nconst DescriptionBeamSplitter = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    This really simple plate beam splitter is made of an acrylic glass sheet and can be used to observe the interference pattern created on the second output of the Michelson interferometer.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nDescriptionBeamSplitter.propTypes = {\r\n    height: propTypes.string.isRequired,\r\n};\r\nexport default DescriptionBeamSplitter;\r\n","import styles from './CSS/Description.module.css';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * Cube window content \r\n * \r\n * @description This file contains the descriptive text for the window of the cube, which can be seen within the component window on the information icon.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * \r\n * @returns {React.ReactElement} descriptive text of the cube\r\n */\r\nconst DescriptionCube = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                The beam splitter is a partially reflective surface that splits the incoming beam of light into two separate beams, known as the reference beam and the sample beam. This cube beam \r\n                splitter is made up of two prisms that are cemented together.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nDescriptionCube.propTypes = {\r\n    height: propTypes.string.isRequired,\r\n};\r\nexport default DescriptionCube;\r\n","import styles from './CSS/Description.module.css';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * Lens window content \r\n * \r\n * @description This file contains the descriptive text for the window of the lens, which can be seen within the component window on the information icon.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * \r\n * @returns {React.ReactElement} descriptive text of the lens\r\n */\r\nconst DescriptionLens = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The lens is used to diverge the beam of laser light in order to illuminate a larger area of the screen and thereby to obtain an interference pattern consisting of light and dark rings\r\n                    (constructive or destructive interference, respectively). Without a lens, the laser would create only one spot on the screen, which is either very bright (constructive interference) or\r\n                    completely gone (destructive interference).\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nDescriptionLens.propTypes = {\r\n    height: propTypes.string.isRequired,\r\n};\r\nexport default DescriptionLens;\r\n","import ESPCam from './ESPCam'\r\nimport KM100 from './KM100'\r\nimport PowerSupply from './PowerSupply'\r\nimport LaserCtrl from './LaserCtrl'\r\nimport SM1ZP from './SM1ZP'\r\nimport LegalNotice from './LegalNotice'\r\nimport BeamSplitter from './BeamSplitter'\r\nimport Cube from \"./Cube\";\r\nimport Lens from \"./Lens\";\r\n\r\n\r\nconst DescriptionHandler = (props) => {\r\n\r\n    const renderOption = {\r\n        linear_1: <SM1ZP height={props.height} />,\r\n        KM100_1: <KM100 height={props.height} />,\r\n        screen: <ESPCam height={props.height} />,\r\n        greenlaser_1: <LaserCtrl height={props.height} />,\r\n        greenlaserPower_1: <PowerSupply height={props.height} />,\r\n        beamSplitter: <BeamSplitter height={props.height} />,\r\n        bscube: <Cube height={props.height} />,\r\n        lens: <Lens height={props.height} />,\r\n        info: <LegalNotice height={props.height} />\r\n    }\r\n\r\n    return (\r\n        <div>{renderOption[props.component]}</div>\r\n    )\r\n}\r\nexport default DescriptionHandler;\r\n","import { IoInformationCircleOutline, IoCloseCircleOutline, IoSettingsOutline } from 'react-icons/io5' //IoReloadOutline\r\nimport DescriptionHandler from '../../experiment/ComponentDescription/DescriptionHandler'\r\nimport { useSocketContext } from '../../../services/SocketContext';\r\nimport { usePopUpContext } from '../../../services/PopUpContext';\r\nimport { useAppContext } from '../../../services/AppContext';\r\nimport { MdOutlineUpdate } from 'react-icons/md'; //MdOutlineCircle\r\nimport styles from '../CSS/Window.module.css';\r\nimport { ImSection } from 'react-icons/im';\r\nimport Draggable from 'react-draggable';\r\nimport { memo, useEffect } from 'react';\r\nimport { isEqual } from 'lodash';\r\nimport { useState } from 'react';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * Window component\r\n * \r\n * @description This Recat component takes parameters for the design of the component window and then returns it as a React component to be rendered. \r\n * The top and left parameters are used for positioning, and the width and height variables \r\n * are used to define the size of the component window. The id and the componentenList contain important controlIds of the component, which is \r\n * important for the communication with the microcontroller. Outline images can be optionally displayed by passing the file path.\r\n * \r\n * @param {string} id - controlId \r\n * @param {array} componentList - List containing the general controlId or all controlIds of the stepper motors\r\n * @param {string} header - Text within the topper\r\n * @param {number} top - Positioning at height\r\n * @param {number} left - Positioning at width\r\n * @param {string} width - Width of the window\r\n * @param {string} height - Height of the window\r\n * @param {string} background - File path of the image that is displayed within the window\r\n *  \r\n * @returns {React.ReactElement} Component window \r\n */\r\nconst Window = (props) => {\r\n  const [info, setInfo] = useState(props.info === false ? false : true);\r\n  const [lastChange, setLastChange] = useState(props.lastChange);\r\n  const [footer, setFooter] = useState('Initializing... ');\r\n  const [topper, setTopper] = useState('')\r\n\r\n  const socketCtx = useSocketContext();\r\n  const popupCtx = usePopUpContext();\r\n  const appCtx = useAppContext();\r\n\r\n  // Additional icon to be rendered next to the close icon\r\n  const renderOption = {\r\n    para: <ImSection className={styles.icon} size={24} />, // Legal Notice \r\n    info: <IoInformationCircleOutline className={styles.iconClose} size={30} />, // Information\r\n    setting: <IoSettingsOutline className={styles.iconClose} size={30} />, // Setting\r\n    none: <IoSettingsOutline className={styles.icon} size={25} color={'#01bd7d'} />, // None\r\n  }\r\n\r\n  // Set the scaling factor for better window placement on smaller screens\r\n  var height = window.innerHeight / 955;\r\n  var width = window.innerWidth / 1920;\r\n\r\n  // Scaling of the setting height of the windows depending on the reference value\r\n  const scaleComponenteWindowHeight = (value) => {\r\n    return parseInt(height * value)\r\n  }\r\n\r\n  // Scaling of the setting left of the windows depending on the reference value\r\n  const scaleComponenteWindowWidth = (value) => {\r\n    value = parseInt(width * value)\r\n\r\n    // prevents windows from being created outside or over the calculated screen width\r\n    if ((value + 250) > window.innerWidth) {\r\n      let dif = value + 275 - window.innerWidth;\r\n      value = value - dif;\r\n    }\r\n    return value\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Processing of the transferred topper variable\r\n    if (props.topper === 'none') {\r\n      setTopper('none')\r\n    } else if (props.topper === 'para') {\r\n      setTopper('para')\r\n    } else if (props.topper === undefined) {\r\n      setTopper('info')\r\n    }\r\n\r\n    // Handles the updating of the footer after the component has been adjusted\r\n    const Footer = (payload) => {\r\n      if (props.footer !== 'none' && props.componentList.includes(payload.controlId)) {\r\n        setFooter(String(payload.status))\r\n        var time = new Date();\r\n        setLastChange([time.getHours(), time.getMinutes(), time.getSeconds(), time.getDay(), time.getMonth()])\r\n      }\r\n    }\r\n\r\n    // Handles the setting of the footer after the component window has been opened\r\n    const getFooter = (payload) => {\r\n      if (props.footer !== 'none' && props.componentList.includes(payload.controlId)) {\r\n        setFooter(String(payload.status))\r\n        var time = new Date();\r\n        setLastChange([time.getHours(), time.getMinutes(), time.getSeconds(), time.getDay(), time.getMonth()])\r\n      }\r\n    }\r\n\r\n    socketCtx.socket.on('footer', Footer)\r\n\r\n    socketCtx.socket.on('getFooter', getFooter);\r\n\r\n    return () => {\r\n      socketCtx.socket.removeAllListeners('footer', Footer)\r\n      socketCtx.socket.removeAllListeners('getFooter', getFooter)\r\n    }\r\n    //Comment needed to prevent a warning\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socketCtx.socket])\r\n\r\n  // Handles the closing of the component window  \r\n  const handleCloseWindow = () => {\r\n    appCtx.toggleSelectedComp(props.id)\r\n\r\n    if (props.id === \"overview\") {\r\n      appCtx.toggleCam();\r\n    }\r\n\r\n    if (props.id === \"info\") {\r\n      appCtx.toggleShowInfoWindow();\r\n    }\r\n\r\n    if (props.id === \"welcome\") {\r\n      appCtx.toggleShowWelcomeWindow();\r\n    }\r\n\r\n    if (props.id === \"manual\") {\r\n      appCtx.toggleShowManualWindow();\r\n    }\r\n  }\r\n\r\n  // Handles the change of the icon next to the Close icon when it is clicked.\r\n  const handleInformation = () => {\r\n    setInfo(!info)\r\n\r\n    if (props.id === 'screen' && appCtx.smallSetting === true) {\r\n      appCtx.smallSettings()\r\n    }\r\n\r\n    if (props.id === 'info') {\r\n      topper === 'para' ? setTopper('info') : setTopper('para');\r\n    } else {\r\n      topper === 'info' ? setTopper('setting') : setTopper('info')\r\n    }\r\n  }\r\n\r\n  // Handles the display of the information when the component was last adjusted & and to identify the component via the Overview Cam\r\n  const handleInfo = () => {\r\n    var timeNow = new Date();\r\n    let difH, difMin, difSec = 0;\r\n    var alert = '';\r\n\r\n    timeNow = [timeNow.getHours(), timeNow.getMinutes(), timeNow.getSeconds(), timeNow.getDay(), timeNow.getMonth()]\r\n    if (lastChange[0] === '') {\r\n      alert = 'No last change detected!'\r\n    } else if (timeNow[0] > lastChange[0]) {\r\n      difH = timeNow[0] - lastChange[0];\r\n      alert = 'Last change is more than ' + difH + ' h ago!'\r\n    } else if (timeNow[0] === lastChange[0] && timeNow[1] === lastChange[1] && timeNow[2] > lastChange[2]) {\r\n      difSec = timeNow[2] - lastChange[2]\r\n      alert = 'Last change is ' + difSec + ' s ago!'\r\n    } else if (timeNow[0] === lastChange[0] && timeNow[1] > lastChange[1]) {\r\n      difMin = timeNow[1] - lastChange[1]\r\n      alert = 'Last change is more than ' + difMin + ' min ago!'\r\n    } else if (timeNow[3] > lastChange[3] || timeNow[4] > lastChange[4]) {\r\n      alert = 'Last change is more than 24 h ago!'\r\n    } else {\r\n      alert = 'No last change detected!'\r\n    }\r\n\r\n    popupCtx.toggleShowPopUp(alert, 'info');\r\n\r\n    socketCtx.socket.emit(\"command\", {\r\n      controlId: props.componentList[0],\r\n      identify: 3000,\r\n      color: socketCtx.fontColor,\r\n    })\r\n  }\r\n\r\n  return (\r\n    /* Ensures the free movement of the component windows */\r\n    <Draggable handle='.draggableHandler'>\r\n      <div\r\n        className={styles.window}\r\n        style={{ top: scaleComponenteWindowHeight(props.top) + 'px', left: scaleComponenteWindowWidth(props.left) + 'px', width: props.width + 'px', height: props.height + 'px' }}\r\n      >\r\n        {/* Styling of the topper of the component window */}\r\n        <div className={styles.windowHeader}>\r\n          <span\r\n            className='draggableHandler' //FIXME draggable doesnt seem to work with inline JSX classes. \r\n            style={{\r\n              display: 'block',\r\n              width: 'calc(100% - 70px)',\r\n              cursor: 'move',\r\n              float: 'left'\r\n            }}\r\n          >\r\n            {props.header}\r\n          </span>\r\n\r\n          <p>\r\n            {/* No Icon or icon next to the close icon */}\r\n            <span onClick={handleInformation}>\r\n              {renderOption[topper]}\r\n            </span>\r\n            {/* Close icon and the onclick-event handling */}\r\n            <span onClick={handleCloseWindow}><IoCloseCircleOutline className={styles.iconClose} size={30} /></span>\r\n          </p>\r\n        </div>\r\n\r\n        {/* Display of the control elements or the descriptive text */}\r\n        {info ?\r\n          <div\r\n            className={styles.windowContent}\r\n            style={{\r\n              height: props.height,\r\n              width: props.width,\r\n              background: 'url(' + props.background + ')',\r\n            }}\r\n          >\r\n            {props.children}\r\n          </div>\r\n\r\n          :\r\n\r\n          <div\r\n            className={styles.windowContent}\r\n            style={{\r\n              height: props.height,\r\n              width: props.width,\r\n            }}\r\n          >\r\n            <DescriptionHandler height={props.height} component={props.id} />\r\n          </div>\r\n        }\r\n\r\n        {/* Display of the footer depending on the parameter footers */}\r\n        {props.footer !== 'none' ?\r\n          <div className={styles.windowFooter}>\r\n            <span onClick={handleInfo}> <MdOutlineUpdate size={25} /></span>\r\n            <label>{footer}</label>\r\n          </div>\r\n          :\r\n          <div />\r\n        }\r\n      </div>\r\n    </Draggable>\r\n  )\r\n}\r\n\r\nWindow.propTypes = {\r\n  id: propTypes.string.isRequired,\r\n  componentList: propTypes.array.isRequired,\r\n  header: propTypes.string.isRequired,\r\n  top: propTypes.oneOfType([propTypes.string, propTypes.number,]).isRequired,\r\n  left: propTypes.oneOfType([propTypes.string, propTypes.number,]).isRequired,\r\n  width: propTypes.string.isRequired,\r\n  height: propTypes.string.isRequired,\r\n  background: propTypes.string\r\n}\r\n\r\nexport default memo(Window, isEqual);","import ESPCam from '../UI/CtrlUnits/ESPCamWithoutSettings';\r\nimport Window from '../UI/experimentUI/Window';\r\n\r\n/**\r\n * Overview camera window\r\n * \r\n * @description This react component returns a window with the content for the Overview Camera window. \r\n *  \r\n * @returns {React.ReactElement} Overview camera window\r\n */\r\nconst CamWindow = () => {\r\n    var width = window.innerWidth\r\n    var height = 0;\r\n\r\n    if (0 < width && width < 576) {\r\n        width = '350'\r\n        height = '260'\r\n    }\r\n    else if (576 < width && width < 768) {\r\n        width = '510'\r\n        height = '340'\r\n    } else {\r\n        width = '600'\r\n        height = '400'\r\n    }\r\n\r\n\r\n    return (\r\n        <Window\r\n            header={'Top View of Experiment'}\r\n            top={200}\r\n            left={650}\r\n            id={'overview'}\r\n            componentList={['overview']}\r\n            width={width+'px'}\r\n            height={height+'px'}\r\n            footer={'none'}\r\n            topper={'none'}\r\n        >\r\n            <ESPCam\r\n                component={'overview'}\r\n                width={width}\r\n                height={height}\r\n            />\r\n        </Window>\r\n    );\r\n};\r\nexport default CamWindow;","export default __webpack_public_path__ + \"static/media/xrtl_team.9c8d8d7c.png\";","import styles from \"../CSS/InfoWindowContent.module.css\";\r\nimport bgTeam from \"../../media/images/xrtl_team.png\";\r\n\r\n/**\r\n * Information text\r\n * \r\n * @description This file contains the content and text for the information window.\r\n *  \r\n * @returns {React.ReactElement} Content and Text for the information window\r\n */\r\nconst InfoWindowContent = () => {\r\n  return (\r\n\r\n    <div className={styles.mainWrapper} style={{ backgroundImage: \"url(\\\"\" + bgTeam + \"\\\")\" }}\r\n    >\r\n      Remote labs represent a groundbreaking approach to science education and collaboration, facilitating communication and experimentation from afar. However, creating remote access capabilities can be prohibitively expensive or technically challenging, particularly for non-IT and non-engineering disciplines. To make remote labs accessible across all fields, we need a user-friendly platform that enables researchers, assistants, and technical staff to implement them independently. To that end, we are proud to present XR TwinLab (XRTL), an open-source toolbox designed specifically for the field of Photonics. With its modular structure XRTL offers a flexible, web-based application for controlling optical experimental setups. This exciting project is currently being developed by the esteemed Abbe School of Photonics and the Open Makerspace Lichtwerkstatt Jena.\r\n\r\n      Feel free to follow our <a href=\"https://github.com/Lichtwerkstatt/XRTL_SPA\">Git Repo</a> or <a href=\"mailto:team@lichtwerkstatt-jena.de\">Contact us.</a>\r\n\r\n      <p>\r\n        Best! Clara, Fabian, Falko, Jari and Johannes\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\nexport default InfoWindowContent;","import InfoWindowContent from \"./Content/InfoWindowContent\";\r\nimport Window from \"../UI/experimentUI/Window\";\r\n\r\n/**\r\n * Information window\r\n * \r\n * @description This react component returns a window with the content for the information window.\r\n *  \r\n * @returns {React.ReactElement} Information window\r\n */\r\nconst InfoWindow = () => {\r\n    var width = window.innerWidth\r\n    var height = 0;\r\n\r\n    if (0 < width && width < 576) {\r\n        width = '350px'\r\n        height = '650px'\r\n    }\r\n    else {\r\n        width = '600px'\r\n        height = '517px'\r\n    }\r\n\r\n    return (\r\n        <Window\r\n            header=\"About XR TwinLab\"\r\n            id='info'\r\n            top={200}\r\n            left={200}\r\n            width={width}\r\n            height={height}\r\n            footer={'none'}\r\n            topper={'para'}\r\n        >\r\n            <InfoWindowContent />\r\n        </Window>\r\n    );\r\n};\r\nexport default InfoWindow;","import KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\r\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\r\nimport { useAppContext } from '../../../services/AppContext';\r\nimport MobileStepper from '@mui/material/MobileStepper';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { useEffect, useState } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * Stepper component\r\n * \r\n * @description This component returns a styled stepper. For this, the controlId, the length of the stepper and the beginning of the \r\n * Id of the paragraphs must be specified. Optionally, the text on the right and left can be defined. \r\n * \r\n * @param {string} component - controlId \r\n * @param {number} length - Specifies the length of the stepper\r\n * @param {string} left -  text at the left/beginning\r\n * @param {string} right -text at the right/end\r\n * @param {number} buttonValue - indicates the beginning of the Ids of the paragraphs of the text (these should be set once at 1, 10, 20, ...,\r\n *  because otherwise, when opening several windows, all elements with the same ID will be changed).)\r\n * \r\n * @returns {React.ReactElement} styled stepper with the specified props \r\n * \r\n * @example <Stepper left={'Back'} right={'Next'} buttonValue={10} length={9} component={'manual'} />\r\n * @example <Stepper left={'Back'} right={'Next'} buttonValue={20} length={6} component={'help'} />\r\n * @example <Stepper buttonValue={30} length={3} component={'manual2'} />\r\n */\r\n\r\nconst StepperCtrl = (props) => {\r\n    const theme = useTheme();\r\n    const appCtx = useAppContext();\r\n\r\n    /**\r\n     * @param {number} activeStep - Indicates the position where the stepper is located.\r\n     * @function setActiveStep - Assigning a new value\r\n     */\r\n    const [activeStep, setActiveStep] = useState(1 === appCtx.manualPage ? 1 : appCtx.manualPage)\r\n\r\n    /**\r\n     * @param {number} buttonValue - Indicates the Id of the first paragraph of the first page of the stepper\r\n     * @function setButtonValue - Assigning a new value\r\n     */\r\n    const [buttonValue, setButtonValue] = useState(1 === appCtx.manualPage ? props.buttonValue : appCtx.manualPage + props.buttonValue - 1)\r\n\r\n    /**\r\n     * If the manualPage is not equal to 1, which means that you are not on the first page (e.g. after reopening the window), \r\n     * then this function handles this. By setting the paragraph defined by the buttonValue to not show and the appCtx.manualPage to show.\r\n     */\r\n    useEffect(() => {\r\n        if (1 !== appCtx.manualPage) {\r\n            document.getElementById(String(props.buttonValue)).style.display = 'none'\r\n            document.getElementById(String(appCtx.manualPage + props.buttonValue - 1)).style.display = 'block'\r\n        }\r\n        //Comment needed to prevent a warning\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    /**\r\n     * Function handles the clicking on the next page and the associated re-rendering of the selected text.\r\n     */\r\n    const handleNext = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n        setButtonValue((buttonValue) => buttonValue + 1);\r\n\r\n        document.getElementById(String(buttonValue)).style.display = 'none'\r\n        document.getElementById(String(buttonValue + 1)).style.display = 'block'\r\n\r\n        if (props.component === \"manual\") {\r\n            appCtx.toggleSetManualPage(activeStep + 1)\r\n        } else if (props.component === \"welcome\") {\r\n            appCtx.toggleSetWelcomePage(activeStep + 1)\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Function handles clicking back to the previous page and the associated re-rendering of the selected text.\r\n     */\r\n    const handleBack = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n        setButtonValue((buttonValue) => buttonValue - 1);\r\n\r\n        document.getElementById(String(buttonValue)).style.display = 'none'\r\n        document.getElementById(String(buttonValue - 1)).style.display = 'block'\r\n\r\n        if (props.component) {\r\n            appCtx.toggleSetManualPage(activeStep - 1)\r\n        } else if (props.component === \"welcome\") {\r\n            appCtx.toggleSetWelcomePage(activeStep + 1)\r\n\r\n        }\r\n    };\r\n\r\n    return (\r\n        <MobileStepper\r\n            variant=\"progress\"\r\n            steps={props.length + 1}\r\n            position=\"static\"\r\n            activeStep={activeStep}\r\n            sx={{ width: '97%', flexGrow: 1, top: '90%', position: 'absolute', background: 'transparent' }}\r\n            nextButton={\r\n                <Button size=\"small\" onClick={handleNext} disabled={activeStep === props.length}>\r\n                    {props.right}\r\n                    {theme.direction === 'rtl' ? (\r\n                        <KeyboardArrowLeft />\r\n                    ) : (\r\n                        <KeyboardArrowRight />\r\n                    )}\r\n                </Button>\r\n            }\r\n\r\n            backButton={\r\n                <Button size=\"small\" onClick={handleBack} disabled={activeStep === 1}>\r\n                    {theme.direction === 'rtl' ? (\r\n                        <KeyboardArrowRight />\r\n                    ) : (\r\n                        <KeyboardArrowLeft />\r\n                    )}\r\n                    {props.left}\r\n                </Button>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nStepperCtrl.propTypes = {\r\n    component: propTypes.string.isRequired,\r\n    length: propTypes.number.isRequired,\r\n    left: propTypes.string,\r\n    right: propTypes.string,\r\n    buttonValue: propTypes.number.isRequired,\r\n}\r\n\r\nexport default StepperCtrl;","import styles from \"./CSS/ManualWindowContent.module.css\";\r\nimport Stepper from \"../../UI/templates/Stepper\";\r\nimport { theme } from '../../UI/templates/Theme';\r\nimport { ThemeProvider } from '@mui/material/';\r\n\r\n/**\r\n * Manual description content \r\n * \r\n * @description This window contains instructions for carrying out the experiment.\r\n * \r\n * @returns {React.ReactElement} Instruction text for the experiment \r\n */\r\nconst ManualWindowContent = (props) => {\r\n  return (\r\n    <div>\r\n      <div className={styles.mainWrapper}      >\r\n        {/* First Page */}\r\n        <div id={'10'}>\r\n          <b>1. &nbsp; Introduction</b><br /><br />\r\n          <ul>\r\n            <li>Welcome to our remote-controlled <b>Michelson&nbsp;Interferometer</b>! Today, we'll explore various physical effects and phenomena. Remember, this manual serves as a guide, and users can follow their own exploration path based on their interests and objectives. Enjoy your journey through the fascinating world of Michelson interferometry!\r\n            </li><br />\r\n            <li>Discover who is currently engaged in experimentation with you at the <b>XRTL&nbsp;Showcase</b>. Simply type <i>\"!users\"</i> in the chat (pinned on the left edge) to unveil the answer. You can communicate with them via the chat.\r\n            </li><br />\r\n            <li>Discover who is currently engaged in experimentation with you at the <b>XRTL&nbsp;Showcase</b>. You can simply communicate with them via the chat (pinned on the left edge).\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Second Page */}\r\n        <div id={'11'} style={{ display: 'none' }}>\r\n          <b>2. &nbsp; Overview</b><br /><br />\r\n          <ul>\r\n            <li>Initiate your experiment by gaining an overview. Begin by accessing the live camera feed through the menu located at the top right corner. From there, you can observe the current state of the experimental setup in our showcase at the <b>Abbe&nbsp;School&nbsp;of&nbsp;Photonics</b>. Take note of the visible components and compare them with those displayed in the 3D model.\r\n              <br /> Can you identify all of them?\r\n            </li><br />\r\n            <li>Familiarize yourself with the user interface, including the power supply, mirror controls and beam splitter options. Simply tap on the individual components to display the respective control window.\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Third Page */}\r\n        <div id={'12'} style={{ display: 'none' }}>\r\n          <b>3.a &nbsp; Laser</b><br /><br />\r\n          <ul>\r\n            <li>Direct your attention to the <b>Screen</b> and tap on it to proceed. This action will open a window displaying a live camera stream of the screen. Initially, when the laser is inactive, you will observe a gray wall.\r\n            </li><br />\r\n            <li>Now, let's activate the laser. To accomplish this, tap on the <b>Power&nbsp;Supply</b> to reveal its control window and switch on the laser. Take a moment to observe the screen once again.\r\n              <br />Can you perceive any changes now?\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Fourth Page */}\r\n        <div id={'13'} style={{ display: 'none' }}>\r\n          <b>3.b &nbsp; Laser</b><br /><br />\r\n          <ul>\r\n            <li>You should!\r\n              <ul>\r\n                <br /><li>If you see green concentric rings, then the <b>Michelson&nbsp;Interferometer</b> is well adjusted.\r\n                </li><br />\r\n                <li>If you see stripes, then the reference mirror is tilted.\r\n                </li><br />\r\n                <li>If you only see a green spot, then the experiment is misaligned.\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Fifth Page */}\r\n        <div id={'14'} style={{ display: 'none' }}>\r\n          <b>4. &nbsp; Beam Path</b><br /><br />\r\n          <ul>\r\n            <li>Tap on the laser symbol located in the top center next to the Overview label to visualize the laser beam path within the interferometer.\r\n              <ul>\r\n                <br /><li>The <b>Lens</b> widens the beam so that a larger area on the screen can be illuminated instead of just one spot.\r\n                </li><br />\r\n                <li>The <b>Beam&nbsp;Splitter</b> divides the beam into two partial beams. These partial beams then proceed along separate paths before ultimately reuniting at the Beam Splitter on their way towards the Screen.\r\n                </li><br />\r\n                <li>The <b>Linear&nbsp;Movable&nbsp;Mirror</b> can be used to change the path length of one partial beam.\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Fifth Page */}\r\n        <div id={'15'} style={{ display: 'none' }}>\r\n          <b>5. &nbsp; Basic Interference</b><br /><br />\r\n          <ul>\r\n            <li>Prior to commencing, ensure that the experiment is set to its initial state. To accomplish this, type <i>\"!reset\"</i> into the chat.\r\n            </li><br />\r\n            <li>Start by adjusting the path length difference between the two arms of the interferometer using the <b>Linear&nbsp;Movable&nbsp;Mirror</b>.\r\n            </li><br />\r\n            <li>Observe the resulting interference pattern on the <b>Screen</b>. Note the changes as you vary the path length difference.\r\n              <br />Do the rings grow or shrink?\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Sixth Page */}\r\n        <div id={'16'} style={{ display: 'none' }}>\r\n          <b>6. &nbsp; Tiltable Mirror</b><br /><br />\r\n          <ul>\r\n            <li>Next, experiment with the <b>Reference&nbsp;Mirror</b> to change the angle of this mirror.\r\n            </li><br />\r\n            <li>Observe how the tilt affects the interference pattern. You should notice a shift of the diffraction pattern center.\r\n              <br />How does the distance between the rings change from the center to the outside?\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Seventh Page */}\r\n        <div id={'17'} style={{ display: 'none' }}>\r\n          <b>7. &nbsp; Second Beam Splitter</b><br /><br />\r\n          <ul>\r\n            <li>Activate the <b>Retractable&nbsp;Beam&nbsp;Splitter</b> to observe the second output of the interferometer on the <b>Screen</b>.\r\n            </li><br />\r\n            <li>Engage in a comparison between the two interference patterns, while also utilizing the setup's capability to modify the patterns.\r\n              <br />What is the relationship that exists between these two patterns?\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Eighth Page */}\r\n        <div id={'18'} style={{ display: 'none' }}>\r\n          <b>8. &nbsp; Conclusion</b><br /><br />\r\n          <ul>\r\n            <li>Congratulations! You've explored a range of physical effects with our remote-controlled <b>Michelson&nbsp;Interferometer</b>.\r\n            </li><br />\r\n            <li>Feel free to continue experimenting with the <b>XRTL&nbsp;Showcase</b> and exploring on your own.\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      {/* Stepper at the bottom of the window */}\r\n      <ThemeProvider theme={theme}>\r\n        <Stepper left={'Back'} right={'Next'} buttonValue={10} length={9} component={'manual'} />\r\n      </ThemeProvider>\r\n    </div>\r\n  )\r\n}\r\nexport default ManualWindowContent;","import ManualWindowContent from \"../experiment/ComponentDescription/ManualWindowContent\";\r\nimport Window from \"../UI/experimentUI/Window\";\r\n\r\n/**\r\n * Manual window\r\n * \r\n * @description This react component returns a window with the content for the manual window. \r\n *  \r\n * @returns {React.ReactElement} Manual window\r\n */\r\nconst ManualWindow = (props) => {\r\n    var width = window.innerWidth\r\n    var height = 0;\r\n\r\n    if (0 < width && width < 576) {\r\n        width = '350px'\r\n        height = '480px'\r\n    } else {\r\n        width = '510px'\r\n        height = '440px'\r\n    }\r\n\r\n    return (\r\n        <Window\r\n            header=\"XR TwinLab Manual\"\r\n            id='manual'\r\n            top={100}\r\n            left={1000}\r\n            width={width}\r\n            height={height}\r\n            footer={'none'}\r\n            topper={'none'}\r\n        >\r\n            <ManualWindowContent />\r\n        </Window>\r\n    );\r\n};\r\nexport default ManualWindow;","import MichelsonInterferometer from \"../../experiment/QuantumCryptography/QuantumCryptography\";\r\nimport { useSocketContext } from \"../../../services/SocketContext\";\r\nimport { usePopUpContext } from \"../../../services/PopUpContext\";\r\nimport { useAppContext } from \"../../../services/AppContext\";\r\nimport CamWindow from \"../../windows/OverviewCamWindow\";\r\nimport InfoWindow from \"../../windows/InfoWindow\";\r\nimport ManualWindow from \"../../windows/ManualWindow\";\r\nimport { useEffect, Fragment } from \"react\";\r\nimport { isEqual } from 'lodash';\r\nimport { memo } from \"react\";\r\n\r\n/**\r\n *  Fragment component \r\n * \r\n * @description This React component returns several components, on one hand the information window, the overview camera window and on the other hand the \r\n * experiment class that handles the rendering of the component windows. Furthermore, within this component, the auth/authfail command is handled and the \r\n * associated pop-up windows. The underConstruction command is processed within this React component.\r\n * \r\n * @returns {React.Fragment} Information window, the overview camera and experiment component  \r\n */\r\nconst ExperimentUILayer = () => {\r\n  const socketCtx = useSocketContext();\r\n  const popupCtx = usePopUpContext();\r\n  const appCtx = useAppContext();\r\n\r\n  useEffect(() => {\r\n    // If authentication was successful on the server side, then auth command is received with the colour assigned by the server.\r\n    const auth = (color) => {\r\n      popupCtx.toggleShowPopUp('Connection successful!', 'success');\r\n      socketCtx.socket.emit('userId', socketCtx.username);\r\n      socketCtx.setConnected(true);\r\n      socketCtx.setFontColor(color);\r\n    }\r\n\r\n    // When underConstruction command is received\r\n    const underConstruction = (payload) => {\r\n      appCtx.toggleunderConstruction(payload);\r\n    }\r\n\r\n    // If authentication fails on the server side because too many users are connected to the server, the authfailed command is sent to the client.\r\n    const authFailed = () => {\r\n      socketCtx.setConnected(false);\r\n      popupCtx.toggleShowPopUp('To many user are connected right now!', 'warning');\r\n    }\r\n\r\n    socketCtx.socket.on('AuthFailed', authFailed)\r\n\r\n    socketCtx.socket.on('Auth', auth);\r\n\r\n    socketCtx.socket.on('underConstruction', underConstruction)\r\n\r\n    // Prevents the rendering of the pop-up message when the web page is opened.\r\n    if (socketCtx.username !== '') {\r\n      popupCtx.toggleShowPopUp('No server connection!', 'error');\r\n    }\r\n\r\n    return () => {\r\n      socketCtx.socket.removeAllListeners('underConstruction', underConstruction)\r\n      socketCtx.socket.removeAllListeners('AuthFailed', authFailed)\r\n      socketCtx.socket.removeAllListeners('Auth', auth)\r\n\r\n    }\r\n    //Comment needed to prevent a warning\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socketCtx.socket]);\r\n\r\n  return (\r\n    <Fragment>\r\n      {appCtx.showInfoWindow && <InfoWindow />}\r\n      {appCtx.showCam && <CamWindow />}\r\n      {appCtx.showManualWindow && <ManualWindow />}\r\n      <MichelsonInterferometer\r\n        selected={appCtx.selectedComps}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\nexport default memo(ExperimentUILayer, isEqual);","import React, { useRef, memo } from \"react\";\r\nimport { isEqual } from \"lodash\";\r\n\r\nfunction Model2d({ ...props }) {\r\n  const group = useRef();\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n    </group>\r\n  );\r\n}\r\n\r\nexport default memo(Model2d, isEqual);","export default __webpack_public_path__ + \"static/media/MI_2D.24bfbd1c.png\";","import ESPCam from \"../../UI/templates/ESPCam\";\r\nimport OfflineModel from \"./media/MI_2D.png\";\r\nimport Model from \"./media/Transparent.png\";\r\nimport ImageMapper from \"react-img-mapper\";\r\nimport React, { useState } from \"react\";\r\nimport \"./CSS/2D_MI_Overlay.css\";\r\n\r\n/**\r\n * OverviewCam Stream as a 2D-VirtualLayer\r\n * \r\n * @description Within this React component, the OverviewCam stream is set as the background of the React app, and hitboxes are placed where the optical components are. \r\n * Clicking on these boxes will open the corresponding component window. If there is no connection to the server, an image is used instead of the stream.\r\n * \r\n * @param {Function} toggleSelect - Adds the clicked component to the set in AppContext\r\n * @param {Set} selected - Contains the components whose component windows are currently open.\r\n * @param {Socket} socket - Holds the connection to the server\r\n * \r\n * @returns {React.ReactElement} 2D VirtualLayer\r\n */\r\n\r\nconst Overlay = (props) => {\r\n    const [hoveredArea, setHoveredArea] = useState(null);\r\n\r\n    // Determines the width and height of the browser window\r\n    let screen_width = window.innerWidth;\r\n    let screen_height = window.innerHeight;\r\n\r\n    // Function scales the rectangular hitboxes according to the height and width of the browser window \r\n    // Requires as input the coordinates of the box in the form of (x_start, y_end, x_end, y_end)\r\n    // Output: scaled array in the form (x_start, y_end, x_end, y_end)\r\n    const boxScaling = (arrayToScale) => {\r\n        let hitbox_scaling = [screen_width / 1920, screen_height / 955, screen_width / 1920, screen_height / 955];\r\n        arrayToScale = arrayToScale.map((value, index) => parseInt(value * hitbox_scaling[index]));\r\n\r\n        return arrayToScale;\r\n    }\r\n\r\n    // Definition of all hitboxes by specifying the controlId, the shape, the coordinates (x_start, y_start, x_end, y_end) \r\n    // and the text to be displayed when hovering over the box.\r\n    let MAP = {\r\n        name: \"MI_Simple_imagemap\",\r\n        areas: [\r\n            { controlId: \"screen\", shape: \"rect\", coords: boxScaling([350, 0, 1050, 100]), desc: 'Screen' },\r\n            { controlId: \"linear_1\", shape: \"rect\", coords: boxScaling([5, 480, 180, 740]), desc: 'Linear Movable Mirror' },\r\n            { controlId: \"beamblocker1\", shape: \"rect\", coords: boxScaling([200, 500, 300, 680]), desc: 'Beam Blocker' },\r\n            { controlId: \"KM100_1\", shape: \"rect\", coords: boxScaling([450, 800, 740, 1000]), desc: 'Reference Mirror' },\r\n            { controlId: \"beamSplitter\", shape: \"rect\", coords: boxScaling([730, 400, 940, 600]), desc: 'Retract. Beam Splitter' },\r\n            { controlId: \"beamblocker2\", shape: \"rect\", coords: boxScaling([680, 700, 900, 800]), desc: 'Beam Blocker' },\r\n            { controlId: \"greenlaserPower_1\", shape: \"rect\", coords: boxScaling([1350, 200, 1600, 450]), desc: 'Power Supply' },\r\n            { controlId: \"greenlaser_1\", shape: \"rect\", coords: boxScaling([1450, 400, 1700, 600]), desc: 'Laser Alignment' },\r\n        ]\r\n    };\r\n\r\n    // Returns the position where the text to be displayed is to be placed\r\n    const getTipPosition = (area) => {\r\n        return { top: `${area.center[1]}px`, left: `${area.center[0] - 20}px` };\r\n    }\r\n\r\n    // Adds the clicked component to the set within the AppContext, whereupon the corresponding component window is rendered.\r\n    const clicked = (area) => {\r\n        props.toggleSelect(area.controlId);\r\n        // console.log('You clicked on ' + area.controlId + ' !');\r\n    }\r\n\r\n    // Displays the hitbox and the description when hovering over the box with the mouse\r\n    const enterArea = (area) => {\r\n        setHoveredArea(area);\r\n        //console.log(\"Going in...\");\r\n    }\r\n\r\n    // Ensures that the hitbox and the description are no longer displayed when you leave the box area with the mouse\r\n    const leaveArea = (area) => {\r\n        setHoveredArea(null);\r\n        //console.log(\"Going out...\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid\">\r\n            <div className=\"presenter\">\r\n                <div style={{ position: 'relative', zIndex: 0 }}>\r\n\r\n                    {/* ESPCam Stream can only be displayed if there is a connection to the server. Otherwise, the OfflineModel image is used as the basis for the hitboxes (see src of the ImageMapper) */}\r\n                    {props.socket.connected ?\r\n                        <ESPCam component={'overview'} width={String(window.innerWidth)} height={String(window.innerHeight)}\r\n                            style={{ top: '0px', transform: 'rotate(180deg)', height: '100%', width: '100%', margin: '0', display: 'block' }} />\r\n                        :\r\n                        <div />\r\n                    }\r\n\r\n                    {/* To render the hitboxes, the ImageMapper requires an image as a source (in this case a transparent image if there is a server connection \r\n                        and a replacement image if not) and the already defined boxes, which are then projected onto the image. */}\r\n                    <ImageMapper\r\n                        src={props.socket.connected ? Model : OfflineModel}\r\n                        map={MAP}\r\n                        onClick={(area) => clicked(area)}\r\n                        onMouseEnter={(area) => enterArea(area)}\r\n                        onMouseLeave={(area) => leaveArea(area)}\r\n                        lineWidth={2}\r\n                        strokeColor={\"white\"}\r\n\r\n                        width={window.innerWidth}\r\n                        height={window.innerHeight}\r\n                    />\r\n                    {/* Handles displaying the description when hovering over the box with the mouse */}\r\n                    {hoveredArea && (\r\n                        <span className=\"tooltip\"\r\n                            style={{ ...getTipPosition(hoveredArea) }}>\r\n                            {hoveredArea && hoveredArea.desc}\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Overlay;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABVYAAAMACAYAAADPPjzCAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+mikUrDnYQEcxQxcEuKuJYqlgEC6Wt0KqDyaV/0KQhSXFxFFwLDv4sVh1cnHV1cBUEwR8QVxcnRRcp8buk0CLGO457eO97X+6+A4RGhalmVxRQNctIxWNiNrcq9ryiDwGaExiVmKkn0osZeI6ve/j4fhfhWd51f45+JW8ywCcSR5luWMQbxLObls55nzjESpJCfE48adAFiR+5Lrv8xrnosMAzQ0YmNU8cIhaLHSx3MCsZKvEMcVhRNcoXsi4rnLc4q5Uaa92TvzCY11bSXKc1gjiWkEASImTUUEYFFiK0a6SYSNF5zMM/7PiT5JLJVQYjxwKqUCE5fvA/+N1bszA95SYFY0D3i21/jAE9u0Czbtvfx7bdPAH8z8CV1vZXG8DcJ+n1thY+Aga2gYvrtibvAZc7wNCTLhmSI/lpCYUC8H5G35QDBm+B3jW3b61znD4AGerV8g1wcAiMFyl73ePdgc6+/VvT6t8PsAdyv/0Rq+0AAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnCwgILQfFrAaQAAAP+UlEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvBg7AAAHWSJxdAAAAAElFTkSuQmCC\"","import Model3d from \"../../experiment/QuantumCryptography/QC\";\r\nimport { useSocketContext } from \"../../../services/SocketContext\";\r\nimport { OrbitControls, Environment, } from \"@react-three/drei\";\r\nimport Model2d from \"../../experiment/2D Model/2D_MI_Overlay\";\r\nimport { useAppContext } from \"../../../services/AppContext\";\r\nimport { Canvas } from \"@react-three/fiber\";\r\nimport { Suspense } from \"react\";\r\n\r\n/**\r\n * 3D Experiment Visualization and Overview Camera Stream\r\n * \r\n * @description Within this recat component, the visualisation of the 3D model or the overview camera stream of the experiment is handled as the background of the React app.\r\n * \r\n * @param {string} height - For scaling the content (is specified in pixels)\r\n * @param {string} width - For scaling the content (is specified in pixels)\r\n *  \r\n * @returns {React.ReactElement} Background of the web application  \r\n */\r\nconst VirtualLayer = (props) => {\r\n\r\n  const appCtx = useAppContext();\r\n  const socketCtx = useSocketContext();\r\n\r\n  if (!appCtx.showVirtualLayer) {\r\n\r\n    // 3D model of the experiment\r\n    return (\r\n      /* Handles the colour gradient of the background */\r\n      <Canvas\r\n        style={{\r\n          position: \"absolute\",\r\n          background: \"linear-gradient(Teal, Black)\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n        }}\r\n        /* Enable the automatic conversion of colors according to the renderer's configured color space */\r\n        colorManagement\r\n        softShadows\r\n        /* Positioning of the viewpoint */\r\n        camera={{ position: [5, 4, 5], fov: 30 }}\r\n      >\r\n        {/* Display a fallback until its children have finished loading */}\r\n        <Suspense fallback={null}>\r\n          <Environment files=\"../hdri/autoshop.hdr\" />\r\n          {/* Handles the ambient rotation of the experiment */}\r\n          <OrbitControls autoRotate={appCtx.autoRotate} />\r\n          {/* Intialisation of the 3D model and transfer of the most important parameters required within this class. */}\r\n          <Model3d\r\n            toggleSelect={appCtx.toggleSelectedComp}\r\n            selected={appCtx.selectedComps}\r\n            showTags={appCtx.showTags}\r\n            showBeam={appCtx.showBeam}\r\n            socket={socketCtx.socket}\r\n          />\r\n        </Suspense>\r\n      </Canvas>\r\n    );\r\n  } else {\r\n    // To display the OverviewCam as a VirtualLayer\r\n    return (\r\n      <Model2d\r\n        toggleSelect={appCtx.toggleSelectedComp}\r\n        selected={appCtx.selectedComps}\r\n        socket={socketCtx.socket}\r\n      />\r\n    );\r\n  }\r\n};\r\nexport default VirtualLayer;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./index.css\"\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>,\r\n  document.getElementById(\"root\")\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"window\":\"Window_window__2Dbiz\",\"windowHeader\":\"Window_windowHeader__16OVw\",\"windowFooter\":\"Window_windowFooter__RnMsR\",\"icon\":\"Window_icon__2DHz_\",\"iconClose\":\"Window_iconClose__3gaHK\"};","import { createTheme } from '@mui/material/styles';\r\n\r\n/**\r\n * Standard theme\r\n * \r\n * @description This theme is the default theme used.\r\n * \r\n * @returns theme\r\n */\r\nexport const theme = createTheme({\r\n    palette: {\r\n        mode: 'dark',\r\n        primary: {\r\n            light: '#01bd7d',\r\n            main: '#01bd7d',\r\n            dark: '#01bd7d',\r\n            contrastText: '#01bd7d',\r\n        },\r\n    }\r\n})\r\n\r\n/**\r\n * Login theme\r\n * \r\n * @description This theme is used in the login window. The special feature here is that the contrast text is white and spaceing is set to two.\r\n * \r\n * @returns login theme\r\n */\r\n\r\nexport const themeLogin = createTheme({\r\n    palette: {\r\n        mode: 'dark',\r\n        primary: {\r\n            light: '#01bd7d',\r\n            main: '#01bd7d',\r\n            dark: '#01bd7d',\r\n            contrastText: '#fff',\r\n        },\r\n    },\r\n    spacing: 2,\r\n})","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatContainer\":\"Chat_chatContainer__mY28A\",\"chatMain\":\"Chat_chatMain__3a-YA\",\"msgForm\":\"Chat_msgForm__3nEHR\",\"chatHandler\":\"Chat_chatHandler__Sa2lu\",\"openChat\":\"Chat_openChat__3ZxIR\",\"closeChat\":\"Chat_closeChat__1Bvup\",\"buttonBlink\":\"Chat_buttonBlink__2zKeF\"};","import { useState, useContext, createContext } from \"react\";\r\nimport { useSocketContext } from \"./SocketContext\";\r\nimport { Alert, Snackbar } from '@mui/material';\r\n\r\nconst PopUpContext = createContext();\r\n\r\n// Creates the PopUpContext, so that it can be accessed/imported from other React components\r\nexport function usePopUpContext() {\r\n    return useContext(PopUpContext);\r\n}\r\n/**\r\n * PopUp Window \r\n *\r\n * @description  This React component is a ContextProvider, which means that every function within this class can be executed whenever \r\n * this class is imported. It can only be imported in React components, which are in the hierachie below the PopUpcontext. This class \r\n * included a function for the cration of a new PopUp window with the transmitted text and typ. The type can be for example warning, success\r\n * or info.\r\n * \r\n *\r\n * @returns {React.Context} PopUp context\r\n */\r\nexport function PopUpContextProvider({ children }) {\r\n    const [showPopUp, setShowPopUp] = useState(false); // displays popUp window, if true\r\n    const [text, setText] = useState(''); // represents the text displayed in the popUp window\r\n    const [type, setType] = useState('info'); // sets the type of the popUp window, e.g. warning, info, success\r\n\r\n    const socketCtx = useSocketContext();\r\n\r\n    // Display of popUp window, if microcontroller sends a error message to the server\r\n    socketCtx.socket.on('error', error => {\r\n        setShowPopUp(true);\r\n        setText(error.errmsg);\r\n        setType('error');\r\n    })\r\n\r\n    // Display of popUp widnow, if new web application client has connected to the server\r\n    socketCtx.socket.on('newUser', (payload) => {\r\n        toggleShowPopUp(payload + ' has joined the experiment!', 'info')\r\n    })\r\n\r\n    // Creates a new popUp Window with transmitted text and type\r\n    const toggleShowPopUp = (newText, newType) => {\r\n        setText(newText);\r\n        setType(newType);\r\n        setShowPopUp(true);\r\n    }\r\n\r\n    // Handles the closing of the popUp window, if the the close icon is clicked\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setShowPopUp(false);\r\n    };\r\n\r\n    //Styling of the popUp window \r\n    return (\r\n        <PopUpContext.Provider\r\n            value={{\r\n                showPopUp,\r\n                toggleShowPopUp\r\n            }}\r\n        >\r\n            <Snackbar open={showPopUp} autoHideDuration={2000} onClose={handleClose} >\r\n                <div  style={{ position: 'fixed', top: '5.25%', right: '0.5%' }}>\r\n                    <Alert variant=\"filled\" severity={type} onClose={() => { setShowPopUp(false) }}>{text}</Alert>\r\n                </div>\r\n            </Snackbar>\r\n            {children}\r\n        </PopUpContext.Provider>\r\n    );\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"consoleContainer\":\"Console_consoleContainer__1ZnEy\",\"consoleMain\":\"Console_consoleMain__N0ilp\",\"consoleHandler\":\"Console_consoleHandler__2xKY1\",\"openConsole\":\"Console_openConsole__27SFm\",\"closeConsole\":\"Console_closeConsole__2wRIw\"};"],"sourceRoot":""}