{"version":3,"sources":["services/PopUpContext.js","components/Console/CSS/Console.module.css","components/UI/CSS/Settings.module.css","components/UI/CSS/RotaryCtrl.module.css","components/UI/CSS/NavBar.module.css","components/Login/CSS/Login.module.css","services/SocketContext.js","App.js","components/experiment/windows/CSS/ManualWindowContent.module.css","components/windows/CSS/InfoWindowContent.module.css","components/UI/experimentUI/NavBar.js","components/Console/Console.js","services/AppContext.js","components/Login/Login.js","components/Chat/Chat.js","components/assembly/media/BS_outline.png","components/UI/templates/Switch.js","components/UI/CtrlUnits/BeamSplitterCtrl.js","components/experiment/ComponentDescription/Content/Description_ESPCam.js","components/experiment/ComponentDescription/Content/Description_KM100.js","components/experiment/ComponentDescription/Content/Description_Laser.js","components/experiment/ComponentDescription/Content/Description_LaserCtrl.js","components/experiment/ComponentDescription/Content/Description_SM1ZP.js","components/windows/Content/Description_Impressum.js","components/experiment/ComponentDescription/Content/Description_BeamSplitter.js","components/windows/DescriptionHandler.js","components/UI/experimentUI/Window.js","components/assembly/BeamSplitter.js","components/UI/templates/ESPCam.js","components/UI/templates/Slider.js","components/UI/templates/Select.js","components/UI/CtrlUnits/ESPCamPlusSettings.js","components/assembly/ESPCam.js","components/assembly/media/PS_outline.png","components/UI/CtrlUnits/LaserCtrl.js","components/assembly/Laser.js","components/assembly/media/km100_outline.png","components/UI/CtrlUnits/RotaryCtrl.js","components/assembly/KM100.js","components/assembly/media/linear_outline.png","components/assembly/SM1ZP.js","components/experiment/ComponentDescription/Content/Decription_Cube.js","components/assembly/BsCube.js","components/experiment/ComponentDescription/Content/Decription_Lens.js","components/assembly/Lens.js","components/experiment/MichelsonInterferometer/MichelsonInterferometer.js","components/media/images/Component_Window.gif","components/media/images/MI_Beampath.gif","components/media/images/xrtl_team.png","components/UI/templates/Stepper.js","components/experiment/windows/Content/WelcomeWindowContent.js","components/experiment/windows/WelcomeWindow.js","components/experiment/windows/Content/ManualWindowContent.js","components/experiment/windows/ManualWindow.js","components/UI/CtrlUnits/ESPCamWithoutSettings.js","components/windows/OverviewCamWindow.js","components/windows/Content/InfoWindowContent.js","components/windows/InfoWindow.js","components/UI/experimentUI/ExperimentUILayer.js","components/UI/experimentUI/DescriptiveTag.js","components/experiment/MichelsonInterferometer/MIS1_230504.js","components/experiment/MichelsonInterferometer/MIS1_2D_control.js","components/UI/experimentUI/VirtualLayer.js","index.js","components/UI/templates/Theme.js","components/windows/CSS/Description.module.css","components/UI/CSS/Window.module.css","components/experiment/windows/CSS/WelcomeWindowContent.module.css","components/Chat/CSS/Chat.module.css"],"names":["PopUpContext","createContext","usePopUpContext","useContext","PopUpContextProvider","children","showPopUp","setShowPopUp","useState","text","setText","type","setType","socketCtx","useSocketContext","socket","on","error","errmsg","payload","toggleShowPopUp","newText","newType","Provider","value","open","autoHideDuration","onClose","event","reason","style","position","top","right","variant","severity","module","exports","manager","Manager","autoConnect","SocketContext","jwt","require","SocketContextProvider","fontColor","setFontColor","connected","setConnected","username","setUsername","URL","setURL","appCtx","useAppContext","useEffect","connect","e","addLog","setSocket","disconnect","removeAllListeners","setNewURL","newURL","includes","toggleConnection","close","sub","component","token","sign","auth","emit","helperEmit","App","process","title","NavBar","connectionStatusColor","showTagsColor","showTags","cameraStatusColor","showCam","showInfoWindowColor","showInfoWindow","showManualWindowColor","showManualWindow","showBeamColor","showBeam","showVirtualLayerColor","showVirtualLayer","mobileVersion","setMobileVersion","openMobileVersion","Boolean","closeMobileVersion","id","className","styles","navbar","theme","underConstruction","navMenu","onClick","toggleLogin","size","color","toggleShowTags","toggleCam","toggleShowVirtualLayer","toggleShowBeam","toggleShowManualWindow","toggleShowInfoWindow","mobile","currentTarget","sx","borderRadius","height","width","bgcolor","MenuListProps","anchorEl","disableRipple","paddingRight","memo","isEqual","Console","props","showConsole","setShowConsole","animation","setAnimation","consoleContainer","consoleMain","logs","map","index","consoleHandler","closeConsole","openConsole","AppContext","React","AppContextProvider","setUnderConstruction","setShowVirtualLayer","roomComponent","setRoomComponent","Set","selectedComps","setSelectedComps","setShowInfoWindow","setShowManual","showWelcomeWindow","setShowWelcome","autoRotate","setAutoRotate","showLogin","setShowLogin","manualPage","setManualPage","setShowBeam","setShowTags","setShowCam","setLogs","toggleSelectedComp","compId","has","prev","filter","x","toogleRoomComp","add","val","controlId","userId","toggleAutoRotate","log","toggleShowWelcomeWindow","toggleunderConstruction","newVal","toggleSetManualPage","Login","connectionOption","connection","setConnection","handleLogin","String","handleChange","target","themeLogin","popupWindow","popupInner","fontSize","autoFocus","label","onChange","onKeyPress","key","marginLeft","helperText","endIcon","marginBottom","Chat","showChat","setShowChat","message","setMessage","chat","setChat","beamSplitter1","setBeamSplitter1","beamSplitter2","setBeamSplitter2","status","absolute","getStatus","sendMessage","async","preventDefault","at","user","i","length","slice","controlIds","reset","switch","binaryCtrl","Promise","resolve","setTimeout","move","showCase","frameSize","exposure","contrast","chatContainer","chatMain","msgForm","paddingTop","htmlFor","endAdornment","edge","chatHandler","closeChat","openChat","SwitchCtrl","switchValue","setSwitchValue","Box","FormGroup","Stack","direction","alignItems","ml","Typography","left","Switch","checked","switchStatus","newValue","option","substring","inputProps","disabled","online","BeamSplitterCtrl","setSwitchStatus","onlineStatus","setOnlineStatus","ThemeProvider","border","textAlign","DescriptionESPCam","mainWrapper","DescriptionKM100","DescriptionLaser","DescriptionLaserCtrl","DescriptionSM1ZP","mr","Button","window","DescriptionBeamSplitter","DescriptionHandler","renderOption","linear_1","KM100_1","screen","greenlaser_1","greenlaserPower_1","beamSplitter","info","Window","lastChange","setLastChange","footer","setFooter","setInfo","popupCtx","topper","setTopper","para","icon","iconClose","setting","none","undefined","Footer","componentList","time","Date","getHours","getMinutes","getSeconds","getDay","getMonth","getFooter","handle","windowHeader","display","cursor","float","header","smallSetting","smallSettings","windowContent","background","windowFooter","timeNow","difH","difMin","difSec","alert","identify","windowInfo","BeamSplitter","BS_Background","ESPCamSettings","ctx","data","uint8Arr","Uint8Array","binary","fromCharCode","base64String","btoa","img","Image","onload","canvas","document","getElementById","getContext","drawImage","this","src","Canvas","SliderCtrl","sliderPos","setSliderPos","sliderValue","marks","parseInt","min","max","handleSettingChanges","m","gutterBottom","spacing","mb","Slider","aria-label","valueLabelDisplay","step","onChangeCommitted","TypeSelectMenuItem","MenuItem","CustomSelect","FormControl","fullWidth","InputLabel","Select","selectValue","isNaN","Number","Object","keys","list","ESPCamPlusSettings","switchIsOn","setFrameSize","setContrast","setExposure","gray","Settings","IconButton","setSetting","ESPCam","5","8","9","10","ESPCamStream","innerWidth","LaserCtrl","setSwitch","isOn","Laser","PS_Background","RotaryCtrl","enteredRotation","setEnteredRotation","rotation","setRotation","busy","rotCW_Handler","name","rotaryCtrl","CtrlLeft","CtrlRight","KM100","controlIdBottom","controlIdTop","KM100_Background","rotationTop","rotationBottom","SM1ZP","SM1ZP_bg","DescriptionCube","BsCube","DescriptionLens","MichelsonInterferometer","zero","innerHeight","halfWidth","topHigh","topHighMiddle","topMiddle","leftLeft","leftMiddle","leftRight","leftMiddleRight","selected","Lens","StepperCtrl","useTheme","activeStep","setActiveStep","buttonValue","setButtonValue","MobileStepper","steps","flexGrow","nextButton","prevActiveStep","backButton","gifContainer","createElement","classList","gifImage","Gif1","alt","appendChild","WelcomeWindowContent","align","WelcomegifContainer1","WelcomegifContainer2","Gif2","WelcomegifContainer3","Gif3","Stepper","WelcomeWindow","ManualWindowContent","ManualWindow","ESPCamWithoutSettings","transform","backgroundSize","CamWindow","InfoWindowContent","backgroundImage","bgTeam","href","InfoWindow","ExperimentUILayer","authFailed","toggleSelect","DescriptiveTag","wrapperStyle","y","Html","zIndexRange","borderLeft","description","Model","group","useRef","useGLTF","nodes","materials","beamSplitterState","setBeamSplitterState","ref","dispose","args","scale","thickness","roughness","transmission","clearcoat","clearcoatRoughness","ior","envMapIntensity","attenuationColor","attenuationDistance","Math","PI","onPointerDown","stopPropagation","geometry","Thorlabs_Servo_Mount_Loose_V1_Stand","material","Cylinder002_1","Cylinder002_2","Servo","Thorlabs_Servo_Mount_Loose_V1_Adapter","transparent","opacity","LaserBeam","emissive","emissiveIntensity","LaserBeamBS","castShadow","receiveShadow","SideMirrorMesh","BlackParts","SideMirrorMesh_1","ShinyParts","SideMirrorMesh_2","Mirror","TranslateMirrorMesh","TranslateMirrorMesh_1","TranslateMirrorMesh_2","PlaneMesh","PlaneMesh_1","BaseMesh","BaseMesh_1","LensMesh001","LensMesh001_1","BeamSplitterMesh001","BeamSplitterMesh001_1","LaserMesh","LaserMesh_1","SD5","preload","Model2d","VirtualLayer","colorManagement","softShadows","camera","fov","fallback","Environment","files","OrbitControls","MIS1_230504","Billboard","ReactDOM","render","createTheme","palette","mode","primary","light","main","dark","contrastText"],"mappings":"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","file":"static/js/main.976ce54c.chunk.js","sourcesContent":["import { useState, useContext, createContext } from \"react\";\r\nimport { useSocketContext } from \"./SocketContext\";\r\nimport { Alert, Snackbar } from '@mui/material';\r\n\r\nconst PopUpContext = createContext();\r\n\r\nexport function usePopUpContext() {\r\n    return useContext(PopUpContext);\r\n}\r\n\r\nexport function PopUpContextProvider({ children }) {\r\n    const [showPopUp, setShowPopUp] = useState(false);\r\n    const [text, setText] = useState('');\r\n    const [type, setType] = useState('info');\r\n\r\n    const socketCtx = useSocketContext();\r\n\r\n    socketCtx.socket.on('error', error => {\r\n        setShowPopUp(true);\r\n        setText(error.errmsg);\r\n        setType('error');\r\n    })\r\n\r\n    socketCtx.socket.on('newUserInfo', (payload) => {\r\n        toggleShowPopUp(payload + ' has joined the experiment!', 'info')\r\n    })\r\n\r\n    const toggleShowPopUp = (newText, newType) => {\r\n        setText(newText);\r\n        setType(newType);\r\n        setShowPopUp(!showPopUp);\r\n    }\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setShowPopUp(false);\r\n    };\r\n\r\n    return (\r\n        <PopUpContext.Provider\r\n            value={{\r\n                showPopUp,\r\n                toggleShowPopUp\r\n            }}\r\n        >\r\n            <Snackbar open={showPopUp} autoHideDuration={2000} onClose={handleClose} >\r\n                <div  style={{ position: 'fixed', top: '5.25%', right: '0.5%' }}>\r\n                    <Alert variant=\"filled\" severity={type} onClose={() => { setShowPopUp(false) }}>{text}</Alert>\r\n                </div>\r\n            </Snackbar>\r\n            {children}\r\n        </PopUpContext.Provider>\r\n    );\r\n} ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"consoleContainer\":\"Console_consoleContainer__36s7p\",\"consoleMain\":\"Console_consoleMain__1WTYq\",\"consoleHandler\":\"Console_consoleHandler__1cLkH\",\"openConsole\":\"Console_openConsole__2HPtm\",\"closeConsole\":\"Console_closeConsole__2OG3V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Canvas\":\"Settings_Canvas__3PUPd\",\"Settings\":\"Settings_Settings__vSiuu\",\"Cam\":\"Settings_Cam__1Pqxl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rotaryCtrl\":\"RotaryCtrl_rotaryCtrl__5PhHk\",\"CtrlLeft\":\"RotaryCtrl_CtrlLeft__22lvT\",\"CtrlRight\":\"RotaryCtrl_CtrlRight__3xHkb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"NavBar_navbar__3PxRA\",\"navMenu\":\"NavBar_navMenu__pAShU\",\"navMenuLaser\":\"NavBar_navMenuLaser__2I-gB\",\"navRow\":\"NavBar_navRow__3fRgQ\",\"mobile\":\"NavBar_mobile__2AMvC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__34vH2\",\"close\":\"Login_close__2BLw6\",\"popupWindow\":\"Login_popupWindow__1PvlF\",\"popupInner\":\"Login_popupInner__378L2\",\"Construction\":\"Login_Construction__3ZOz7\"};","import { useState, useContext, useEffect, createContext } from \"react\";\r\nimport { useAppContext } from \"./AppContext\";\r\nimport { Manager } from \"socket.io-client\";\r\n\r\nvar manager = new Manager(\"\", { autoConnect: false });\r\nvar SocketContext = createContext();\r\nvar jwt = require('jsonwebtoken');\r\nvar socket = manager.socket(\"/\");\r\n\r\nexport function useSocketContext() {\r\n  return useContext(SocketContext);\r\n}\r\n\r\nexport function SocketContextProvider({ children }) {\r\n  const [fontColor, setFontColor] = useState('white');\r\n  const [connected, setConnected] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [URL, setURL] = useState('');\r\n\r\n  const appCtx = useAppContext();\r\n\r\n  useEffect(() => {\r\n    const connect = (e) => {\r\n      setConnected(true);\r\n\r\n      appCtx.addLog(\"Server : Client connected to \" + URL);\r\n      appCtx.setSocket(socket);\r\n      appCtx.setUsername(username);\r\n    }\r\n\r\n    const disconnect = (e) => {\r\n      setConnected(false)\r\n      appCtx.addLog(\"Server : Client disconnect.\")\r\n    }\r\n\r\n    socket.on('connect', connect);\r\n\r\n    socket.on('disconnect', disconnect)\r\n\r\n    return (() => {\r\n      socket.removeAllListeners('connect', connect)\r\n      socket.removeAllListeners('disconnect', disconnect)\r\n    })\r\n  })\r\n\r\n  const helperEmit = (event, payload) => {\r\n    socket.emit(event, payload)\r\n  }\r\n\r\n  const setNewURL = (newURL, username) => {\r\n    socket.disconnect();\r\n    manager = new Manager(newURL, { autoConnect: false });\r\n    socket = manager.socket(\"/\");\r\n    SocketContext = createContext();\r\n    setURL(newURL);\r\n\r\n    if (username && username.includes('digiPHOTON') && username.includes('digiPHOTON')) {\r\n      setUsername('Supervisor')\r\n    } else {\r\n      setUsername(username);\r\n    }\r\n  }\r\n\r\n  const toggleConnection = (username) => {\r\n    if (!connected) {\r\n      var payload = {\r\n        sub: username,\r\n        component: 'client',\r\n      }\r\n\r\n      var token = jwt.sign(payload, \"keysecret\");\r\n      socket.auth = { token: token }\r\n      socket.connect();\r\n      socket.emit('userId', username)\r\n      setConnected(true)\r\n      appCtx.addLog(\"Client connected by choice.\")\r\n    } else {\r\n      setConnected(false)\r\n      setUsername(\"\");\r\n      setNewURL(\"\");\r\n      socket.close();\r\n      appCtx.addLog(\"Client disconnected by choice.\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SocketContext.Provider value={{ socket, connected, toggleConnection, setNewURL, setFontColor, username, fontColor, helperEmit }}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  );\r\n}\r\n","import ExperimentUILayer from \"./components/UI/experimentUI/ExperimentUILayer\";\r\nimport VirtualLayer from \"./components/UI/experimentUI/VirtualLayer\";\r\nimport { SocketContextProvider } from \"./services/SocketContext\";\r\nimport {PopUpContextProvider} from \"./services/PopUpContext\";\r\nimport { AppContextProvider } from \"./services/AppContext\";\r\nimport NavBar from \"./components/UI/experimentUI/NavBar\";\r\nimport Console from \"./components/Console/Console\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Chat from \"./components/Chat/Chat\";\r\n\r\nconst App = () => {\r\n  process.title = 'XRTLApp';\r\n  return (\r\n    <AppContextProvider>\r\n      <SocketContextProvider>\r\n          <VirtualLayer />\r\n        <PopUpContextProvider>\r\n          <ExperimentUILayer />\r\n          <Console />\r\n          <Chat />\r\n          <NavBar />\r\n          <Login />\r\n        </PopUpContextProvider>\r\n      </SocketContextProvider>\r\n    </AppContextProvider>\r\n  );\r\n};\r\n\r\nexport default App;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"ManualWindowContent_mainWrapper__34NUX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"InfoWindowContent_mainWrapper__1KSQz\"};","import { MenuItem, Menu, ThemeProvider, IconButton, Tooltip } from '@mui/material';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport { useSocketContext } from '../../../services/SocketContext';\r\nimport { MdInfoOutline, MdOutlineMenuBook } from 'react-icons/md';\r\nimport { useAppContext } from '../../../services/AppContext';\r\nimport { ImEnter, ImExit } from 'react-icons/im'\r\nimport { GiLaserWarning } from 'react-icons/gi'\r\nimport styles from '../CSS/NavBar.module.css'\r\nimport { theme } from './../templates/Theme'\r\nimport { BsCamera, BsBox } from 'react-icons/bs'\r\nimport { FaTags } from 'react-icons/fa';\r\nimport { memo, useState } from 'react';\r\nimport { isEqual } from 'lodash';\r\n\r\nconst NavBar = () => {\r\n    const appCtx = useAppContext();\r\n    const socketCtx = useSocketContext();\r\n\r\n    let connectionStatusColor = '';\r\n    if (socketCtx.connected) { connectionStatusColor = 'white' }\r\n    let showTagsColor = '';\r\n    if (appCtx.showTags) { showTagsColor = 'white' }\r\n    let cameraStatusColor = '';\r\n    if (appCtx.showCam) { cameraStatusColor = 'white' }\r\n    let showInfoWindowColor = '';\r\n    if (appCtx.showInfoWindow) { showInfoWindowColor = 'white' }\r\n    let showManualWindowColor = '';\r\n    if (appCtx.showManualWindow) { showManualWindowColor = 'white' }\r\n    let showBeamColor = '';\r\n    if (appCtx.showBeam) { showBeamColor = 'white' }\r\n    let showVirtualLayerColor = '';\r\n    if (appCtx.showVirtualLayer) { showVirtualLayerColor = 'white' }\r\n\r\n    const [mobileVersion, setMobileVersion] = useState(null);\r\n    const openMobileVersion = Boolean(mobileVersion);\r\n\r\n    const handleClick = (event) => {\r\n        setMobileVersion(event.currentTarget);\r\n    };\r\n\r\n    const closeMobileVersion = () => {\r\n        setMobileVersion(null);\r\n    };\r\n\r\n    return (\r\n        <div id='navbar' className={styles.navbar} >\r\n            <ThemeProvider theme={theme} >\r\n                <h1>XR TwinLab</h1>\r\n\r\n                {appCtx.underConstruction && <h2>Experiment under construction! Some functions may not work!</h2>}\r\n\r\n                <div className={styles.navMenu}>\r\n                    <ul>\r\n                        <Tooltip title={(socketCtx.connected) ? 'Disconnect' : 'Connect'}>\r\n                            <li onClick={() => { (socketCtx.connected) ? socketCtx.toggleConnection() : appCtx.toggleLogin(); }}> {(socketCtx.connected) ? <ImExit size={25} color={connectionStatusColor} /> : <ImEnter size={25} color={connectionStatusColor} />} </li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Labels'>\r\n                            <li onClick={appCtx.toggleShowTags}><FaTags size={25} color={showTagsColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Cam'>\r\n                            <li onClick={appCtx.toggleCam}><BsCamera size={26} color={cameraStatusColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Model'>\r\n                            <li onClick={appCtx.toggleShowVirtualLayer}><BsBox size={26} color={showVirtualLayerColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Beam Path'>\r\n                            <li onClick={appCtx.toggleShowBeam}><GiLaserWarning size={25} color={showBeamColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Manual'>\r\n                            <li onClick={appCtx.toggleShowManualWindow}><MdOutlineMenuBook size={26} color={showManualWindowColor} /></li>\r\n                        </Tooltip>\r\n\r\n                        <Tooltip title='Info'>\r\n                            <li onClick={appCtx.toggleShowInfoWindow}><MdInfoOutline size={26} color={showInfoWindowColor} /></li>\r\n                        </Tooltip>\r\n\r\n                    </ul>\r\n                </div>\r\n\r\n                <div className={styles.mobile}>\r\n                    <IconButton onClick={handleClick} variant=\"contained\" sx={{\r\n                        borderRadius: 1,\r\n                        height: '33px',\r\n                        width: '30px',\r\n                        color: 'black',\r\n                        ':hover': {\r\n                            bgcolor: 'darkgreen',\r\n                            color: '#00ffa8',\r\n                        },\r\n                    }}>\r\n                        <KeyboardArrowDownIcon color={'white'} />\r\n                    </IconButton>\r\n\r\n                    <Menu\r\n                        id=\"demo-customized-menu\"\r\n                        MenuListProps={{\r\n                            'aria-labelledby': 'demo-customized-button',\r\n                        }}\r\n                        anchorEl={mobileVersion}\r\n                        open={openMobileVersion}\r\n                        onClose={closeMobileVersion}\r\n                    >\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            (socketCtx.connected) ? socketCtx.toggleConnection() : appCtx.toggleLogin();\r\n                        }} disableRipple>\r\n                            {(socketCtx.connected) ? <ImExit size={25} color={connectionStatusColor} style={{ paddingRight: '20px' }} /> : <ImEnter size={25} color={connectionStatusColor} style={{ paddingRight: '20px' }} />}\r\n                            {(socketCtx.connected) ? 'Disconnect' : 'Connect'}\r\n                        </MenuItem>\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            appCtx.toggleShowTags();\r\n                        }} disableRipple>\r\n                            <FaTags size={25} style={{ paddingRight: '20px' }} />\r\n                            Labels\r\n                        </MenuItem>\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            appCtx.toggleShowManualWindow();\r\n                        }} disableRipple>\r\n                            <MdOutlineMenuBook size={26} style={{ paddingRight: '20px' }} />\r\n                            Manual\r\n                        </MenuItem>\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            appCtx.toggleCam();\r\n                        }} disableRipple>\r\n                            <BsCamera size={26} style={{ paddingRight: '20px' }} />\r\n                            Cam\r\n                        </MenuItem>\r\n                        <MenuItem onClick={() => {\r\n                            closeMobileVersion();\r\n                            appCtx.toggleShowInfoWindow();\r\n                        }} disableRipple>\r\n                            <MdInfoOutline size={26} style={{ paddingRight: '20px' }} />\r\n                            Info\r\n                        </MenuItem>\r\n\r\n                    </Menu>\r\n                </div>\r\n            </ThemeProvider>\r\n        </div>\r\n    );\r\n}\r\nexport default memo(NavBar, isEqual)\r\n","import { useAppContext } from '../../services/AppContext'\r\nimport { RiTerminalBoxFill } from 'react-icons/ri'\r\nimport styles from './CSS/Console.module.css'\r\nimport { useState, memo } from 'react'\r\nimport { isEqual } from 'lodash';\r\n\r\nconst Console = (props) => {\r\n  const [showConsole, setShowConsole] = useState(false);\r\n  const [animation, setAnimation] = useState('');\r\n  const appCtx = useAppContext();\r\n\r\n  const showConsoleHandler = () => {\r\n    setAnimation(showConsole ? styles.closeConsole : styles.openConsole)\r\n    setShowConsole(!showConsole)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.consoleContainer + ' ' + animation}>\r\n      <div className={styles.consoleMain}>\r\n        {appCtx.logs.map((payload, index) => {\r\n          return (<span key={index}>{payload}<br /></span>)\r\n        })}\r\n      </div>\r\n      <div className={styles.consoleHandler}>\r\n        <span>\r\n          <RiTerminalBoxFill size={35} onClick={showConsoleHandler} />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default memo(Console, isEqual);\r\n","import React, { useState, useContext } from \"react\";\r\n\r\nconst AppContext = React.createContext()\r\n\r\nexport function useAppContext() {\r\n  return useContext(AppContext);\r\n}\r\n\r\nexport function AppContextProvider({ children }) {\r\n  const [underConstruction, setUnderConstruction] = useState(false);\r\n  const [showVirtualLayer, setShowVirtualLayer] = useState(true);\r\n  const [roomComponent, setRoomComponent] = useState(new Set());\r\n  const [selectedComps, setSelectedComps] = useState(new Set());\r\n  const [showInfoWindow, setShowInfoWindow] = useState(false);\r\n  const [showManualWindow, setShowManual] = useState(false);\r\n  const [showWelcomeWindow, setShowWelcome] = useState(true);\r\n  const [autoRotate, setAutoRotate] = useState(false);\r\n  const [showLogin, setShowLogin] = useState(true);\r\n  const [manualPage, setManualPage] = useState(1);\r\n  const [showBeam, setShowBeam] = useState(false);\r\n  const [showTags, setShowTags] = useState(true);\r\n  const [showCam, setShowCam] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [socket, setSocket] = useState('');\r\n  const [logs, setLogs] = useState([]);\r\n\r\n  const toggleSelectedComp = (compId) => {\r\n    if (!selectedComps.has(compId)) {\r\n      setSelectedComps(prev => new Set(prev.add(compId)));\r\n    } else {\r\n      setSelectedComps(prev => new Set([...prev].filter(x => x !== compId)));\r\n      toogleRoomComp(compId);\r\n    }\r\n  };\r\n\r\n  const toogleRoomComp = (compId, val = false) => {\r\n    try {\r\n      if (!roomComponent.has(compId) && val !== false) {\r\n        setRoomComponent(prev => new Set(prev.add(compId)));\r\n\r\n        socket.emit('join stream room', {\r\n          controlId: compId,\r\n          userId: username\r\n        });\r\n      } else if (roomComponent.has(compId)) {\r\n        setRoomComponent(prev => new Set([...prev].filter(x => x !== compId)));\r\n\r\n        socket.emit(\"leave stream room\", {\r\n          controlId: compId,\r\n          userId: username\r\n        });\r\n      }\r\n    } catch (e) {\r\n\r\n    }\r\n  }\r\n\r\n  const toggleAutoRotate = () => {\r\n    setAutoRotate(!autoRotate);\r\n  };\r\n\r\n  const toggleShowVirtualLayer = () => {\r\n    setShowVirtualLayer(!showVirtualLayer);\r\n  };\r\n\r\n  const toggleShowTags = () => {\r\n    setShowTags(!showTags)\r\n  }\r\n\r\n  const addLog = (log) => {\r\n    setLogs(prev => [log, ...prev])\r\n  };\r\n\r\n  const toggleShowBeam = () => {\r\n    setShowBeam(!showBeam)\r\n  }\r\n\r\n  const toggleShowInfoWindow = () => {\r\n    setShowInfoWindow(!showInfoWindow);\r\n  }\r\n\r\n  const toggleShowManualWindow = () => {\r\n    setShowManual(!showManualWindow);\r\n  }\r\n\r\n  const toggleShowWelcomeWindow = () => {\r\n    setShowWelcome(!showWelcomeWindow);\r\n  }\r\n\r\n  const toggleLogin = () => {\r\n    setShowLogin(!showLogin);\r\n  }\r\n\r\n  const toggleCam = () => {\r\n    setShowCam(!showCam);\r\n    toggleSelectedComp('overview')\r\n  }\r\n\r\n  const toggleunderConstruction = (newVal) => {\r\n    setUnderConstruction(newVal)\r\n  }\r\n\r\n  const toggleSetManualPage = (newVal) => {\r\n    setManualPage(newVal)\r\n  }\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        autoRotate,\r\n        toggleAutoRotate,\r\n        showVirtualLayer,\r\n        toggleShowVirtualLayer,\r\n        selectedComps,\r\n        toggleSelectedComp,\r\n        logs,\r\n        addLog,\r\n        showTags,\r\n        toggleShowTags,\r\n        showBeam,\r\n        toggleShowBeam,\r\n        showLogin,\r\n        toggleLogin,\r\n        showInfoWindow,\r\n        toggleShowInfoWindow,\r\n        showCam,\r\n        toggleCam,\r\n        setRoomComponent,\r\n        toogleRoomComp,\r\n        showManualWindow,\r\n        toggleShowManualWindow,\r\n        showWelcomeWindow,\r\n        toggleShowWelcomeWindow,\r\n        underConstruction,\r\n        toggleunderConstruction,\r\n        manualPage,\r\n        toggleSetManualPage,\r\n        username,\r\n        setUsername,\r\n        socket,\r\n        setSocket\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n","import { TextField, ThemeProvider, Button, IconButton } from '@mui/material';\r\nimport HighlightOffOutlinedIcon from '@mui/icons-material/HighlightOffOutlined';\r\nimport { themeLogin } from '../../components/UI/templates/Theme';\r\nimport { useSocketContext } from '../../services/SocketContext';\r\nimport { useAppContext } from '../../services/AppContext';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport React, { useState, memo } from 'react';\r\nimport styles from './CSS/Login.module.css'\r\nimport { isEqual } from 'lodash';\r\n\r\nconst Login = (props) => {\r\n    const connectionOption = [{ title: 'http://localhost:3000' }, { title: 'https://xrtl.uni-jena.de' }]\r\n    const [connection, setConnection] = useState('');\r\n    const [username, setUsername] = useState('');\r\n\r\n    const socketCtx = useSocketContext();\r\n    const appCtx = useAppContext();\r\n\r\n    const handleLogin = () => {\r\n        if (username !== '') {\r\n            try {\r\n                socketCtx.setNewURL(String(connection), String(username));\r\n                socketCtx.toggleConnection(String(username));\r\n                appCtx.toggleLogin();\r\n            }\r\n            catch (error) { }\r\n        }\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        setUsername(event.target.value);\r\n        setConnection(connectionOption[1].title)\r\n    };\r\n\r\n    if (appCtx.showLogin) {\r\n        return (\r\n            <ThemeProvider theme={themeLogin}>\r\n                <div className={styles.popupWindow}>\r\n                </div>\r\n\r\n                <div className={styles.popupInner} >\r\n                    <h3 title='settings'>Login</h3>\r\n                    <div className={styles.close}>\r\n                        <IconButton onClick={(e) => {\r\n                            appCtx.toggleLogin();\r\n                        }} >\r\n                            <HighlightOffOutlinedIcon fontSize='large' />\r\n                        </IconButton>\r\n                    </div>\r\n\r\n                    <TextField\r\n                        autoFocus\r\n                        variant='outlined'\r\n                        label='Username '\r\n                        value={username}\r\n                        onChange={handleChange}\r\n                        onKeyPress={(e) => { if (e.key === 'Enter') { handleLogin(); } }}\r\n                        style={{ width: '70%', marginLeft: '5%' }}\r\n                        error={username === ''}\r\n                        helperText={username === '' ? 'Enter your username!' : ' '}\r\n                    />\r\n\r\n                    <Button size='small' type='submit' variant='contained'\r\n                        onClick={handleLogin}\r\n                        endIcon={<SendIcon />}\r\n                        style={{ width: '22%', height: '17%', marginBottom: '10%' }}\r\n                    >Login</Button>\r\n                </div>\r\n            </ThemeProvider>\r\n        );\r\n    } else {\r\n        return (<div></div>)\r\n    }\r\n}\r\nexport default memo(Login, isEqual);","import { ThemeProvider, InputAdornment, IconButton, FormControl, InputLabel, OutlinedInput } from '@mui/material';\r\nimport { useSocketContext } from '../../services/SocketContext';\r\nimport { theme } from '../../components/UI/templates/Theme';\r\nimport { useAppContext } from '../../services/AppContext';\r\nimport { useEffect, useState, memo } from 'react'\r\nimport styles from './CSS/Chat.module.css'\r\nimport { ImBubble } from 'react-icons/im'\r\nimport { MdSend } from 'react-icons/md'\r\nimport { isEqual } from 'lodash';\r\n\r\nconst Chat = () => {\r\n  const [showChat, setShowChat] = useState(false);\r\n  const [animation, setAnimation] = useState('');\r\n  var [message, setMessage] = useState('');\r\n  const [chat, setChat] = useState([]);\r\n  const [beamSplitter1, setBeamSplitter1] = useState(false);\r\n  const [beamSplitter2, setBeamSplitter2] = useState(false);\r\n\r\n\r\n  const socketCtx = useSocketContext();\r\n  const appCtx = useAppContext();\r\n\r\n  useEffect(() => {\r\n    const message = (payload) => {\r\n      setChat([...chat, payload]);\r\n    }\r\n\r\n    // All this has to be deleted\r\n    //DELETE from ...\r\n    const status = (payload) => {\r\n      if (payload.controlId === 'servo_bblock_1') {\r\n\r\n        payload.status.absolute === 45 ? setBeamSplitter1(true) : setBeamSplitter1(false)\r\n\r\n        //console.log(\"Status  \", payload)\r\n      } else if (payload.controlId === 'servo_bblock_2') {\r\n\r\n        payload.status.absolute === 45 ? setBeamSplitter2(true) : setBeamSplitter2(false)\r\n\r\n        // console.log(\"Status  \", payload)\r\n      }\r\n    }\r\n\r\n    socketCtx.socket.emit('command', {\r\n      userId: socketCtx.username,\r\n      controlId: 'servo_bblock_1',\r\n      getStatus: true\r\n    })\r\n\r\n    socketCtx.socket.emit('command', {\r\n      userId: socketCtx.username,\r\n      controlId: 'servo_bblock_2',\r\n      getStatus: true\r\n    })\r\n\r\n    socketCtx.socket.on('status', status);\r\n    //... DELETE until here\r\n    socketCtx.socket.on('message', message);\r\n\r\n    return () => {\r\n      socketCtx.socket.removeAllListeners('message', message);\r\n      socketCtx.socket.removeAllListeners('status', status); //DELETE\r\n    }\r\n  }, [socketCtx, chat])\r\n\r\n  const sendMessage = async (event) => {\r\n    event.preventDefault();\r\n    if (message.at(0) === '!') {\r\n      if (message === '!rotate' || message === '!r') {\r\n        appCtx.toggleAutoRotate();\r\n        setChat([...chat, { userId: 'XRTL', message: 'Rotation command was sent ... ', color: '#FF7373' }]);\r\n      } else if (message === '!constructiom' || message === '!c') {\r\n        appCtx.toggleunderConstruction(!appCtx.underConstruction);\r\n        socketCtx.socket.emit('underConstruction', !appCtx.underConstruction)\r\n        setChat([...chat, { userId: 'XRTL', message: 'Under construction is now set to ' + !appCtx.underConstruction, color: '#FF7373' }]);\r\n      }\r\n      else if (message === '!user' || message === '!users') {\r\n\r\n        socketCtx.socket.emit('updateUser')\r\n\r\n        socketCtx.socket.on('updateUser', (payload) => {\r\n          var user = ''\r\n          for (var i = 2; i < payload.length; i += 3) {\r\n            user += payload[i] + ','\r\n          }\r\n          user = user.slice(0, -1)\r\n          setChat([...chat, { userId: 'XRTL', message: 'List of all the active user/s: ' + user, color: '#FF7373' }]);\r\n        })\r\n      }\r\n      else if (message === '!reset') {\r\n        socketCtx.socket.emit('message', { userId: 'XRTL', message: 'Attention the reset command was emited!', color: '#FF7373' });\r\n\r\n        const controlIds = ['KM100_top_1', 'KM100_bottom_1', 'linear_1', 'greenlaser_top_1', 'greenlaser_bottom_1', 'beamSplitter']\r\n\r\n        for (var i = 0; i < controlIds.length; i++) {\r\n          socketCtx.socket.emit('command', {\r\n            userId: socketCtx.username,\r\n            controlId: controlIds[i],\r\n            reset: true\r\n          })\r\n        }\r\n      }\r\n      else if (message === '!showcase' || message === '!s') {\r\n        const showCase = async () => {\r\n          //Establish the ground state =========================\r\n          //Turning off the laser\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'greenlaser_1',\r\n            switch: false,\r\n            color: '#00ffa8'\r\n          })\r\n\r\n          //Removes the retractable mirror\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'beamSplitter',\r\n            binaryCtrl: false,\r\n            color: '#00ffa8'\r\n          })\r\n\r\n          //this line guarantees that the following code is executed only after 8 s\r\n          //please note that some commands may take longer or less time to complete  \r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n          //Do awesome things ==================================\r\n          //Turning on the laser\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'greenlaser_1',\r\n            switch: true,\r\n            color: '#00ffa8'\r\n          })\r\n\r\n          //this line guarantees that the following code is executed only after 8 s\r\n          //please note that some commands may take longer or less time to complete  \r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n          //Adds the retractable mirror\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'beamSplitter',\r\n            binaryCtrl: true,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 1s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n          //Adjustment of the linear stage by 200 steps in clockwise direction \r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'linear_1',\r\n            move: 200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          //Adjustment of the reference mirror by 200 steps vertical tilting \r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'KM100_top_1',\r\n            move: 200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          ////Adjustment of the reference mirror by -200 steps horizontal tilting\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'KM100_bottom_1',\r\n            move: -200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          //Adjustment of the reference mirror by -200 steps vertical tilting \r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'KM100_top_1',\r\n            move: -200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          ////Adjustment of the reference mirror by -200 steps horizontal tilting\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'KM100_bottom_1',\r\n            move: 200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          //Adjustment of the linear stage by 200 steps counterclockwise \r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'linear_1',\r\n            move: -200,\r\n            color: '#00ffa8'\r\n          })\r\n          //needs approx 6s\r\n\r\n          await new Promise(resolve => setTimeout(resolve, 7000));\r\n\r\n          //Establish a ground state ==========================\r\n          //Removes the retractable mirror\r\n          socketCtx.socket.emit(\"command\", {\r\n            userId: 'XRTL',\r\n            controlId: 'beamSplitter',\r\n            binaryCtrl: false,\r\n            color: '#00ffa8'\r\n          })\r\n        }\r\n\r\n        showCase()\r\n\r\n      }\r\n      else if (message === '!cam') {\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          frameSize: 10\r\n        })\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          exposure: 800,\r\n          color: socketCtx.fontColor,\r\n        })\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          contrast: 1,\r\n          color: socketCtx.fontColor,\r\n        })\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: 'XRTL',\r\n          controlId: 'overview',\r\n          exposure: 1200,\r\n          color: socketCtx.fontColor,\r\n        })\r\n\r\n        setChat([...chat, { userId: 'XRTL', message: 'The highest camera settings have been made!', color: '#FF7373' }]);\r\n      }\r\n      //DELETE from here ...\r\n      else if (message === '!bs1') {\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: socketCtx.username,\r\n          controlId: 'servo_bblock_1',\r\n          binaryCtrl: !beamSplitter1,\r\n          color: socketCtx.fontColor,\r\n        })\r\n\r\n        socketCtx.socket.emit('message', { userId: 'XRTL', message: 'The beam splitter 1 has been set to ' + String(!beamSplitter1), color: '#FF7373' });\r\n\r\n      }\r\n\r\n      else if (message === '!bs2') {\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n          userId: socketCtx.username,\r\n          controlId: 'servo_bblock_2',\r\n          binaryCtrl: !beamSplitter2,\r\n          color: socketCtx.fontColor,\r\n        })\r\n\r\n        socketCtx.socket.emit('message', { userId: 'XRTL', message: 'The beam splitter 1 has been set to ' + String(!beamSplitter2), color: '#FF7373' });\r\n\r\n      }\r\n      //... DELETE until here\r\n      else {\r\n        setChat([...chat, { userId: 'XRTL', message: \"Command doesn't exists\", color: '#FF7373' }]);\r\n      }\r\n\r\n    } else {\r\n      socketCtx.socket.emit('message', { userId: socketCtx.username, message: message, color: socketCtx.fontColor });\r\n    }\r\n    setMessage('');\r\n  }\r\n\r\n  const showChatHandler = () => {\r\n    setAnimation(showChat ? styles.closeChat : styles.openChat);\r\n    setShowChat(!showChat);\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    setMessage(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={styles.chatContainer + ' ' + animation}\r\n    >\r\n      <div className={styles.chatMain}>\r\n        {chat.map((payload, index) => {\r\n          return (\r\n            <b key={index} >\r\n              <span style={{ color: payload.color }}> {payload.userId}:</span> <span >{payload.message}</span>\r\n              <br />\r\n            </b>\r\n          )\r\n        })}\r\n      </div>\r\n      <form className={styles.msgForm}>\r\n        <ThemeProvider theme={theme}>\r\n\r\n          <FormControl sx={{ marginLeft: -4, width: 3 / 3, paddingTop: 1 }} variant=\"outlined\">\r\n            <InputLabel htmlFor=\"outlined-adornment-password\">Message  </InputLabel>\r\n            <OutlinedInput\r\n              onChange={handleChange}\r\n              onKeyPress={(e) => { if (e.key === 'Enter') { sendMessage(e); } }}\r\n              value={message}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    onClick={sendMessage}\r\n                    edge=\"end\"\r\n                  >\r\n                    <MdSend />\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n              label=\"Message\"\r\n            />\r\n          </FormControl>\r\n        </ThemeProvider>\r\n      </form>\r\n      <div className={styles.chatHandler + ' ' + animation}>\r\n        <span>\r\n          <ImBubble size={35} onClick={showChatHandler} />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default memo(Chat, isEqual);","export default __webpack_public_path__ + \"static/media/BS_outline.8bd29b41.png\";","import { Switch, Box, Typography, FormGroup, Stack } from '@mui/material';\r\nimport { useSocketContext } from \"../../../services/SocketContext\";\r\nimport { useAppContext } from \"../../../services/AppContext\";\r\nimport propTypes from \"prop-types\";\r\nimport { useState } from \"react\";\r\n\r\n/**\r\n * Switch Component\r\n * \r\n * @description This component returns a styled switch. The left/beginning and right/end text of the switch can be set. In addition, the controlId, the status \r\n * (of the component and the online status), and the command for the server must be specified.\r\n * \r\n * @param {string} component - controlId \r\n * @param {string} left -  text at the left/beginning\r\n * @param {string} right -text at the right/end\r\n * @param {boolean} switchStatus - Status of the switch from the status request \r\n * @param {boolean} online - connection status to the component\r\n * @param {string} option - command for the server\r\n * \r\n * @returns {React.ReactElement} styled switch with the specified props \r\n * \r\n * @example <Switch component={'TestSwitch'} online={true} switchStatus={false} option=\"switch\" />\r\n * @example <Switch component={'TestSwitch2'} online={true} switchStatus={false} left='Off' right='On' option=\"switch\" />\r\n * @example <Switch component={'TestSwitch3'} online={false} switchStatus={true} left='Front' right='Back' option=\"status\" />\r\n */\r\n\r\nconst SwitchCtrl = (props) => {\r\n    /**\r\n     * @param {bool} switchValue - Indicates the status of the switch\r\n     * @function setSwitchValue - Assigning a new value\r\n     */\r\n    const [switchValue, setSwitchValue] = useState(false);\r\n\r\n    const appCtx = useAppContext();\r\n    const socketCtx = useSocketContext();\r\n\r\n    /**\r\n     * Handles the onclick event on the switch\r\n     * \r\n     * @description Clicking on the button overwrites it with the new value. This is then sent to the server with a \"command\" command. Emitting footer \r\n     * then updates the footer of the window \r\n     * \r\n     * @param {*} event - Clicking event\r\n     * @param {boolean} newValue - Value with which switchValue is to be overwritten\r\n     */\r\n    const handleSettingChanges = (event, newValue) => {\r\n        setSwitchValue(newValue);\r\n\r\n        socketCtx.socket.emit(\"command\", {\r\n            userId: socketCtx.username,\r\n            controlId: props.component,\r\n            [props.option]: newValue,\r\n            color: socketCtx.fontColor,\r\n        })\r\n\r\n        socketCtx.socket.emit(\"footer\", {\r\n            status: 'Used by: ' + socketCtx.username.substring(0, 17),\r\n            controlId: props.component\r\n        })\r\n\r\n        appCtx.addLog(\"User set switch on \" + props.component + \" to \" + switchValue)\r\n    }\r\n\r\n    return (\r\n        <Box >\r\n            <FormGroup>\r\n                <Stack direction=\"row\" alignItems=\"center\" sx={{ ml: 2 }}>\r\n                    <Typography>{props.left}</Typography>\r\n                    <Switch checked={props.switchStatus}\r\n                        onChange={handleSettingChanges}\r\n                        inputProps={{ 'aria-label': 'controlled' }}\r\n                        disabled={(socketCtx.connected && props.online) ? false : true} />\r\n                    <Typography>{props.right}</Typography>\r\n                </Stack>\r\n            </FormGroup>\r\n        </Box>\r\n    )\r\n}\r\n\r\nSwitchCtrl.propTypes = {\r\n    component: propTypes.string.isRequired,\r\n    left: propTypes.string,\r\n    right: propTypes.string,\r\n    switchStatus: propTypes.bool.isRequired,\r\n    online: propTypes.bool.isRequired,\r\n    option: propTypes.string.isRequired\r\n}\r\n\r\nexport default SwitchCtrl;\r\n","import { useSocketContext } from '../../../services/SocketContext';\r\nimport { ThemeProvider } from '@mui/material/styles';\r\nimport { theme } from '../templates/Theme.js';\r\nimport { useState, useEffect } from 'react';\r\nimport Switch from '../templates/Switch';\r\nimport Box from '@mui/material/Box';\r\n\r\nconst BeamSplitterCtrl = (props) => {\r\n    const [switchStatus, setSwitchStatus] = useState(false);\r\n    const [onlineStatus, setOnlineStatus] = useState(true);\r\n\r\n    const socketCtx = useSocketContext();\r\n\r\n    useEffect(() => {\r\n        const status = (payload) => {\r\n            if (payload.controlId === props.component) {\r\n                setOnlineStatus(true)\r\n                payload.status.absolute === 90 ? setSwitchStatus(true) : setSwitchStatus(false)\r\n\r\n                // console.log(\"Status  \", payload)\r\n            }\r\n        }\r\n\r\n        socketCtx.socket.emit('command', {\r\n            userId: socketCtx.username,\r\n            controlId: props.component,\r\n            getStatus: true\r\n        })\r\n\r\n        socketCtx.socket.emit('getFooter', props.component)\r\n\r\n        socketCtx.socket.on('status', status);\r\n\r\n        return () => {\r\n            socketCtx.socket.removeAllListeners('status', status)\r\n        }\r\n        //Comment needed to prevent a warning\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [socketCtx.socket]);\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <div style={{\r\n                position: 'absolute',\r\n                width: '120px',\r\n                height: '40px',\r\n                border: '2px solid #00ffa8',\r\n                borderRadius: '50px',\r\n                textAlign: 'center',\r\n                top: '200px',\r\n                left: '10px'\r\n            }}>\r\n                <Box sx={{ ml: '-4px' }} >\r\n                    <Switch component={props.component} switchStatus={switchStatus} online={onlineStatus} left='Off' right='On' option='binaryCtrl' />\r\n                </Box>\r\n            </div>\r\n        </ThemeProvider>\r\n    )\r\n}\r\nexport default BeamSplitterCtrl","import styles from '../../../windows/CSS/Description.module.css'\r\n\r\nconst DescriptionESPCam = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>The screen in a Michelson interferometer setup displays an interference pattern consisting of bright and dark fringes. The location and spacing of these fringes provide information\r\n                    about the relative phase difference between the two light paths, which can be used to measure small changes in the optical path length of the sample beam.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default DescriptionESPCam;\r\n","import styles from '../../../windows/CSS/Description.module.css'\r\n\r\nconst DescriptionKM100 = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The two beams of light are reflected by mirrors placed at a 90-degree angle to each other. This mirror is used to reflect the reference beam. The kinematic mirror mount is designed to\r\n                    securely hold a mirror in place while allowing fine tip and tilt adjustments.\r\n\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default DescriptionKM100;\r\n","import styles from '../../../windows/CSS/Description.module.css'\r\n\r\nconst DescriptionLaser = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The laser power supply provides the electrical energy necessary to excite the laser medium and generate the coherent beam of light. The laser module here is a class 2 laser,\r\n                    which does not require any protective eyewear. However, to avoid injury, do not look directly into the laser beam.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default DescriptionLaser;\r\n","import styles from '../../../windows/CSS/Description.module.css'\r\n\r\nconst DescriptionLaserCtrl = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    A coherent light source such as a laser is used to illuminate the interferometer. When light waves are coherent, their peaks and troughs line up perfectly, resulting in a pattern of\r\n                    constructive and destructive interference that can produce beautiful and complex interference patterns. In contrast, light that is not coherent has randomly varying phases and does not\r\n                    produce well-defined interference patterns.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default DescriptionLaserCtrl;\r\n","import styles from '../../../windows/CSS/Description.module.css'\r\n\r\nconst DescriptionSM1ZP = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The two beams of light are reflected by mirrors placed at a 90-degree angle to each other. This mirror is used to reflect the sample beam. The translation mount is designed to securely\r\n                    hold a mirror in place while offering repeatable linear travel using the precision micrometer actuator, which is graduated in 1 µm increments. This component is used to create a\r\n                    quantifiable change in the path length of the sample beam.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default DescriptionSM1ZP;\r\n","import { Button, Box } from '@mui/material';\r\nimport styles from '../CSS/Description.module.css';\r\nimport { themeLogin } from '../../UI/templates/Theme'\r\nimport { ThemeProvider } from '@mui/material/styles';\r\n\r\n\r\nconst DescriptionESPCam = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The editorial responsibility for this application lies with the Executive Office of the Abbe Center of Photonics and it's representative/s.\r\n                </p>\r\n                <p>\r\n                    For further information please follow the links:\r\n                </p>\r\n                <ThemeProvider theme={themeLogin}>\r\n\r\n                    <Box sx={{ '& button': { mr: 5, ml: 3 } }}>\r\n\r\n                        <Button type='submit' variant='contained' onClick={() => { window.open(\"https://www.asp.uni-jena.de/legal-notice\", 'resizable=yes') }}> Legal Notice </Button>\r\n                        <Button type='submit' variant='contained' onClick={() => { window.open(\"https://www.uni-jena.de/en/privacy-statement\", 'resizable=yes') }}> Privacy Statement </Button>\r\n                    </Box>\r\n                </ThemeProvider>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default DescriptionESPCam;\r\n","import styles from '../../../windows/CSS/Description.module.css'\r\n\r\nconst DescriptionBeamSplitter = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    This really simple plate beam splitter is made of an acrylic glass sheet and can be used to observe the interference pattern created on the second output of the Michelson interferometer.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default DescriptionBeamSplitter;\r\n","import ESPCam from '../experiment/ComponentDescription/Content/Description_ESPCam'\r\nimport KM100 from '../experiment/ComponentDescription/Content/Description_KM100'\r\nimport Laser from '../experiment/ComponentDescription/Content/Description_Laser'\r\nimport LaserCtrl from '../experiment/ComponentDescription/Content/Description_LaserCtrl'\r\nimport SM1ZP from '../experiment/ComponentDescription/Content/Description_SM1ZP'\r\nimport Impressum from './Content/Description_Impressum'\r\nimport BeamSplitter from '../experiment/ComponentDescription/Content/Description_BeamSplitter'\r\n\r\nconst DescriptionHandler = (props) => {\r\n\r\n    const renderOption = {\r\n        linear_1: <SM1ZP height={props.height} />,\r\n        KM100_1: <KM100 height={props.height} />,\r\n        screen: <ESPCam height={props.height} />,\r\n        greenlaser_1: <LaserCtrl height={props.height} />,\r\n        greenlaserPower_1: <Laser height={props.height} />,\r\n        beamSplitter: <BeamSplitter height={props.height} />,\r\n        info: <Impressum height={props.height} />\r\n    }\r\n\r\n\r\n    return (\r\n        <div>{renderOption[props.component]}</div>\r\n    )\r\n}\r\nexport default DescriptionHandler;\r\n","import { IoInformationCircleOutline, IoCloseCircleOutline, IoSettingsOutline } from 'react-icons/io5' //IoReloadOutline\r\nimport DescriptionHandler from '../../windows/DescriptionHandler'\r\nimport { useSocketContext } from '../../../services/SocketContext';\r\nimport { usePopUpContext } from '../../../services/PopUpContext';\r\nimport { useAppContext } from '../../../services/AppContext';\r\nimport { MdOutlineUpdate } from 'react-icons/md'; //MdOutlineCircle\r\nimport styles from '../CSS/Window.module.css';\r\nimport { ImSection } from 'react-icons/im';\r\nimport Draggable from 'react-draggable';\r\nimport { memo, useEffect } from 'react';\r\nimport { isEqual } from 'lodash';\r\nimport { useState } from 'react';\r\n\r\nconst Window = (props) => {\r\n  const [lastChange, setLastChange] = useState(props.lastChange);\r\n  const [footer, setFooter] = useState('Initializing... ');\r\n  const [info, setInfo] = useState(true);\r\n\r\n  const socketCtx = useSocketContext();\r\n  const popupCtx = usePopUpContext();\r\n  const appCtx = useAppContext();\r\n\r\n  const [topper, setTopper] = useState('')\r\n\r\n  const renderOption = {\r\n    para: <ImSection className={styles.icon} size={24} />,\r\n    info: <IoInformationCircleOutline className={styles.iconClose} size={30} />,\r\n    setting: <IoSettingsOutline className={styles.iconClose} size={30} />,\r\n    none: <IoSettingsOutline className={styles.icon} size={25} color={'#01bd7d'} />,\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.topper === 'none') {\r\n      setTopper('none')\r\n    } else if (props.topper === 'para') {\r\n      setTopper('para')\r\n    } else if (props.topper === undefined) {\r\n      setTopper('info')\r\n    }\r\n\r\n    const Footer = (payload) => {\r\n      if (props.footer !== 'empty' && props.componentList.includes(payload.controlId)) {\r\n        setFooter(String(payload.status))\r\n        var time = new Date();\r\n        setLastChange([time.getHours(), time.getMinutes(), time.getSeconds(), time.getDay(), time.getMonth()])\r\n      }\r\n    }\r\n\r\n    const getFooter = (payload) => {\r\n      if (props.footer !== 'empty' && props.componentList.includes(payload.controlId)) {\r\n        setFooter(String(payload.status))\r\n        var time = new Date();\r\n        setLastChange([time.getHours(), time.getMinutes(), time.getSeconds(), time.getDay(), time.getMonth()])\r\n      }\r\n    }\r\n\r\n    socketCtx.socket.on('footer', Footer)\r\n\r\n    socketCtx.socket.on('getFooter', getFooter);\r\n\r\n    return () => {\r\n      socketCtx.socket.removeAllListeners('footer', Footer)\r\n      socketCtx.socket.removeAllListeners('getFooter', getFooter)\r\n    }\r\n    //Comment needed to prevent a warning\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socketCtx.socket])\r\n\r\n  const handleCloseWindow = () => {\r\n    appCtx.toggleSelectedComp(props.id)\r\n\r\n    if (props.id === \"overview\") {\r\n      appCtx.toggleCam();\r\n    }\r\n\r\n    if (props.id === \"info\") {\r\n      appCtx.toggleShowInfoWindow();\r\n    }\r\n\r\n    if (props.id === \"welcome\") {\r\n      appCtx.toggleShowWelcomeWindow();\r\n    }\r\n\r\n    if (props.id === \"manual\") {\r\n      appCtx.toggleShowManualWindow();\r\n    }\r\n  }\r\n\r\n  const handleInformation = () => {\r\n    setInfo(!info)\r\n\r\n    if (props.id === 'screen' && appCtx.smallSetting === true) {\r\n      appCtx.smallSettings()\r\n    }\r\n\r\n    if (props.id === 'info') {\r\n      topper === 'para' ? setTopper('info') : setTopper('para');\r\n    } else {\r\n      topper === 'info' ? setTopper('setting') : setTopper('info')\r\n    }\r\n  }\r\n\r\n  const handleInfo = () => {\r\n    var timeNow = new Date();\r\n    let difH, difMin, difSec = 0;\r\n    var alert = '';\r\n\r\n    timeNow = [timeNow.getHours(), timeNow.getMinutes(), timeNow.getSeconds(), timeNow.getDay(), timeNow.getMonth()]\r\n    if (lastChange[0] === '') {\r\n      alert = 'No last change detected!'\r\n    } else if (timeNow[0] > lastChange[0]) {\r\n      difH = timeNow[0] - lastChange[0];\r\n      alert = 'Last change is more than ' + difH + ' h ago!'\r\n    } else if (timeNow[0] === lastChange[0] && timeNow[1] === lastChange[1] && timeNow[2] > lastChange[2]) {\r\n      difSec = timeNow[2] - lastChange[2]\r\n      alert = 'Last change is ' + difSec + ' s ago!'\r\n    } else if (timeNow[0] === lastChange[0] && timeNow[1] > lastChange[1]) {\r\n      difMin = timeNow[1] - lastChange[1]\r\n      alert = 'Last change is more than ' + difMin + ' min ago!'\r\n    } else if (timeNow[3] > lastChange[3] || timeNow[4] > lastChange[4]) {\r\n      alert = 'Last change is more than 24 h ago!'\r\n    } else {\r\n      alert = 'No last change detected!'\r\n    }\r\n\r\n    popupCtx.toggleShowPopUp(alert, 'info');\r\n\r\n    socketCtx.socket.emit(\"command\", {\r\n      controlId: props.componentList[0],\r\n      identify: 3000,\r\n      color: socketCtx.fontColor,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Draggable handle='.draggableHandler'>\r\n      <div\r\n        className={styles.window}\r\n        style={{ top: props.top + 'px', left: props.left + 'px', width: props.height + 'px', height: props.height + 'px' }}\r\n      >\r\n        <div className={styles.windowHeader}>\r\n          <span\r\n            className='draggableHandler' //FIXME draggable doesnt seem to work with inline JSX classes. \r\n            style={{\r\n              display: 'block',\r\n              width: 'calc(100% - 70px)',\r\n              cursor: 'move',\r\n              float: 'left'\r\n            }}\r\n          >\r\n            {props.header}\r\n          </span>\r\n\r\n          <p>\r\n            <span onClick={handleInformation}>\r\n              {renderOption[topper]}\r\n            </span>\r\n            <span onClick={handleCloseWindow}><IoCloseCircleOutline className={styles.iconClose} size={30} /></span>\r\n          </p>\r\n        </div>\r\n        {info ?\r\n          <div\r\n            className={styles.windowContent}\r\n            style={{\r\n              height: props.height,\r\n              width: props.width,\r\n              background: 'url(' + props.background + ')',\r\n            }}\r\n          >\r\n            {props.children}\r\n          </div>\r\n\r\n          :\r\n          <div\r\n            className={styles.windowContent}\r\n            style={{\r\n              height: props.height,\r\n              width: props.width,\r\n            }}\r\n          >\r\n            <DescriptionHandler height={props.height} component={props.id} />\r\n          </div>\r\n        }\r\n\r\n        {props.footer !== 'empty' ?\r\n          <div className={styles.windowFooter}>\r\n            <span onClick={handleInfo}> <MdOutlineUpdate size={25} /></span>\r\n            <label>{footer}</label>\r\n          </div>\r\n          :\r\n          <div />\r\n        }\r\n\r\n        <div className={styles.windowInfo}>\r\n        </div>\r\n      </div>\r\n    </Draggable>\r\n  )\r\n}\r\nexport default memo(Window, isEqual);","import BS_Background from './media/BS_outline.png';\r\nimport BeamSplitterCtrl from '../UI/CtrlUnits/BeamSplitterCtrl';\r\nimport Window from '../UI/experimentUI/Window';\r\n\r\nconst BeamSplitter = (props) => {\r\n\r\n    return (\r\n        <Window\r\n            id={props.controlId}\r\n            componentList={[props.controlId]}\r\n            header={props.title}\r\n            top={props.top}\r\n            left={props.left}\r\n            height='240px'\r\n            width='250px'\r\n            background={BS_Background}\r\n        >\r\n            <BeamSplitterCtrl\r\n                component={props.controlId}\r\n            />\r\n\r\n        </Window>\r\n    )\r\n};\r\nexport default BeamSplitter;\r\n","import { useSocketContext } from '../../../services/SocketContext';\r\nimport { useAppContext } from '../../../services/AppContext';\r\nimport styles from '../CSS/Settings.module.css'\r\nimport { useEffect } from 'react';\r\n\r\nconst ESPCamSettings = (props) => {\r\n    const socketCtx = useSocketContext();\r\n    const appCtx = useAppContext();\r\n\r\n    useEffect(() => {\r\n        var x1, x2, y1, y2;\r\n        var ctx;\r\n\r\n        const data = (payload) => {\r\n            if (payload.controlId === props.component) {\r\n                var uint8Arr = new Uint8Array(payload.data);\r\n                var binary = '';\r\n                for (var i = 0; i < uint8Arr.length; i++) {\r\n                    binary += String.fromCharCode(uint8Arr[i]);\r\n                }\r\n                var base64String = window.btoa(binary);\r\n\r\n                var img = new Image();\r\n                img.onload = function () {\r\n                    var canvas = document.getElementById(props.component);\r\n\r\n                    ctx = canvas.getContext('2d');\r\n                    x1 = 0;\r\n                    y1 = 0;\r\n                    x2 = 600;\r\n                    y2 = 400;\r\n                    ctx.drawImage(this, x1, y1, x2, y2);\r\n                };\r\n                img.src = 'data:image/jpg;base64,' + base64String;\r\n            }\r\n        }\r\n        appCtx.toogleRoomComp(props.component, true);\r\n        \r\n        socketCtx.socket.on('data', data);\r\n\r\n        return () => {\r\n            socketCtx.socket.removeAllListeners('data', data)\r\n        }\r\n        //Comment needed to prevent a warning\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [socketCtx.socket]);\r\n\r\n    return (\r\n        <div className={styles.Canvas}>\r\n            <canvas id={props.component} width={props.width} height={props.height} style={props.style} />\r\n        </div>\r\n    )\r\n}\r\nexport default ESPCamSettings;","import { useSocketContext } from \"../../../services/SocketContext\";\r\nimport { Box, Stack, Typography, Slider } from \"@mui/material\";\r\nimport { useAppContext } from \"../../../services/AppContext\";\r\nimport propTypes from \"prop-types\";\r\nimport { useState } from \"react\";\r\n\r\n/**\r\n * Slider component\r\n * \r\n * @description Used to create a slider with a specified start and end point. In addition, the controlId, the status (of the component and the online status) \r\n * and the command for the server must be specified. The title can but does not have to be given. To display text under the slider instead of numbers, this \r\n * can be passed to the slider within the tag text in the form of an array. \r\n * \r\n * @param {string} component - controlId \r\n * @param {string} title - title \r\n * @param {number} min -  text at the left/beginning\r\n * @param {number} max - text at the right/end\r\n * @param {array} text - contains an array with numbers as keys and strings as values (for displaying text under the slider instead of numbers)\r\n * @param {number} sliderValue - Status of the slider from the status request \r\n * @param {boolean} online - connection status to the component\r\n * @param {string} option - command for the server\r\n * \r\n * @returns {React.ReactElement} styled slider with the specified props\r\n * \r\n * @example <Slider title='Contrast' component={'cam'} online={true} sliderValue={0} min={-2} max={2} option='contrast' />\r\n * @example <Slider title='Exposure' component={'cam'} online={false} sliderValue={-2} min={0} max={1200} option='exposure' />\r\n * @example <Slider component={'cam'} online={false} sliderValue={-2} min={0} max={10} text={[{ value: 0, label: 'a' }, { value: 5, label: 'b' }, { value: 10, label: 'c' }]} option='exposure' />\r\n */\r\n\r\nconst SliderCtrl = (props) => {\r\n  /**\r\n * @param {number} sliderPos - Indicates the status of the slider\r\n * @function setSliderPos - Assigning a new value\r\n */\r\n  const [sliderPos, setSliderPos] = useState(props.sliderValue);\r\n\r\n  const appCtx = useAppContext();\r\n  const socketCtx = useSocketContext();\r\n\r\n  /**\r\n   * Definition of the start, middle and end point\r\n   */\r\n  const marks = [\r\n    { value: parseInt(props.min), label: props.min, },\r\n    { value: 0, label: '0', },\r\n    { value: parseInt(props.max), label: props.max, },\r\n  ]\r\n\r\n  /**\r\n   * Handles the onclick event on the slider\r\n   * \r\n   * @description When one clicks on the slider, the sliderValue is overwritten with the new value. This change is then sent to the server with a \"command\" command. \r\n   * Emitting footer then updates the footer of the window \r\n   * \r\n   * @param {*} event - onClick event\r\n   * @param {number} newValue - Value with which selectValue is to be overwritten\r\n   */\r\n  const handleSettingChanges = (event, newValue) => {\r\n    setSliderPos(newValue)\r\n\r\n    socketCtx.socket.emit(\"command\", {\r\n      userId: socketCtx.username,\r\n      controlId: props.component,\r\n      [props.option]: newValue,\r\n      color: socketCtx.fontColor,\r\n    })\r\n\r\n    socketCtx.socket.emit(\"footer\", {\r\n      status: 'Used by: ' + socketCtx.username.substring(0, 17),\r\n      controlId: props.component\r\n    })\r\n\r\n    appCtx.addLog(\"User set position on \" + props.component + \" to \" + sliderPos)\r\n  }\r\n\r\n  if (props.text) {\r\n    return (\r\n      <Box sx={{ width: 250, m: 2 }}>\r\n        <Typography id=\"input-slider\" gutterBottom>\r\n          {props.title}\r\n        </Typography>\r\n        <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }} alignItems=\"center\">\r\n          <Slider aria-label=\"Temperature\"\r\n            valueLabelDisplay=\"auto\"\r\n            step={1}\r\n            min={props.min}\r\n            max={props.max}\r\n            value={props.sliderValue}\r\n            onChangeCommitted={handleSettingChanges}\r\n            marks={props.text}\r\n            disabled={(socketCtx.connected && props.online) ? false : true}\r\n          />\r\n        </Stack>\r\n      </Box>\r\n    )\r\n  } else {\r\n    return (\r\n      <Box sx={{ width: 250, m: 2 }}>\r\n        <Typography id=\"input-slider\" gutterBottom>\r\n          {props.title}\r\n        </Typography>\r\n        <Stack spacing={2} direction=\"row\" sx={{ mb: 1 }} alignItems=\"center\">\r\n          <Slider aria-label=\"Temperature\"\r\n            valueLabelDisplay=\"auto\"\r\n            step={1}\r\n            min={props.min}\r\n            max={props.max}\r\n            value={props.sliderValue}\r\n            onChangeCommitted={handleSettingChanges}\r\n            marks={marks}\r\n            disabled={(socketCtx.connected && props.online) ? false : true}\r\n          />\r\n        </Stack>\r\n      </Box>\r\n    )\r\n  }\r\n}\r\n\r\nSliderCtrl.propTypes = {\r\n  component: propTypes.string.isRequired,\r\n  title: propTypes.string,\r\n  min: propTypes.number.isRequired,\r\n  max: propTypes.number.isRequired,\r\n  text: propTypes.array,\r\n  sliderValue: propTypes.bool.isRequired,\r\n  online: propTypes.bool.isRequired,\r\n  option: propTypes.string.isRequired\r\n}\r\n\r\nexport default SliderCtrl;","import { MenuItem, Select, FormControl, Box, InputLabel } from '@mui/material';\r\nimport { useSocketContext } from \"../../../services/SocketContext\";\r\nimport { useAppContext } from \"../../../services/AppContext\";\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * Gets the objects that have the assigned properties. A MenuItem is then created for each object with the corresponding text and value.\r\n * \r\n * @param {*} props - Select items to be created \r\n * @returns {React.ReactElement}  <MenuItem value={value}> text <MenuItem/> \r\n */\r\nconst TypeSelectMenuItem = (props) => {\r\n    return (\r\n        <MenuItem {...props}>\r\n            {props[\"children\"]}\r\n        </MenuItem>\r\n    );\r\n};\r\n\r\n/**\r\n * Select component\r\n * \r\n * @description Select is used to choose from a list of options. For this, the controlId, the status (of the component and the online status), \r\n * the list of options and the command for the server must be specified. The title can, but does not have to be specified. \r\n * \r\n * @param {string} component - controlId \r\n * @param {string} title -  title\r\n * @param {string} list - Dictionary with the keys and corresponding values as content for the select.\r\n * @param {boolean} switchStatus - Status of the select from the status query \r\n * @param {boolean} online - connection status to the component\r\n * @param {string} option - command for the server\r\n * \r\n * @returns {React.ReactElement} styled select with the specified props\r\n * \r\n * @example <Select title='Resolution' component={'Select'} online={true} option='frameSize' selectValue={1} list={{1: 'a', 2: 'b', 3: 'c'}} />\r\n * @example <Select title='Resolution' component={'Select2'} online={true} option='frameSize' selectValue={'a'} list={{a: 1, b: 2, c: 4} />\r\n * @example <Select component={'Select3'} online={true} option='frameSize' selectValue={3} list={{1: 'a', b: 2, 3: 'c'}} />\r\n */\r\nexport default function CustomSelect(props) {\r\n    const socketCtx = useSocketContext();\r\n    const appCtx = useAppContext();\r\n\r\n    /**\r\n     * Handles the onclick event on a select option \r\n     * \r\n     * @description When a select element is clicked, SelectValue is overwritten with the new value. This change is then sent to the server with a \"command\" command. \r\n     * Emitting footer then updates the footer of the window. \r\n     * \r\n     * @param {*} event - clicking event (contains the new value)\r\n    */\r\n    const handleChange = (event) => {\r\n        socketCtx.socket.emit(\"command\", {\r\n            userId: socketCtx.username,\r\n            controlId: props.component,\r\n            [props.option]: isNaN(event.target.value) ? event.target.value : Number(event.target.value)\r\n        })\r\n\r\n        socketCtx.socket.emit(\"footer\", {\r\n            status: 'Used by: ' + socketCtx.username.substring(0, 17),\r\n            controlId: props.component\r\n        })\r\n\r\n        appCtx.addLog(\"User set selected \" + props.component + \" with \" + event.target.value)\r\n    };\r\n\r\n    return (\r\n        <Box sx={{ m: 2, width: 250 }}>\r\n            <FormControl fullWidth>\r\n                <InputLabel >{props.title}</InputLabel>\r\n                <Select\r\n                    label={props.title}\r\n                    value={props.selectValue}\r\n                    onChange={handleChange}\r\n                    disabled={(socketCtx.connected && props.online) ? false : true} >\r\n                    {Object.keys(props.list).map((type) => (\r\n                        <TypeSelectMenuItem value={type}>\r\n                            {props.list[type]}\r\n                        </TypeSelectMenuItem>\r\n                    ))}\r\n                </Select>\r\n            </FormControl>\r\n        </Box>\r\n    );\r\n}\r\n\r\nCustomSelect.propTypes = {\r\n    component: propTypes.string.isRequired,\r\n    title: propTypes.string,\r\n    list: propTypes.array.isRequired,\r\n    selectValue: propTypes.oneOf([propTypes.string, propTypes.number]).isRequired,\r\n    online: propTypes.bool.isRequired,\r\n    option: propTypes.string.isRequired\r\n}","import SettingsOutlinedIcon from '@mui/icons-material/SettingsOutlined';\r\nimport { useSocketContext } from '../../../services/SocketContext';\r\nimport { ThemeProvider } from '@mui/material/styles';\r\nimport styles from '../CSS/Settings.module.css'\r\nimport { theme } from '../templates/Theme.js';\r\nimport { useState, useEffect } from 'react';\r\nimport { IconButton } from '@mui/material';\r\nimport ESPCam from '../templates/ESPCam';\r\nimport Slider from '../templates/Slider';\r\nimport Switch from '../templates/Switch';\r\nimport Select from '../templates/Select';\r\nimport Box from '@mui/material/Box';\r\n\r\nconst ESPCamPlusSettings = (props) => {\r\n    const [switchIsOn, setSwitchStatus] = useState(false);\r\n    const [online, setOnlineStatus] = useState(false);\r\n    const [frameSize, setFrameSize] = useState(0);\r\n    const [contrast, setContrast] = useState(0);\r\n    const [exposure, setExposure] = useState(0);\r\n\r\n    const socketCtx = useSocketContext();\r\n\r\n    const resolution = {\r\n        5: 'QVGA (320x240)',\r\n        8: 'VGA (640x480)',\r\n        9: 'SVGA (800x600)',\r\n        10: 'XGA (1024x768)',\r\n    }\r\n\r\n    const hiddenSetting = () => {\r\n        props.setSetting(!props.setting)\r\n\r\n        if (props.setting) {\r\n            document.getElementById(props.component).style.left = '-325px'\r\n        } else {\r\n            document.getElementById(props.component).style.left = '-655px'\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!props.setting && !props.mobile) {\r\n            document.getElementById(props.component).style.left = '-325px'\r\n        } else if (!props.mobile) {\r\n            document.getElementById(props.component).style.left = '-655px'\r\n        }\r\n\r\n        const status = (payload) => {\r\n            if (payload.controlId === props.component) {\r\n                setOnlineStatus(true)\r\n                setSwitchStatus(payload.status.gray)\r\n                setExposure(payload.status.exposure)\r\n                setContrast(payload.status.contrast)\r\n                setFrameSize(payload.status.frameSize)\r\n                //console.log('Status of settings:   ', payload)\r\n            }\r\n        }\r\n\r\n        socketCtx.socket.emit('command', {\r\n            userId: socketCtx.username,\r\n            controlId: props.component,\r\n            getStatus: true\r\n        })\r\n\r\n        socketCtx.socket.emit('getFooter', props.component)\r\n\r\n        socketCtx.socket.on('status', status);\r\n\r\n        return () => {\r\n            socketCtx.socket.removeAllListeners('status', status)\r\n        }\r\n        //Comment needed to prevent a warning\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [socketCtx.socket]);\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <div className={styles.Settings}>\r\n                <IconButton onClick={hiddenSetting}  >\r\n                    <SettingsOutlinedIcon sx={{ fontSize: 35 }} />\r\n                </IconButton>\r\n                <ESPCam component={props.component} width={'600px'} height={'400px'} />\r\n                {props.setting &&\r\n\r\n                    <div className={styles.Settings}>\r\n                        <Box sx={{ m: 2, width: 250 }} > <h1>Settings</h1> </Box>\r\n                        <Select title='Resolution' component={props.component} online={online} option='frameSize' selectValue={frameSize} list={resolution} />\r\n                        <Switch component={props.component} switchStatus={switchIsOn} online={online} left='Color' right='Gray' option='gray' />\r\n                        <Slider title='Contrast' component={props.component} online={online} sliderValue={contrast} min={-2} max={2} option='contrast' />\r\n                        <Slider title='Exposure' component={props.component} online={online} sliderValue={exposure} min={0} max={1200} option='exposure' />\r\n                    </div>\r\n\r\n                }\r\n            </div>\r\n        </ThemeProvider>\r\n    )\r\n}\r\nexport default ESPCamPlusSettings;","import ESPCam from '../UI/CtrlUnits/ESPCamPlusSettings';\r\nimport Window from '../UI/experimentUI/Window';\r\n\r\nconst ESPCamStream = (props) => {\r\n  var width = window.innerWidth\r\n  var height = 0;\r\n  var mobile = true;\r\n\r\n  if (0 < width && width < 576) {\r\n    width = '350px'\r\n    height = '260px'\r\n  }\r\n  else if (576 < width && width < 768) {\r\n    width = '510px'\r\n    height = '340px'\r\n  }\r\n  else if (768 < width && width < 1000) {\r\n    width = '650px'\r\n    height = '430px'\r\n  } else {\r\n    width = '1000px'\r\n    height = '430px'\r\n  }\r\n\r\n  if (props.setting && width === '1000px') {\r\n    width = '1000px';\r\n    mobile = false\r\n  } else if (!props.setting && width === '1000px') {\r\n    width = '670px';\r\n    mobile = false;\r\n  }\r\n\r\n  return (\r\n    <Window\r\n      id={props.controlId}\r\n      componentList={[props.controlId]}\r\n      header={props.title}\r\n      top={props.top}\r\n      left={props.left}\r\n      width={width}\r\n      height={height}\r\n    >\r\n      <ESPCam\r\n        component={props.controlId}\r\n        width={width}\r\n        setting={props.setting}\r\n        setSetting={props.setSetting}\r\n        mobile={mobile}\r\n      />\r\n    </Window>\r\n  );\r\n};\r\nexport default ESPCamStream;","export default __webpack_public_path__ + \"static/media/PS_outline.8e83270a.png\";","import { ThemeProvider } from '@mui/material/styles';\r\nimport { useSocketContext } from \"../../../services/SocketContext\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { theme } from '../templates/Theme.js';\r\nimport Switch from '../templates/Switch';\r\nimport { Box } from '@mui/material';\r\n\r\nconst LaserCtrl = (props) => {\r\n  const [onlineStatus, setOnlineStatus] = useState(false);\r\n  const [switchIsOn, setSwitch] = useState(false);\r\n  \r\n  const socketCtx = useSocketContext();\r\n\r\n  useEffect(() => {\r\n    const status = (payload) => {\r\n      if (payload.controlId === props.component) {\r\n        setOnlineStatus(true)\r\n        setSwitch(payload.status.isOn)\r\n        //console.log(payload)\r\n      }\r\n    }\r\n\r\n    socketCtx.socket.emit(\"command\", {\r\n      userId: socketCtx.username,\r\n      controlId: props.component,\r\n      getStatus: true\r\n    })\r\n\r\n    socketCtx.socket.emit('getFooter', props.component)\r\n\r\n    socketCtx.socket.on(\"status\", status);\r\n\r\n    return () => {\r\n      socketCtx.socket.removeAllListeners('status', status)\r\n    }\r\n    //Comment needed to prevent a warning\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socketCtx.socket])\r\n\r\n\r\n  return (\r\n    <ThemeProvider theme={theme} >\r\n      <div style={{\r\n        position: 'absolute',\r\n        width: '120px',\r\n        height: '40px',\r\n        border: '2px solid #00ffa8',\r\n        borderRadius: '50px',\r\n        textAlign: 'center',\r\n        top: '40px',\r\n        left: '10px'\r\n      }}>\r\n        <Box sx={{ ml: '-4px' }} >\r\n          <Switch component={props.component} online={onlineStatus} switchStatus={switchIsOn} left='Off' right='On' option=\"switch\" />\r\n        </Box>\r\n      </div>\r\n    </ThemeProvider>\r\n  )\r\n}\r\nexport default LaserCtrl\r\n","import PS_Background from './media/PS_outline.png';\r\nimport LaserCtrl from '../UI/CtrlUnits/LaserCtrl';\r\nimport Window from '../UI/experimentUI/Window';\r\n\r\nconst Laser = (props) => {\r\n\r\n  return (\r\n    <Window\r\n      id={props.id}\r\n      componentList={[props.controlId]}\r\n      header={props.title}\r\n      top={props.top}\r\n      left={props.left}\r\n      height='240px'\r\n      width='250px'\r\n      background={PS_Background}\r\n\r\n    >\r\n      <LaserCtrl\r\n        component={props.controlId}\r\n      />\r\n    </Window>\r\n  )\r\n}\r\nexport default Laser;","export default __webpack_public_path__ + \"static/media/km100_outline.5cffd463.png\";","import { MdOutlineRotateRight, MdOutlineRotateLeft } from 'react-icons/md';\r\nimport { useSocketContext } from '../../../services/SocketContext';\r\nimport { useAppContext } from '../../../services/AppContext';\r\nimport styles from '../CSS/RotaryCtrl.module.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst RotaryCtrl = (props) => {\r\n  const [enteredRotation, setEnteredRotation] = useState(0);\r\n  const [onlineStatus, setOnlineStatus] = useState(false);\r\n  const [rotation, setRotation] = useState(0);\r\n  var direction;\r\n\r\n  const appCtx = useAppContext();\r\n  const socketCtx = useSocketContext();\r\n\r\n  useEffect(() => {\r\n    const status = (payload) => {\r\n      if (payload.controlId === props.component) {\r\n        setOnlineStatus(true)\r\n        setRotation(payload.status.absolute);\r\n        (payload.status.busy) ? setOnlineStatus(false) : setOnlineStatus(true);\r\n      }\r\n    }\r\n\r\n    socketCtx.socket.emit('command', {\r\n      userId: socketCtx.username,\r\n      controlId: props.component,\r\n      getStatus: true\r\n    });\r\n\r\n    socketCtx.socket.emit('getFooter', props.component);\r\n\r\n    socketCtx.socket.on('status', status);\r\n\r\n    return () => {\r\n      socketCtx.socket.removeAllListeners('status', status)\r\n\r\n    }\r\n    //Comment needed to prevent a warning\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socketCtx.socket]);\r\n\r\n  const rotCW_Handler = name => (event) => {\r\n    event.preventDefault();\r\n    direction = 0;\r\n\r\n    (name === 'left') ? direction = -1 * Number(enteredRotation) : direction = Number(enteredRotation);\r\n\r\n    if (direction !== 0) {\r\n      socketCtx.socket.emit('command', {\r\n        userId: socketCtx.username,\r\n        controlId: props.component,\r\n        move: direction,\r\n        color: socketCtx.fontColor,\r\n      });\r\n\r\n      socketCtx.socket.emit('footer', {\r\n        status: 'Used by: ' + socketCtx.username.substring(0, 17),\r\n        controlId: props.component\r\n      });\r\n    }\r\n    appCtx.addLog('User initiated CW rotation on ' + props.component + ' by ' + enteredRotation + ' steps.');\r\n  };\r\n\r\n  const changeRotationHandler = (event) => {\r\n    if (event.target.value > -1) {\r\n      setEnteredRotation(event.target.value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className={styles.rotaryCtrl} style={{ top: props.top + 'px', left: props.left + 'px' }}>\r\n      <div className={styles.rotaryCtrl}>\r\n        <span>{Number(rotation)}</span>\r\n        <input\r\n          type='number'\r\n          min='0'\r\n          max='100'\r\n          value={enteredRotation}\r\n          onChange={changeRotationHandler}\r\n        />\r\n      </div>\r\n      <button onClick={rotCW_Handler('left')} className={styles.CtrlLeft} disabled={(socketCtx.connected && onlineStatus) ? false : true}  >\r\n        <MdOutlineRotateLeft size={28} />\r\n      </button>\r\n      <button onClick={rotCW_Handler('right')} className={styles.CtrlRight} disabled={(socketCtx.connected && onlineStatus) ? false : true}>\r\n        <MdOutlineRotateRight size={28} />\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\nexport default RotaryCtrl;","import KM100_Background from './media/km100_outline.png'\r\nimport RotaryCtrl from '../UI/CtrlUnits/RotaryCtrl';\r\nimport Window from '../UI/experimentUI/Window';\r\n\r\nconst KM100 = (props) => {\r\n  return (\r\n    <Window\r\n      id={props.id}\r\n      componentList={[props.controlIdBottom, props.controlIdTop]}\r\n      header={props.title}\r\n      top={props.top}\r\n      left={props.left}\r\n      height='240px'\r\n      width='250px'\r\n      background={KM100_Background}\r\n\r\n    >\r\n      <RotaryCtrl\r\n        rotation={props.rotationTop}\r\n        component={props.controlIdTop}\r\n        top='20'\r\n        left='160'\r\n      />\r\n      <RotaryCtrl\r\n        rotation={props.rotationBottom}\r\n        component={props.controlIdBottom}\r\n        top='50'\r\n        left='160'\r\n      />\r\n    </Window>\r\n  );\r\n};\r\nexport default KM100;","export default __webpack_public_path__ + \"static/media/linear_outline.7ac97702.png\";","import RotaryCtrl from '../UI/CtrlUnits/RotaryCtrl';\r\nimport SM1ZP_bg from './media/linear_outline.png';\r\nimport Window from '../UI/experimentUI/Window';\r\n\r\nconst SM1ZP = (props) => {\r\n  return (\r\n    <Window\r\n      id={props.controlId}\r\n      componentList={[props.controlId]}\r\n      header={props.title}\r\n      top={props.top}\r\n      left={props.left}\r\n      width='250px'\r\n      height='235px'\r\n      background={SM1ZP_bg}\r\n\r\n    >\r\n      <RotaryCtrl\r\n        rotation={props.rotation}\r\n        component={props.controlId}\r\n        top='35'\r\n        left='160'\r\n      />\r\n    </Window>\r\n  );\r\n};\r\n\r\nexport default SM1ZP;\r\n","import styles from '../../../windows/CSS/Description.module.css'\r\n\r\nconst DescriptionCube = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                The beam splitter is a partially reflective surface that splits the incoming beam of light into two separate beams, known as the reference beam and the sample beam. This cube beam \r\n                splitter is made up of two prisms that are cemented together.\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default DescriptionCube;\r\n","import Window from '../UI/experimentUI/Window';\r\nimport Cube from '../experiment/ComponentDescription/Content/Decription_Cube';\r\n\r\nconst BsCube = (props) => {\r\n\r\n  return (\r\n    <Window\r\n      id={props.controlId}\r\n      header={props.title}\r\n      top={props.top}\r\n      left={props.left}\r\n      height='240px'\r\n      width='250px'\r\n      footer={'empty'}\r\n      topper={'none'}\r\n    >\r\n      <Cube\r\n        height='220px'\r\n      />\r\n    </Window>\r\n  )\r\n}\r\nexport default BsCube;","import styles from '../../../windows/CSS/Description.module.css'\r\n\r\nconst DescriptionLens = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={styles.mainWrapper} style={{ height: props.height }} >\r\n                <p>\r\n                    The lens is used to diverge the beam of laser light in order to illuminate a larger area of the screen and thereby to obtain an interference pattern consisting of light and dark rings\r\n                    (constructive or destructive interference, respectively). Without a lens, the laser would create only one spot on the screen, which is either very bright (constructive interference) or\r\n                    completely gone (destructive interference).\r\n                </p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default DescriptionLens;\r\n","import Window from '../UI/experimentUI/Window';\r\nimport Lens from '../experiment/ComponentDescription/Content/Decription_Lens';\r\n\r\nconst Laser = (props) => {\r\n\r\n  return (\r\n    <Window\r\n      id={props.controlId}\r\n      header={props.title}\r\n      top={props.top}\r\n      left={props.left}\r\n      height='240px'\r\n      width='250px'\r\n      footer={'empty'}\r\n      topper={'none'}\r\n    >\r\n      <Lens\r\n        height='220px'\r\n      />\r\n    </Window>\r\n  )\r\n}\r\nexport default Laser;","import Beamsplitter from \"../../assembly/BeamSplitter\";\r\nimport ESPCam from \"../../assembly/ESPCam\";\r\nimport LaserCtrl from \"../../assembly/Laser\";\r\nimport KM100 from \"../../assembly/KM100\";\r\nimport SM1ZP from \"../../assembly/SM1ZP\";\r\nimport Cube from \"../../assembly/BsCube\";\r\nimport Lens from \"../../assembly/Lens\";\r\nimport { useState } from \"react\";\r\n\r\nconst MichelsonInterferometer = (props) => {\r\n  let footer = \"Initializing...\"\r\n  var zero = \"0\"\r\n  const [setting, setSetting] = useState(false)\r\n\r\n  var height = window.innerHeight;\r\n  var width = window.innerWidth;\r\n  var halfWidth = width / 2;\r\n  var topHigh = String(height - (height / 3 * 2.7))\r\n  var topHighMiddle = String(height - (height / 1.4))\r\n  var topMiddle = String(height - (height / 2.15))\r\n  var leftLeft = String(width - (halfWidth * 1.9))\r\n  var leftMiddle = String(width - (halfWidth * 1.8))\r\n  var leftRight = String(width - (halfWidth * 0.47))\r\n  var leftMiddleRight = String(width - (halfWidth * 0.4))\r\n\r\n  return (\r\n    <div>\r\n      {/* KM100 */}\r\n      {props.selected.has('KM100_1') && (\r\n        <KM100\r\n          title=\"Reference Mirror\"\r\n          id={'KM100_1'}\r\n          controlIdTop={'KM100_top_1'}\r\n          controlIdBottom={'KM100_bottom_1'}\r\n          rotationTop={zero}\r\n          rotationBottom={zero}\r\n          footer={footer}\r\n          top={topHigh}\r\n          left={leftLeft}\r\n        />\r\n      )}\r\n      {/* Linear stage */}\r\n      {props.selected.has('linear_1') && (\r\n        <SM1ZP\r\n          title=\"Linear Movable Mirror\"\r\n          controlId={'linear_1'}\r\n          footer={footer}\r\n          rotation={zero}\r\n          top={topMiddle}\r\n          left={leftMiddle}\r\n        />\r\n      )}\r\n      {/* Laser ctrl */}\r\n      {props.selected.has('greenlaser_1') && (\r\n        <KM100\r\n          title=\"Laser Alignment\"\r\n          id={'greenlaser_1'}\r\n          controlIdTop={'greenlaser_top_1'}\r\n          controlIdBottom={'greenlaser_bottom_1'}\r\n          rotationTop={zero}\r\n          rotationBottom={zero}\r\n          footer={footer}\r\n          top={topMiddle}\r\n          left={leftMiddleRight}\r\n        />\r\n      )}\r\n      {/* Laser power */}\r\n      {props.selected.has('greenlaserPower_1') && (\r\n        <LaserCtrl\r\n          title=\"Power Supply\"\r\n          id={'greenlaserPower_1'}\r\n          controlId={'greenlaser_1'}\r\n          footer={footer}\r\n          top={topHigh}\r\n          left={leftRight}\r\n        />\r\n      )}\r\n      {/* Cam1 */}\r\n      {props.selected.has('screen') && (\r\n        <ESPCam\r\n          title=\"Screen\"\r\n          controlId={'screen'}\r\n          footer={footer}\r\n          top={topHighMiddle}\r\n          left={'500'}\r\n          setting={setting}\r\n          setSetting= {setSetting}\r\n        />\r\n      )}\r\n\r\n      {/* Beamsplitter */}\r\n      {props.selected.has('beamSplitter') && (\r\n        <Beamsplitter\r\n          title=\" Retract. Beam Splitter\"\r\n          controlId={'beamSplitter'}\r\n          footer={footer}\r\n          top={100}\r\n          left={1000}\r\n        />\r\n      )}\r\n\r\n      {/* Lens */}\r\n      {props.selected.has('lens') && (\r\n        <Lens\r\n          title=\"Lens\"\r\n          controlId={'lens'}\r\n          footer={footer}\r\n          top={600}\r\n          left={1100}\r\n        />\r\n      )}\r\n\r\n\r\n      {/* BeamSplitter Cube */}\r\n      {props.selected.has('bscube') && (\r\n        <Cube\r\n          title=\"Beam Splitter\"\r\n          controlId={'bscube'}\r\n          footer={footer}\r\n          top={100}\r\n          left={600}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default MichelsonInterferometer;","export default __webpack_public_path__ + \"static/media/Component_Window.979c9c89.gif\";","export default __webpack_public_path__ + \"static/media/MI_Beampath.87740705.gif\";","export default __webpack_public_path__ + \"static/media/xrtl_team.9c8d8d7c.png\";","import KeyboardArrowRight from '@mui/icons-material/KeyboardArrowRight';\r\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\r\nimport { useAppContext } from '../../../services/AppContext';\r\nimport MobileStepper from '@mui/material/MobileStepper';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { useEffect, useState } from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport propTypes from \"prop-types\";\r\n\r\n/**\r\n * Stepper component\r\n * \r\n * @description This component returns a styled stepper. For this, the controlId, the length of the stepper and the beginning of the \r\n * Id of the paragraphs must be specified. Optionally, the text on the right and left can be defined. \r\n * \r\n * @param {string} component - controlId \r\n * @param {number} length - Specifies the length of the stepper\r\n * @param {string} left -  text at the left/beginning\r\n * @param {string} right -text at the right/end\r\n * @param {number} buttonValue - indicates the beginning of the Ids of the paragraphs of the text (these should be set once at 1, 10, 20, ...,\r\n *  because otherwise, when opening several windows, all elements with the same ID will be changed).)\r\n * \r\n * @returns {React.ReactElement} styled stepper with the specified props \r\n * \r\n * @example <Stepper left={'Back'} right={'Next'} buttonValue={10} length={9} component={'manual'} />\r\n * @example <Stepper left={'Back'} right={'Next'} buttonValue={20} length={6} component={'help'} />\r\n * @example <Stepper buttonValue={30} length={3} component={'manual2'} />\r\n */\r\n\r\nconst StepperCtrl = (props) => {\r\n    const theme = useTheme();\r\n    const appCtx = useAppContext();\r\n\r\n    /**\r\n     * @param {number} activeStep - Indicates the position where the stepper is located.\r\n     * @function setActiveStep - Assigning a new value\r\n     */\r\n    const [activeStep, setActiveStep] = useState(1 === appCtx.manualPage ? 1 : appCtx.manualPage)\r\n\r\n    /**\r\n     * @param {number} buttonValue - Indicates the Id of the first paragraph of the first page of the stepper\r\n     * @function setButtonValue - Assigning a new value\r\n     */\r\n    const [buttonValue, setButtonValue] = useState(1 === appCtx.manualPage ? props.buttonValue : appCtx.manualPage + props.buttonValue - 1)\r\n\r\n    /**\r\n     * If the manualPage is not equal to 1, which means that you are not on the first page (e.g. after reopening the window), \r\n     * then this function handles this. By setting the paragraph defined by the buttonValue to not show and the appCtx.manualPage to show.\r\n     */\r\n    useEffect(() => {\r\n        if (1 !== appCtx.manualPage) {\r\n            document.getElementById(String(props.buttonValue)).style.display = 'none'\r\n            document.getElementById(String(appCtx.manualPage + props.buttonValue - 1)).style.display = 'block'\r\n        }\r\n        //Comment needed to prevent a warning\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    /**\r\n     * Function handles the clicking on the next page and the associated re-rendering of the selected text.\r\n     */\r\n    const handleNext = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n        setButtonValue((buttonValue) => buttonValue + 1);\r\n\r\n        document.getElementById(String(buttonValue)).style.display = 'none'\r\n        document.getElementById(String(buttonValue + 1)).style.display = 'block'\r\n\r\n        if (props.component) {\r\n            appCtx.toggleSetManualPage(activeStep + 1)\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Function handles clicking back to the previous page and the associated re-rendering of the selected text.\r\n     */\r\n    const handleBack = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n        setButtonValue((buttonValue) => buttonValue - 1);\r\n\r\n        document.getElementById(String(buttonValue)).style.display = 'none'\r\n        document.getElementById(String(buttonValue - 1)).style.display = 'block'\r\n\r\n        if (props.component) {\r\n            appCtx.toggleSetManualPage(activeStep - 1)\r\n        }\r\n    };\r\n\r\n    return (\r\n        <MobileStepper\r\n            variant=\"progress\"\r\n            steps={props.length + 1}\r\n            position=\"static\"\r\n            activeStep={activeStep}\r\n            sx={{ width: '97%', flexGrow: 1, top: '90%', position: 'absolute', background: 'transparent' }}\r\n            nextButton={\r\n                <Button size=\"small\" onClick={handleNext} disabled={activeStep === props.length}>\r\n                    {props.right}\r\n                    {theme.direction === 'rtl' ? (\r\n                        <KeyboardArrowLeft />\r\n                    ) : (\r\n                        <KeyboardArrowRight />\r\n                    )}\r\n                </Button>\r\n            }\r\n\r\n            backButton={\r\n                <Button size=\"small\" onClick={handleBack} disabled={activeStep === 1}>\r\n                    {theme.direction === 'rtl' ? (\r\n                        <KeyboardArrowRight />\r\n                    ) : (\r\n                        <KeyboardArrowLeft />\r\n                    )}\r\n                    {props.left}\r\n                </Button>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nStepperCtrl.propTypes = {\r\n    component: propTypes.string.isRequired,\r\n    length: propTypes.number.isRequired,\r\n    left: propTypes.string,\r\n    right: propTypes.string,\r\n    buttonValue: propTypes.number.isRequired,\r\n}\r\n\r\nexport default StepperCtrl;","import styles from \"../CSS/WelcomeWindowContent.module.css\";\r\nimport Gif3 from \"../../../media/images/Component_Window.gif\";\r\nimport Gif2 from \"../../../media/images/MI_Beampath.gif\";\r\nimport { themeLogin } from '../../../UI/templates/Theme';\r\nimport Gif1 from \"../../../media/images/xrtl_team.png\";\r\nimport Stepper from \"../../../UI/templates/Stepper\";\r\nimport { ThemeProvider } from '@mui/material';\r\n\r\nconst gifContainer = document.createElement(\"div\");\r\ngifContainer.classList.add(\"gif-style\");\r\n\r\nconst gifImage = document.createElement(\"img\");\r\ngifImage.src = Gif1;\r\ngifImage.alt = \"cycling\";\r\n\r\ngifContainer.appendChild(gifImage);\r\n\r\nconst WelcomeWindowContent = (props) => {\r\n  return (\r\n    <ThemeProvider theme={themeLogin}>\r\n      <div>\r\n        <div className={styles.mainWrapper} >\r\n          <div id={'0'} align=\"left\">\r\n            <b>Getting Started</b><br /><br />\r\n            Welcome to XRTL website, where you can remotely control a simple Michelson interferometer and observe the interference pattern. Whether you're a student, researcher, or enthusiast, our\r\n            user-friendly platform enables you to explore the fascinating world of optics and interferometry at your own pace. With real-time access to our experimental setup, you can adjust the paths and\r\n            observe the resulting interference pattern, learning about interference effects and the wave-like nature of light. Login and discover the possibilities of remote interferometry!\r\n\r\n            <div className={styles.WelcomegifContainer1} >\r\n              <img src={Gif1} alt=\"cycling\" className={styles.gifImage} />\r\n            </div>\r\n\r\n          </div>\r\n          <div id={'1'} style={{ display: 'none' }}>\r\n            <b>Michelson Interferometer in a Nutshell</b><br /><br />\r\n            The main function of a Michelson interferometer is to measure small differences in the length of two light paths, which can provide information about the properties of a sample placed in one\r\n            of the paths. To achieve this a single beam of light is split into two paths (sample beam and reference beam) and later recombined on a screen. Analyzing the resulting interference pattern can\r\n            reveal even small changes.\r\n\r\n            <div className={styles.WelcomegifContainer2}>\r\n              <img src={Gif2} alt=\"cycling\" className={styles.gifImage} />\r\n            </div>\r\n\r\n          </div>\r\n          <div id={'2'} style={{ display: 'none' }}>\r\n            <b>Basic Handling</b><br /><br />\r\n            You can control the components of the Michelson interferometer by simply tapping on their virtual twin.\r\n            This opens a window that allows you to adjust the settings. You can observe the resulting interference pattern by selecting the screen.\r\n            Additionally, you can view the entire setup by clicking on the camera icon in the header.\r\n            You can freely experiment by manipulating components or follow the detailed manual for a structured approach.\r\n            We encourage you to discover the fascinating world of optics and interferometry.\r\n\r\n            <div className={styles.WelcomegifContainer3}>\r\n              <img src={Gif3} alt=\"cycling\" className={styles.gifImage} />\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <Stepper component={'welcomeWindow'} left={'Back'} right={'Next'} buttonValue={0} length={3} />\r\n\r\n      </div>\r\n    </ThemeProvider>\r\n  )\r\n}\r\nexport default WelcomeWindowContent;\r\n","import WelcomeWindowContent from \"./Content/WelcomeWindowContent\";\r\nimport Window from \"../../UI/experimentUI/Window\";\r\n\r\nconst WelcomeWindow = (props) => {\r\n    var width = window.innerWidth\r\n    var height = 0;\r\n\r\n    if (0 < width && width < 576) {\r\n        width = '350px'\r\n        height = '480px'\r\n    }\r\n    else if (576 < width && width < 768) {\r\n        width = '510px'\r\n        height = '440px'\r\n    }\r\n    else if (768 < width && width < 1000) {\r\n        width = '510px'\r\n        height = '440px'\r\n    } else {\r\n        width = '510px'\r\n        height = '460px'\r\n    }\r\n\r\n    return (\r\n        <Window\r\n            header=\"XR TwinLab Welcome\"\r\n            id='welcome'\r\n            top=\"100\"\r\n            left=\"200\"\r\n            width={width}\r\n            height={height}\r\n            footer={'empty'}\r\n            topper={'none'}\r\n        >\r\n            <WelcomeWindowContent width={width} />\r\n        </Window>\r\n    );\r\n};\r\nexport default WelcomeWindow;","import styles from \"../CSS/ManualWindowContent.module.css\";\r\nimport Stepper from \"../../../UI/templates/Stepper\";\r\nimport { theme } from '../../../UI/templates/Theme';\r\nimport { ThemeProvider } from '@mui/material/';\r\n\r\n\r\nconst ManualWindowContent = (props) => {\r\n  return (\r\n    <div>\r\n      <div className={styles.mainWrapper}      >\r\n        <div id={'10'}>\r\n          <b>1. &nbsp; Introduction</b><br /><br />\r\n          <ul>\r\n            <li>Welcome to our remote-controlled <b>Michelson&nbsp;Interferometer</b>! Today, we'll explore various physical effects and phenomena. Remember, this manual serves as a guide, and users can follow their own exploration path based on their interests and objectives. Enjoy your journey through the fascinating world of Michelson interferometry!\r\n            </li><br />\r\n            <li>Discover who is currently engaged in experimentation with you at the <b>XRTL&nbsp;Showcase</b>. Simply type <i>\"!users\"</i> in the chat (pinned on the left edge) to unveil the answer. You can communicate with them via the chat.\r\n            </li><br />\r\n            <li>Discover who is currently engaged in experimentation with you at the <b>XRTL&nbsp;Showcase</b>. You can simply communicate with them via the chat (pinned on the left edge).\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div id={'11'} style={{ display: 'none' }}>\r\n          <b>2. &nbsp; Overview</b><br /><br />\r\n          <ul>\r\n            <li>Initiate your experiment by gaining an overview. Begin by accessing the live camera feed through the menu located at the top right corner. From there, you can observe the current state of the experimental setup in our showcase at the <b>Abbe&nbsp;School&nbsp;of&nbsp;Photonics</b>. Take note of the visible components and compare them with those displayed in the 3D model.\r\n              <br /> Can you identify all of them?\r\n            </li><br />\r\n            <li>Familiarize yourself with the user interface, including the power supply, mirror controls and beam splitter options. Simply tap on the individual components to display the respective control window.\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div id={'12'} style={{ display: 'none' }}>\r\n          <b>3.a &nbsp; Laser</b><br /><br />\r\n          <ul>\r\n            <li>Direct your attention to the <b>Screen</b> and tap on it to proceed. This action will open a window displaying a live camera stream of the screen. Initially, when the laser is inactive, you will observe a gray wall.\r\n            </li><br />\r\n            <li>Now, let's activate the laser. To accomplish this, tap on the <b>Power&nbsp;Supply</b> to reveal its control window and switch on the laser. Take a moment to observe the screen once again.\r\n              <br />Can you perceive any changes now?\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div id={'13'} style={{ display: 'none' }}>\r\n          <b>3.b &nbsp; Laser</b><br /><br />\r\n          <ul>\r\n            <li>You should!\r\n              <ul>\r\n                <br /><li>If you see green concentric rings, then the <b>Michelson&nbsp;Interferometer</b> is well adjusted.\r\n                </li><br />\r\n                <li>If you see stripes, then the reference mirror is tilted.\r\n                </li><br />\r\n                <li>If you only see a green spot, then the experiment is misaligned.\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div id={'14'} style={{ display: 'none' }}>\r\n          <b>4. &nbsp; Beam Path</b><br /><br />\r\n          <ul>\r\n            <li>Tap on the laser symbol located in the top center next to the Overview label to visualize the laser beam path within the interferometer.\r\n              <ul>\r\n                <br /><li>The <b>Lens</b> widens the beam so that a larger area on the screen can be illuminated instead of just one spot.\r\n                </li><br />\r\n                <li>The <b>Beam&nbsp;Splitter</b> divides the beam into two partial beams. These partial beams then proceed along separate paths before ultimately reuniting at the Beam Splitter on their way towards the Screen.\r\n                </li><br />\r\n                <li>The <b>Linear&nbsp;Movable&nbsp;Mirror</b> can be used to change the path length of one partial beam.\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div id={'15'} style={{ display: 'none' }}>\r\n          <b>5. &nbsp; Basic Interference</b><br /><br />\r\n          <ul>\r\n            <li>Prior to commencing, ensure that the experiment is set to its initial state. To accomplish this, type <i>\"!reset\"</i> into the chat.\r\n            </li><br />\r\n            <li>Start by adjusting the path length difference between the two arms of the interferometer using the <b>Linear&nbsp;Movable&nbsp;Mirror</b>.\r\n            </li><br />\r\n            <li>Observe the resulting interference pattern on the <b>Screen</b>. Note the changes as you vary the path length difference.\r\n              <br />Do the rings grow or shrink?\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div id={'16'} style={{ display: 'none' }}>\r\n          <b>6. &nbsp; Tiltable Mirror</b><br /><br />\r\n          <ul>\r\n            <li>Next, experiment with the <b>Reference&nbsp;Mirror</b> to change the angle of this mirror.\r\n            </li><br />\r\n            <li>Observe how the tilt affects the interference pattern. You should notice a shift of the diffraction pattern center.\r\n              <br />How does the distance between the rings change from the center to the outside?\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div id={'17'} style={{ display: 'none' }}>\r\n          <b>7. &nbsp; Second Beam Splitter</b><br /><br />\r\n          <ul>\r\n            <li>Activate the <b>Retractable&nbsp;Beam&nbsp;Splitter</b> to observe the second output of the interferometer on the <b>Screen</b>.\r\n            </li><br />\r\n            <li>Engage in a comparison between the two interference patterns, while also utilizing the setup's capability to modify the patterns.\r\n              <br />What is the relationship that exists between these two patterns?\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div id={'18'} style={{ display: 'none' }}>\r\n          <b>8. &nbsp; Conclusion</b><br /><br />\r\n          <ul>\r\n            <li>Congratulations! You've explored a range of physical effects with our remote-controlled <b>Michelson&nbsp;Interferometer</b>.\r\n            </li><br />\r\n            <li>Feel free to continue experimenting with the <b>XRTL&nbsp;Showcase</b> and exploring on your own.\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <ThemeProvider theme={theme}>\r\n        <Stepper left={'Back'} right={'Next'} buttonValue={10} length={9} component={'manual'} />\r\n      </ThemeProvider>\r\n    </div>\r\n  )\r\n}\r\nexport default ManualWindowContent;","import ManualWindowContent from \"./Content/ManualWindowContent\";\r\nimport Window from \"../../UI/experimentUI/Window\";\r\n\r\nconst ManualWindow = (props) => {\r\n    var width = window.innerWidth\r\n    var height = 0;\r\n\r\n    if (0 < width && width < 576) {\r\n        width = '350px'\r\n        height = '480px'\r\n    } else {\r\n        width = '510px'\r\n        height = '440px'\r\n    }\r\n\r\n    return (\r\n        <Window\r\n            header=\"XR TwinLab Manual\"\r\n            id='manual'\r\n            top=\"100\"\r\n            left=\"1000\"\r\n            width={width}\r\n            height={height}\r\n            footer={'empty'}\r\n            topper={'none'}\r\n        >\r\n            <ManualWindowContent />\r\n        </Window>\r\n    );\r\n};\r\nexport default ManualWindow;","import { useSocketContext } from '../../../services/SocketContext';\r\nimport { useEffect } from 'react';\r\nimport ESPCam from '../templates/ESPCam';\r\n\r\nconst ESPCamWithoutSettings = (props) => {\r\n    const socketCtx = useSocketContext();\r\n\r\n    useEffect(() => {\r\n        document.getElementById(props.component).style.transform = 'rotate(180deg)'\r\n\r\n        const status = (payload) => {\r\n            if (payload.controlId === props.component) {\r\n                //console.log('Status of settings:   ', payload)\r\n            }\r\n        }\r\n\r\n        socketCtx.socket.emit('command', {\r\n            userId: socketCtx.username,\r\n            controlId: props.component,\r\n            getStatus: true\r\n        })\r\n\r\n        socketCtx.socket.emit('getFooter', props.component)\r\n\r\n        socketCtx.socket.on('status', status);\r\n\r\n        return () => {\r\n            socketCtx.socket.removeAllListeners('status', status)\r\n\r\n        }\r\n        //Comment needed to prevent a warning\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [socketCtx.socket]);\r\n\r\n    return (\r\n        <ESPCam component={props.component} width={props.width} height={props.height} style={{ borderRadius: '5px', backgroundSize: 'cover', top: 30 }} />\r\n    )\r\n    //<canvas id='Canvas' width={props.width} height={props.height} style={{ borderRadius: '5px', backgroundSize: 'cover' }} />\r\n}\r\nexport default ESPCamWithoutSettings;","import ESPCam from '../UI/CtrlUnits/ESPCamWithoutSettings';\r\nimport Window from '../UI/experimentUI/Window';\r\n\r\nconst CamWindow = (props) => {\r\n    var width = window.innerWidth\r\n    var height = 0;\r\n\r\n    if (0 < width && width < 576) {\r\n        width = '350px'\r\n        height = '260px'\r\n    }\r\n    else if (576 < width && width < 768) {\r\n        width = '510px'\r\n        height = '340px'\r\n    } else {\r\n        width = '600px'\r\n        height = '400px'\r\n    }\r\n\r\n\r\n    return (\r\n        <Window\r\n            header={'Top View of Experiment'}\r\n            top={'200'}\r\n            left={'650'}\r\n            id={'overview'}\r\n            componentList={['overview']}\r\n            width={width}\r\n            height={height}\r\n            footer={'empty'}\r\n            topper={'none'}\r\n        >\r\n            <ESPCam\r\n                component={'overview'}\r\n                width={width}\r\n                height={height}\r\n            />\r\n        </Window>\r\n    );\r\n};\r\nexport default CamWindow;","import styles from \"../CSS/InfoWindowContent.module.css\";\r\nimport bgTeam from \"../../media/images/xrtl_team.png\";\r\n\r\nconst InfoWindowContent = (props) => {\r\n  return (\r\n\r\n    <div className={styles.mainWrapper}\r\n      style={{ backgroundImage: \"url(\\\"\" + bgTeam + \"\\\")\" }}\r\n    >\r\n      Remote labs represent a groundbreaking approach to science education and collaboration, facilitating communication and experimentation from afar. However, creating remote access capabilities can be prohibitively expensive or technically challenging, particularly for non-IT and non-engineering disciplines. To make remote labs accessible across all fields, we need a user-friendly platform that enables researchers, assistants, and technical staff to implement them independently. To that end, we are proud to present XR TwinLab (XRTL), an open-source toolbox designed specifically for the field of Photonics. With its modular structure XRTL offers a flexible, web-based application for controlling optical experimental setups. This exciting project is currently being developed by the esteemed Abbe School of Photonics and the Open Makerspace Lichtwerkstatt Jena.\r\n\r\n      Feel free to follow our <a href=\"https://github.com/Lichtwerkstatt/XRTL_SPA\">Git Repo</a> or <a href=\"mailto:team@lichtwerkstatt-jena.de\">Contact us.</a>\r\n\r\n      <p>\r\n        Best! Clara, Fabian, Falko, Jari and Johannes\r\n      </p>\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\nexport default InfoWindowContent;","import InfoWindowContent from \"./Content/InfoWindowContent\";\r\nimport Window from \"../UI/experimentUI/Window\";\r\n\r\nconst InfoWindow = (props) => {\r\n    var width = window.innerWidth\r\n    var height = 0;\r\n\r\n    if (0 < width && width < 576) {\r\n        width = '350px'\r\n        height = '650px'\r\n    }\r\n    else {\r\n        width = '600px'\r\n        height = '517px'\r\n    }\r\n\r\n    return (\r\n        <Window\r\n            header=\"About XR TwinLab\"\r\n            id='info'\r\n            top=\"200\"\r\n            left=\"200\"\r\n            width={width}\r\n            height={height}\r\n            footer={'empty'}\r\n            topper={'para'}\r\n        >\r\n            <InfoWindowContent />\r\n        </Window>\r\n    );\r\n};\r\nexport default InfoWindow;","import MichelsonInterferometer from \"../../experiment/MichelsonInterferometer/MichelsonInterferometer\";\r\nimport { useSocketContext } from \"../../../services/SocketContext\";\r\nimport { usePopUpContext } from \"../../../services/PopUpContext\";\r\nimport WelcomeWindow from \"../../experiment/windows/WelcomeWindow\";\r\nimport ManualWindow from \"../../experiment/windows/ManualWindow\";\r\nimport { useAppContext } from \"../../../services/AppContext\";\r\nimport CamWindow from \"../../windows/OverviewCamWindow\";\r\nimport InfoWindow from \"../../windows/InfoWindow\";\r\nimport { useEffect, Fragment, memo } from \"react\";\r\nimport { isEqual } from 'lodash';\r\n\r\nconst ExperimentUILayer = () => {\r\n  const socketCtx = useSocketContext();\r\n  const popupCtx = usePopUpContext();\r\n  const appCtx = useAppContext();\r\n\r\n  useEffect(() => {\r\n\r\n    const auth = (color) => {\r\n      popupCtx.toggleShowPopUp('Connection successful!', 'success');\r\n      socketCtx.socket.emit('userId', socketCtx.username)\r\n      socketCtx.setFontColor(color);\r\n    }\r\n\r\n    const underConstruction = (payload) => {\r\n      appCtx.toggleunderConstruction(payload);\r\n    }\r\n\r\n    const authFailed = () => {\r\n      popupCtx.toggleShowPopUp('To many user are connected right now!', 'warning');\r\n    }\r\n\r\n    socketCtx.socket.on('AuthFailed', authFailed)\r\n\r\n    socketCtx.socket.on('Auth', auth);\r\n\r\n    socketCtx.socket.on('underConstruction', underConstruction)\r\n\r\n    if (!socketCtx.socket.connected) {\r\n      popupCtx.toggleShowPopUp('No server connection!', 'error');\r\n    }\r\n\r\n    return () => {\r\n      socketCtx.socket.removeAllListeners('underConstruction', underConstruction)\r\n      socketCtx.socket.removeAllListeners('AuthFailed', authFailed)\r\n      socketCtx.socket.removeAllListeners('Auth', auth)\r\n\r\n    }\r\n    //Comment needed to prevent a warning\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socketCtx.socket]);\r\n\r\n  return (\r\n    <Fragment>\r\n      {appCtx.showInfoWindow && <InfoWindow />}\r\n      {appCtx.showWelcomeWindow && <WelcomeWindow />}\r\n      {appCtx.showManualWindow && <ManualWindow />}\r\n      {appCtx.showCam && <CamWindow />}\r\n      <MichelsonInterferometer\r\n        toggleSelect={appCtx.toggleSelectedComp}\r\n        selected={appCtx.selectedComps}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\nexport default memo(ExperimentUILayer, isEqual);","import { Html } from '@react-three/drei';\r\nimport { isEqual } from 'lodash';\r\nimport { memo } from 'react'\r\n\r\nconst DescriptiveTag = (props) => {\r\n  const wrapperStyle = {\r\n    color: 'white',\r\n    width: '200px',\r\n    height: '50px',\r\n    position: 'absolute',\r\n    left: props.position.x + 'px',\r\n    top: props.position.y + 'px',\r\n    transform: 'translateY(-100px)',\r\n  };\r\n  return <Html position={props.position} style={wrapperStyle} zIndexRange={[0, 10]} >\r\n\r\n    <div\r\n      style={{\r\n        height: '100px',\r\n        width: '0px',\r\n        borderLeft: '2px solid white',\r\n        float: 'left',\r\n      }}\r\n    ></div>\r\n\r\n    <div style={{ 'marginLeft': '12px' }}>\r\n      <span>\r\n        <b>{props.title}</b>\r\n      </span>\r\n      <br />\r\n      {props.description}\r\n      <br />\r\n      {props.status}\r\n    </div>\r\n  </Html>\r\n\r\n};\r\n\r\nexport default memo(DescriptiveTag, isEqual);\r\n","/*\r\nAuto-generated by: https://github.com/pmndrs/gltfjsx\r\nCommand: npx gltfjsx@6.1.2 MIS1_230504.glb -k\r\n*/\r\n\r\nimport DescriptiveTag from \"../../UI/experimentUI/DescriptiveTag\";\r\nimport { useGLTF, Box, Cylinder } from \"@react-three/drei\";\r\nimport React, { useRef, memo, useState, useEffect } from \"react\";\r\nimport { isEqual } from \"lodash\";\r\n\r\nfunction Model({ ...props }) {\r\n  const group = useRef();\r\n  const { nodes, materials } = useGLTF(\"/model/MIS1_230504.glb\");\r\n  const [beamSplitterState, setBeamSplitterState] = useState(false);\r\n  const socket = props.socket;\r\n\r\n  useEffect(() => {\r\n    const status = (payload) => {\r\n      if (payload.controlId === \"beamSplitter\") {\r\n        //Here a special case of assignment is taken, since the status returns an integer and is converted to a boolean\r\n        payload.status.absolute === 90\r\n          ? setBeamSplitterState(true)\r\n          : setBeamSplitterState(false);\r\n\r\n        // console.log(\"Status  \", payload)\r\n      } else if (payload.controlId === \"OtherComponent\") {\r\n        //Normal case of assignment\r\n        //setRotation(payload.status.absolute);\r\n      }\r\n    };\r\n\r\n    socket.on(\"status\", status);\r\n\r\n    return () => {\r\n      socket.removeAllListeners(\"status\", status);\r\n    };\r\n    //Comment needed to prevent a warning\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socket]);\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <group name=\"Scene\">\r\n        <group name=\"Optical elements\">\r\n          {/* BeamSplitters and Lens*/}\r\n          <Box\r\n            position={[-0.535, 0.66, -0.12]}\r\n            args={[1, 1, 1]}\r\n            scale={[0.25, 0.25, 0.25]}\r\n          >\r\n            <meshPhysicalMaterial\r\n              thickness={1}\r\n              roughness={0.1}\r\n              transmission={1}\r\n              clearcoat={0.5}\r\n              clearcoatRoughness={0}\r\n              ior={1.1}\r\n              envMapIntensity={25}\r\n              color={\"#ffffff\"}\r\n              attenuationColor={\"#00ffff\"}\r\n              attenuationDistance={5}\r\n            />\r\n          </Box>\r\n          <Cylinder\r\n            position={[0.7, 0.68, -0.13]}\r\n            args={[1, 1, 1, 26]}\r\n            rotation={[0, 0, Math.PI / 2]}\r\n            scale={[0.14, 0.05, 0.14]}\r\n          >\r\n            <meshPhysicalMaterial\r\n              thickness={1}\r\n              roughness={0.1}\r\n              transmission={1}\r\n              clearcoat={0.5}\r\n              clearcoatRoughness={0}\r\n              ior={1.1}\r\n              envMapIntensity={25}\r\n              color={\"#ffffff\"}\r\n              attenuationColor={\"#00ffff\"}\r\n              attenuationDistance={5}\r\n            />\r\n          </Cylinder>\r\n        </group>\r\n        {/* Beam Overlay */}\r\n        {props.showBeam === false && (\r\n          <group\r\n            name=\"BSslim\"\r\n            onPointerDown={(e) => {\r\n              e.stopPropagation();\r\n              props.toggleSelect(\"beamSplitter\");\r\n            }}\r\n          >\r\n            {props.showTags && (\r\n              <DescriptiveTag\r\n                position={[0, 0.6, 0]}\r\n                title=\"Retractable Beam Splitter\"\r\n                description=\"Simple Plate Beam Splitter\"\r\n              />\r\n            )}\r\n            {beamSplitterState && (\r\n              <group>\r\n                <mesh\r\n                  name=\"Thorlabs_Servo_Mount_Loose_V1_Stand\"\r\n                  geometry={nodes.Thorlabs_Servo_Mount_Loose_V1_Stand.geometry}\r\n                  material={materials[\"BlackParts.001\"]}\r\n                  position={[-0.01, 0, -0.01]}\r\n                  rotation={[0, Math.PI / 4, 0]}\r\n                  scale={0.01}\r\n                >\r\n                  <mesh\r\n                    name=\"Cylinder002_1\"\r\n                    geometry={nodes.Cylinder002_1.geometry}\r\n                    material={materials[\"ShinyParts.001\"]}\r\n                  />\r\n                  <mesh\r\n                    name=\"Cylinder002_2\"\r\n                    geometry={nodes.Cylinder002_2.geometry}\r\n                    material={materials.Servo}\r\n                  />\r\n                  <mesh\r\n                    name=\"Thorlabs_Servo_Mount_Loose_V1_Adapter\"\r\n                    geometry={\r\n                      nodes.Thorlabs_Servo_Mount_Loose_V1_Adapter.geometry\r\n                    }\r\n                    material={materials[\"BlackParts.001\"]}\r\n                  />\r\n                  {props.selected.has(\"beamSplitter\") ? (\r\n                    <meshStandardMaterial\r\n                      color=\"#00ff00\"\r\n                      transparent\r\n                      opacity={0.7}\r\n                    />\r\n                  ) : (\r\n                    <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n                  )}\r\n                </mesh>\r\n                <Cylinder\r\n                  position={[-0.15, 0.65, -0.15]}\r\n                  args={[1, 1, 1, 26]}\r\n                  rotation={[0, Math.PI / -4, Math.PI / 2]}\r\n                  scale={[0.15, 0.02, 0.15]}\r\n                >\r\n                  <meshPhysicalMaterial\r\n                    thickness={1}\r\n                    roughness={0.1}\r\n                    transmission={1}\r\n                    clearcoat={0.5}\r\n                    clearcoatRoughness={0}\r\n                    ior={1.1}\r\n                    envMapIntensity={25}\r\n                    color={\"#ffffff\"}\r\n                    attenuationColor={\"#00ffff\"}\r\n                    attenuationDistance={5}\r\n                  />\r\n                </Cylinder>\r\n                <Box\r\n                  position={[-0.15, 0.35, -0.15]}\r\n                  args={[1, 1, 1]}\r\n                  scale={[0.019, 0.4, 0.13]}\r\n                  rotation={[0, Math.PI / -4, Math.PI]}\r\n                >\r\n                  <meshPhysicalMaterial\r\n                    thickness={1}\r\n                    roughness={0.1}\r\n                    transmission={1}\r\n                    clearcoat={0.5}\r\n                    clearcoatRoughness={0}\r\n                    ior={1.1}\r\n                    envMapIntensity={25}\r\n                    color={\"#ffffff\"}\r\n                    attenuationColor={\"#00ffff\"}\r\n                    attenuationDistance={5}\r\n                  />\r\n                </Box>\r\n              </group>\r\n            )}\r\n          </group>\r\n        )}\r\n        {!props.showBeam && (\r\n          <group\r\n            name=\"BSslim\"\r\n            onPointerDown={(e) => {\r\n              e.stopPropagation();\r\n              props.toggleSelect(\"beamSplitter\");\r\n            }}\r\n          >\r\n            {props.showTags && (\r\n              <DescriptiveTag\r\n                position={[0, 0.6, 0]}\r\n                title=\"Retractable Beam Splitter\"\r\n                description=\"Simple Plate Beam Splitter\"\r\n              />\r\n            )}\r\n            {!beamSplitterState && (\r\n              <group>\r\n                <group>\r\n                  <mesh\r\n                    name=\"Thorlabs_Servo_Mount_Loose_V1_Stand\"\r\n                    geometry={\r\n                      nodes.Thorlabs_Servo_Mount_Loose_V1_Stand.geometry\r\n                    }\r\n                    material={materials[\"BlackParts.001\"]}\r\n                    position={[-0.01, 0, -0.01]}\r\n                    rotation={[0, Math.PI / 4, 0]}\r\n                    scale={0.01}\r\n                  >\r\n                    <mesh\r\n                      name=\"Cylinder002_1\"\r\n                      geometry={nodes.Cylinder002_1.geometry}\r\n                      material={materials[\"ShinyParts.001\"]}\r\n                    />\r\n                    <mesh\r\n                      name=\"Cylinder002_2\"\r\n                      geometry={nodes.Cylinder002_2.geometry}\r\n                      material={materials.Servo}\r\n                    />\r\n                    <mesh\r\n                      name=\"Thorlabs_Servo_Mount_Loose_V1_Adapter\"\r\n                      geometry={\r\n                        nodes.Thorlabs_Servo_Mount_Loose_V1_Adapter.geometry\r\n                      }\r\n                      material={materials[\"BlackParts.001\"]}\r\n                      position={[-23, 22, 0]}\r\n                      rotation={[0, 0, -Math.PI / 2]}\r\n                    />\r\n                    {props.selected.has(\"beamSplitter\") ? (\r\n                      <meshStandardMaterial\r\n                        color=\"#00ff00\"\r\n                        transparent\r\n                        opacity={0.7}\r\n                      />\r\n                    ) : (\r\n                      <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n                    )}\r\n                  </mesh>\r\n                </group>\r\n                <Cylinder\r\n                  position={[0.15, 0.22, -0.45]}\r\n                  args={[1, 1, 1, 26]}\r\n                  rotation={[0, Math.PI / -4, Math.PI / 2]}\r\n                  scale={[0.15, 0.02, 0.15]}\r\n                >\r\n                  <meshPhysicalMaterial\r\n                    thickness={1}\r\n                    roughness={0.1}\r\n                    transmission={1}\r\n                    clearcoat={0.5}\r\n                    clearcoatRoughness={0}\r\n                    ior={1.1}\r\n                    envMapIntensity={25}\r\n                    color={\"#ffffff\"}\r\n                    attenuationColor={\"#00ffff\"}\r\n                    attenuationDistance={5}\r\n                  />\r\n                </Cylinder>\r\n                <Box\r\n                  position={[-0.05, 0.22, -0.25]}\r\n                  args={[1, 1, 1]}\r\n                  scale={[0.019, 0.4, 0.13]}\r\n                  rotation={[Math.PI / 2, 0, Math.PI / 4]}\r\n                >\r\n                  <meshPhysicalMaterial\r\n                    thickness={1}\r\n                    roughness={0.1}\r\n                    transmission={1}\r\n                    clearcoat={0.5}\r\n                    clearcoatRoughness={0}\r\n                    ior={1.1}\r\n                    envMapIntensity={25}\r\n                    color={\"#ffffff\"}\r\n                    attenuationColor={\"#00ffff\"}\r\n                    attenuationDistance={5}\r\n                  />\r\n                </Box>\r\n              </group>\r\n            )}\r\n          </group>\r\n        )}\r\n        ;\r\n        {props.showBeam && !beamSplitterState && (\r\n          <group>\r\n            <mesh\r\n              name=\"LaserBeam\"\r\n              geometry={nodes.LaserBeam.geometry}\r\n              material={materials.Laser}\r\n            >\r\n              <meshStandardMaterial\r\n                color=\"#65ff00\"\r\n                transparent\r\n                opacity={0.8}\r\n                emissive\r\n                emissiveIntensity={1}\r\n              />\r\n            </mesh>\r\n            <group\r\n              name=\"BSslim\"\r\n              onPointerDown={(e) => {\r\n                e.stopPropagation();\r\n                props.toggleSelect(\"beamSplitter\");\r\n              }}\r\n            >\r\n              {props.showTags && (\r\n                <DescriptiveTag\r\n                  position={[0, 0.6, 0]}\r\n                  title=\"Retractable Beam Splitter\"\r\n                  description=\"Simple Plate Beam Splitter\"\r\n                />\r\n              )}\r\n\r\n              <mesh\r\n                name=\"Thorlabs_Servo_Mount_Loose_V1_Stand\"\r\n                geometry={nodes.Thorlabs_Servo_Mount_Loose_V1_Stand.geometry}\r\n                material={materials[\"BlackParts.001\"]}\r\n                position={[-0.01, 0, -0.01]}\r\n                rotation={[0, Math.PI / 4, 0]}\r\n                scale={0.01}\r\n              >\r\n                <mesh\r\n                  name=\"Cylinder002_1\"\r\n                  geometry={nodes.Cylinder002_1.geometry}\r\n                  material={materials[\"ShinyParts.001\"]}\r\n                />\r\n                <mesh\r\n                  name=\"Cylinder002_2\"\r\n                  geometry={nodes.Cylinder002_2.geometry}\r\n                  material={materials.Servo}\r\n                />\r\n                <mesh\r\n                  name=\"Thorlabs_Servo_Mount_Loose_V1_Adapter\"\r\n                  geometry={\r\n                    nodes.Thorlabs_Servo_Mount_Loose_V1_Adapter.geometry\r\n                  }\r\n                  material={materials[\"BlackParts.001\"]}\r\n                  position={[-23, 22, 0]}\r\n                  rotation={[0, 0, -Math.PI / 2]}\r\n                />\r\n                {props.selected.has(\"beamSplitter\") ? (\r\n                  <meshStandardMaterial\r\n                    color=\"#00ff00\"\r\n                    transparent\r\n                    opacity={0.7}\r\n                  />\r\n                ) : (\r\n                  <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n                )}\r\n              </mesh>\r\n            </group>\r\n            <Cylinder\r\n              position={[0.15, 0.22, -0.45]}\r\n              args={[1, 1, 1, 26]}\r\n              rotation={[0, Math.PI / -4, Math.PI / 2]}\r\n              scale={[0.15, 0.02, 0.15]}\r\n            >\r\n              <meshPhysicalMaterial\r\n                thickness={1}\r\n                roughness={0.1}\r\n                transmission={1}\r\n                clearcoat={0.5}\r\n                clearcoatRoughness={0}\r\n                ior={1.1}\r\n                envMapIntensity={25}\r\n                color={\"#ffffff\"}\r\n                attenuationColor={\"#00ffff\"}\r\n                attenuationDistance={5}\r\n              />\r\n            </Cylinder>\r\n            <Box\r\n              position={[-0.05, 0.22, -0.25]}\r\n              args={[1, 1, 1]}\r\n              scale={[0.019, 0.4, 0.13]}\r\n              rotation={[Math.PI / 2, 0, Math.PI / 4]}\r\n            >\r\n              <meshPhysicalMaterial\r\n                thickness={1}\r\n                roughness={0.1}\r\n                transmission={1}\r\n                clearcoat={0.5}\r\n                clearcoatRoughness={0}\r\n                ior={1.1}\r\n                envMapIntensity={25}\r\n                color={\"#ffffff\"}\r\n                attenuationColor={\"#00ffff\"}\r\n                attenuationDistance={5}\r\n              />\r\n            </Box>\r\n          </group>\r\n        )}\r\n        {props.showBeam && beamSplitterState && (\r\n          <group>\r\n            <mesh\r\n              name=\"LaserBeam\"\r\n              geometry={nodes.LaserBeam.geometry}\r\n              material={materials.Laser}\r\n            >\r\n              <meshStandardMaterial\r\n                color=\"#65ff00\"\r\n                transparent\r\n                opacity={0.8}\r\n                emissive\r\n                emissiveIntensity={1}\r\n              />\r\n            </mesh>\r\n            <mesh\r\n              name=\"LaserBeamBS\"\r\n              geometry={nodes.LaserBeamBS.geometry}\r\n              material={materials.Laser}\r\n              position={[-0.53, 0.68, -0.13]}\r\n              rotation={[0, 0, -Math.PI / 2]}\r\n              scale={0.17}\r\n            >\r\n              <meshStandardMaterial\r\n                color=\"#65ff00\"\r\n                transparent\r\n                opacity={0.8}\r\n                emissive\r\n                emissiveIntensity={1}\r\n              />\r\n            </mesh>\r\n\r\n            <group\r\n              name=\"BSslim\"\r\n              onPointerDown={(e) => {\r\n                e.stopPropagation();\r\n                props.toggleSelect(\"beamSplitter\");\r\n              }}\r\n            >\r\n              {props.showTags && (\r\n                <DescriptiveTag\r\n                  position={[0, 0.6, 0]}\r\n                  title=\"Retractable Beam Splitter\"\r\n                  description=\"Simple Plate Beam Splitter\"\r\n                />\r\n              )}\r\n              {beamSplitterState === true && (\r\n                <group>\r\n                  <mesh\r\n                    name=\"Thorlabs_Servo_Mount_Loose_V1_Stand\"\r\n                    geometry={\r\n                      nodes.Thorlabs_Servo_Mount_Loose_V1_Stand.geometry\r\n                    }\r\n                    material={materials[\"BlackParts.001\"]}\r\n                    position={[-0.01, 0, -0.01]}\r\n                    rotation={[0, Math.PI / 4, 0]}\r\n                    scale={0.01}\r\n                  >\r\n                    <mesh\r\n                      name=\"Cylinder002_1\"\r\n                      geometry={nodes.Cylinder002_1.geometry}\r\n                      material={materials[\"ShinyParts.001\"]}\r\n                    />\r\n                    <mesh\r\n                      name=\"Cylinder002_2\"\r\n                      geometry={nodes.Cylinder002_2.geometry}\r\n                      material={materials.Servo}\r\n                    />\r\n                    <mesh\r\n                      name=\"Thorlabs_Servo_Mount_Loose_V1_Adapter\"\r\n                      geometry={\r\n                        nodes.Thorlabs_Servo_Mount_Loose_V1_Adapter.geometry\r\n                      }\r\n                      material={materials[\"BlackParts.001\"]}\r\n                    />\r\n                    {props.selected.has(\"beamSplitter\") ? (\r\n                      <meshStandardMaterial\r\n                        color=\"#00ff00\"\r\n                        transparent\r\n                        opacity={0.7}\r\n                      />\r\n                    ) : (\r\n                      <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n                    )}\r\n                  </mesh>\r\n                </group>\r\n              )}\r\n              ;\r\n              <Cylinder\r\n                position={[-0.15, 0.65, -0.15]}\r\n                args={[1, 1, 1, 26]}\r\n                rotation={[0, Math.PI / -4, Math.PI / 2]}\r\n                scale={[0.15, 0.02, 0.15]}\r\n              >\r\n                <meshPhysicalMaterial\r\n                  thickness={1}\r\n                  roughness={0.1}\r\n                  transmission={1}\r\n                  clearcoat={0.5}\r\n                  clearcoatRoughness={0}\r\n                  ior={1.1}\r\n                  envMapIntensity={25}\r\n                  color={\"#ffffff\"}\r\n                  attenuationColor={\"#00ffff\"}\r\n                  attenuationDistance={5}\r\n                />\r\n              </Cylinder>\r\n              <Box\r\n                position={[-0.15, 0.35, -0.15]}\r\n                args={[1, 1, 1]}\r\n                scale={[0.019, 0.4, 0.13]}\r\n                rotation={[0, Math.PI / -4, Math.PI]}\r\n              >\r\n                <meshPhysicalMaterial\r\n                  thickness={1}\r\n                  roughness={0.1}\r\n                  transmission={1}\r\n                  clearcoat={0.5}\r\n                  clearcoatRoughness={0}\r\n                  ior={1.1}\r\n                  envMapIntensity={25}\r\n                  color={\"#ffffff\"}\r\n                  attenuationColor={\"#00ffff\"}\r\n                  attenuationDistance={5}\r\n                />\r\n              </Box>\r\n            </group>\r\n          </group>\r\n        )}\r\n        {/* Other Components */}\r\n        <group\r\n          name=\"Mirror1\"\r\n          onPointerDown={(e) => {\r\n            e.stopPropagation();\r\n            props.toggleSelect(\"KM100_1\");\r\n          }}\r\n        >\r\n          {props.showTags && (\r\n            <DescriptiveTag\r\n              position={[-0.53, 0.9, 0.94]}\r\n              title=\"Reference Mirror\"\r\n              description=\"KM100 Double Rotary Control\"\r\n            />\r\n          )}\r\n          <mesh\r\n            name=\"SideMirrorMesh\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.SideMirrorMesh.geometry}\r\n            material={materials.BlackParts}\r\n          >\r\n            {props.selected.has(\"KM100_1\") ? (\r\n              <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n            ) : (\r\n              <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n            )}\r\n          </mesh>\r\n          <mesh\r\n            name=\"SideMirrorMesh_1\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.SideMirrorMesh_1.geometry}\r\n            material={materials.ShinyParts}\r\n          />\r\n          <mesh\r\n            name=\"SideMirrorMesh_2\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.SideMirrorMesh_2.geometry}\r\n            material={materials.Mirror}\r\n          />\r\n        </group>\r\n        <group\r\n          name=\"TranslateMirror\"\r\n          onPointerDown={(e) => {\r\n            e.stopPropagation();\r\n            props.toggleSelect(\"linear_1\");\r\n          }}\r\n        >\r\n          {props.showTags && (\r\n            <DescriptiveTag\r\n              position={[-1.71, 0.9, -0.12]}\r\n              title=\"Linear Movable Mirror\"\r\n              description=\"SM1ZP/M Translation Mount\"\r\n            />\r\n          )}\r\n          <mesh\r\n            name=\"TranslateMirrorMesh\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.TranslateMirrorMesh.geometry}\r\n            material={materials.BlackParts}\r\n          >\r\n            {props.selected.has(\"linear_1\") ? (\r\n              <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n            ) : (\r\n              <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n            )}\r\n          </mesh>\r\n          <mesh\r\n            name=\"TranslateMirrorMesh_1\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.TranslateMirrorMesh_1.geometry}\r\n            material={materials.ShinyParts}\r\n          />\r\n          <mesh\r\n            name=\"TranslateMirrorMesh_2\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.TranslateMirrorMesh_2.geometry}\r\n            material={materials.Mirror}\r\n          />\r\n        </group>\r\n        <group\r\n          name=\"Schirm\"\r\n          onPointerDown={(e) => {\r\n            e.stopPropagation();\r\n            props.toggleSelect(\"screen\");\r\n          }}\r\n        >\r\n          {props.showTags && (\r\n            <DescriptiveTag\r\n              position={[-0.37, 1.5, -1.3]}\r\n              title=\"Screen\"\r\n              description=\"Polystyrene Viewing Screen\"\r\n            />\r\n          )}\r\n          <mesh\r\n            name=\"PlaneMesh\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.PlaneMesh.geometry}\r\n          >\r\n            {props.selected.has(\"screen\") ? (\r\n              <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n            ) : (\r\n              <meshStandardMaterial color=\"#eeeeee\" opacity={1.0} />\r\n            )}\r\n          </mesh>\r\n          <mesh\r\n            name=\"PlaneMesh_1\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.PlaneMesh_1.geometry}\r\n            material={materials.BlackParts}\r\n          />\r\n        </group>\r\n        <group name=\"Base\">\r\n          <mesh\r\n            name=\"BaseMesh\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.BaseMesh.geometry}\r\n            material={materials.BlackParts}\r\n          />\r\n          <mesh\r\n            name=\"BaseMesh_1\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.BaseMesh_1.geometry}\r\n            material={materials.ShinyParts}\r\n          />\r\n        </group>\r\n        <group\r\n          name=\"Lens\"\r\n          onPointerDown={(e) => {\r\n            e.stopPropagation();\r\n            props.toggleSelect(\"lens\");\r\n          }}\r\n        >\r\n          {props.showTags && (\r\n            <DescriptiveTag\r\n              position={[0.7, 0.9, -0.1]}\r\n              title=\"Lens\"\r\n              description=\"Bi-Convex 50mm Focal Length\"\r\n            />\r\n          )}\r\n\r\n          <mesh\r\n            name=\"LensMesh001\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.LensMesh001.geometry}\r\n            material={materials.BlackParts}\r\n          >\r\n            {props.selected.has(\"lens\") ? (\r\n              <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n            ) : (\r\n              <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n            )}\r\n          </mesh>\r\n          <mesh\r\n            name=\"LensMesh001_1\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.LensMesh001_1.geometry}\r\n            material={materials.ShinyParts}\r\n          />\r\n        </group>\r\n        <group\r\n          name=\"BeamSplitterCube\"\r\n          onPointerDown={(e) => {\r\n            e.stopPropagation();\r\n            props.toggleSelect(\"bscube\");\r\n          }}\r\n        >\r\n          {props.showTags && (\r\n            <DescriptiveTag\r\n              position={[-0.55, 0.9, -0.13]}\r\n              title=\"Beam Splitter\"\r\n              description=\"50:50 Cube Beam Splitter\"\r\n            />\r\n          )}\r\n          <mesh\r\n            name=\"BeamSplitterMesh001\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.BeamSplitterMesh001.geometry}\r\n            material={materials.BlackParts}\r\n          >\r\n            {props.selected.has(\"bscube\") ? (\r\n              <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n            ) : (\r\n              <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n            )}\r\n          </mesh>\r\n          <mesh\r\n            name=\"BeamSplitterMesh001_1\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.BeamSplitterMesh001_1.geometry}\r\n            material={materials.ShinyParts}\r\n          />\r\n        </group>\r\n        <group\r\n          name=\"Laser\"\r\n          onPointerDown={(e) => {\r\n            e.stopPropagation();\r\n            props.toggleSelect(\"greenlaser_1\");\r\n          }}\r\n        >\r\n          {props.showTags && (\r\n            <DescriptiveTag\r\n              position={[1.7, 0.9, -0.12]}\r\n              title=\"Laser Alignment\"\r\n              description=\"KM100 Double Rotary Control\"\r\n            />\r\n          )}\r\n          <mesh\r\n            name=\"LaserMesh\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.LaserMesh.geometry}\r\n            material={materials.BlackParts}\r\n          >\r\n            {props.selected.has(\"greenlaser_1\") ? (\r\n              <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n            ) : (\r\n              <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n            )}\r\n          </mesh>\r\n          <mesh\r\n            name=\"LaserMesh_1\"\r\n            castShadow\r\n            receiveShadow\r\n            geometry={nodes.LaserMesh_1.geometry}\r\n            material={materials.ShinyParts}\r\n          />\r\n        </group>\r\n        <mesh\r\n          name=\"SD5\"\r\n          castShadow\r\n          receiveShadow\r\n          geometry={nodes.SD5.geometry}\r\n          material={materials.BlackParts}\r\n          onPointerDown={(e) => {\r\n            e.stopPropagation();\r\n            props.toggleSelect(\"greenlaserPower_1\");\r\n          }}\r\n        >\r\n          {props.showTags && (\r\n            <DescriptiveTag\r\n              position={[2.0, 0.5, -1.1]}\r\n              title=\"Power Supply\"\r\n              description=\"5V Laser Power Supply\"\r\n            />\r\n          )}\r\n          {props.selected.has(\"greenlaserPower_1\") ? (\r\n            <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n          ) : (\r\n            <meshStandardMaterial color=\"#222222\" opacity={1.0} />\r\n          )}\r\n        </mesh>\r\n      </group>\r\n    </group>\r\n  );\r\n}\r\n\r\nuseGLTF.preload(\"/MIS1_230504.glb\");\r\nexport default memo(Model, isEqual);\r\n","import DescriptiveTag from \"../../UI/experimentUI/DescriptiveTag\";\r\nimport React, { useRef, memo, useEffect } from \"react\";\r\nimport { Box } from \"@react-three/drei\";\r\nimport { isEqual } from \"lodash\";\r\n\r\nfunction Model2d({ ...props }) {\r\n  const group = useRef();\r\n\r\n  const socket = props.socket;\r\n\r\n  useEffect(() => {\r\n    const status = (payload) => {\r\n      if (payload.controlId === \"beamSplitter\") {\r\n\r\n\r\n\r\n        // console.log(\"Status  \", payload)\r\n      } else if (payload.controlId === \"OtherComponent\") {\r\n        //Normal case of assignment\r\n        //setRotation(payload.status.absolute);\r\n      }\r\n    };\r\n\r\n    socket.on(\"status\", status);\r\n\r\n    return () => {\r\n      socket.removeAllListeners(\"status\", status);\r\n    };\r\n    //Comment needed to prevent a warning\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socket]);\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <group\r\n        name=\"BSslim\"\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"beamSplitter\");\r\n        }}\r\n      >\r\n        {props.showTags && (\r\n          <DescriptiveTag\r\n            position={[0, 0.2, 0]}\r\n            title=\"Retractable Beam Splitter\"\r\n            description=\"Simple Plate Beam Splitter\"\r\n          />\r\n        )}\r\n        <Box\r\n          position={[0, 0, 0]}\r\n          args={[2, 2, 0.01]}\r\n          scale={[0.25, 0.25, 0.25]}\r\n        >\r\n          {props.selected.has(\"beamSplitter\") ? (\r\n            <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n          ) : (\r\n            <meshStandardMaterial color=\"#ffffff\" opacity={0.5} />\r\n          )}\r\n        </Box>\r\n      </group>\r\n\r\n      <group\r\n        name=\"Mirror1\"\r\n        position={[-1, -1, 0]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"KM100_1\");\r\n        }}\r\n      >\r\n        {props.showTags && (\r\n          <DescriptiveTag\r\n            position={[0, 0.2, 0]}\r\n            title=\"Reference Mirror\"\r\n            description=\"KM100 Double Rotary Control\"\r\n          />\r\n        )}\r\n        <Box args={[2, 2, 0.01]} scale={[0.25, 0.25, 0.25]}>\r\n          {props.selected.has(\"KM100_1\") ? (\r\n            <meshStandardMaterial color={\"#00ff00\"} transparent opacity={0.7} />\r\n          ) : (\r\n            <meshStandardMaterial color=\"#ffffff\" opacity={0.5} />\r\n          )}\r\n        </Box>\r\n      </group>\r\n\r\n      <group\r\n        name=\"TranslateMirror\"\r\n        position={[-2, 0, 0]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"linear_1\");\r\n        }}\r\n      >\r\n        {props.showTags && (\r\n          <DescriptiveTag\r\n            position={[0, 0.2, 0]}\r\n            title=\"Linear Movable Mirror\"\r\n            description=\"SM1ZP/M Translation Mount\"\r\n          />\r\n        )}\r\n        <Box args={[2, 2, 0.01]} scale={[0.25, 0.25, 0.25]}>\r\n          {props.selected.has(\"linear_1\") ? (\r\n            <meshStandardMaterial color={\"#00ff00\"} transparent opacity={0.7} />\r\n          ) : (\r\n            <meshStandardMaterial color=\"#ffffff\" opacity={0.5} />\r\n          )}\r\n        </Box>\r\n      </group>\r\n\r\n      <group\r\n        name=\"Schirm\"\r\n        position={[-1, 1, 0]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"screen\");\r\n        }}\r\n      >\r\n        {props.showTags && (\r\n          <DescriptiveTag\r\n            position={[0, 0.2, 0]}\r\n            title=\"Screen\"\r\n            description=\"Polystyrene Viewing Screen\"\r\n          />\r\n        )}\r\n        <Box args={[2, 2, 0.01]} scale={[0.25, 0.25, 0.25]}>\r\n          {props.selected.has(\"screen\") ? (\r\n            <meshStandardMaterial color={\"#00ff00\"} transparent opacity={0.7} />\r\n          ) : (\r\n            <meshStandardMaterial color=\"#ffffff\" opacity={0.5} />\r\n          )}\r\n        </Box>\r\n      </group>\r\n\r\n      <group\r\n        name=\"Lens\"\r\n        position={[1, 0, 0]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"lens\");\r\n        }}\r\n      >\r\n        {props.showTags && (\r\n          <DescriptiveTag\r\n            position={[0, 0.2, 0]}\r\n            title=\"Lens\"\r\n            description=\"Bi-Convex 50mm Focal Length\"\r\n          />\r\n        )}\r\n        <Box args={[2, 2, 0.01]} scale={[0.25, 0.25, 0.25]}>\r\n          {props.selected.has(\"lens\") ? (\r\n            <meshStandardMaterial color={\"#00ff00\"} transparent opacity={0.7} />\r\n          ) : (\r\n            <meshStandardMaterial color=\"#ffffff\" opacity={0.5} />\r\n          )}\r\n        </Box>\r\n      </group>\r\n\r\n      <group\r\n        name=\"BeamSplitterCube\"\r\n        position={[-1, 0, 0]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"bscube\");\r\n        }}\r\n      >\r\n        {props.showTags && (\r\n          <DescriptiveTag\r\n            position={[0, 0.2, 0]}\r\n            title=\"Beam Splitter\"\r\n            description=\"50:50 Cube Beam Splitter\"\r\n          />\r\n        )}\r\n        <Box args={[2, 2, 0.01]} scale={[0.25, 0.25, 0.25]}>\r\n          {props.selected.has(\"bscube\") ? (\r\n            <meshStandardMaterial color={\"#00ff00\"} transparent opacity={0.7} />\r\n          ) : (\r\n            <meshStandardMaterial color=\"#ffffff\" opacity={0.5} />\r\n          )}\r\n        </Box>\r\n      </group>\r\n\r\n      <group\r\n        name=\"Laser\"\r\n        position={[2, 0, 0]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"greenlaser_1\");\r\n        }}\r\n      >\r\n        {props.showTags && (\r\n          <DescriptiveTag\r\n            position={[0, 0.2, 0]}\r\n            title=\"Laser Alignment\"\r\n            description=\"KM100 Double Rotary Control\"\r\n          />\r\n        )}\r\n        <Box args={[2, 2, 0.01]} scale={[0.25, 0.25, 0.25]}>\r\n          {props.selected.has(\"greenlaser_1\") ? (\r\n            <meshStandardMaterial color={\"#00ff00\"} transparent opacity={0.7} />\r\n          ) : (\r\n            <meshStandardMaterial color=\"#ffffff\" opacity={0.5} />\r\n          )}\r\n        </Box>\r\n      </group>\r\n\r\n      <group\r\n        name=\"SD5\"\r\n        position={[2, 1, 0]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"greenlaserPower_1\");\r\n        }}\r\n      >\r\n        {props.showTags && (\r\n          <DescriptiveTag\r\n            position={[0, 0.2, 0]}\r\n            title=\"Power Supply\"\r\n            description=\"5V Laser Power Supply\"\r\n          />\r\n        )}\r\n        <Box args={[2, 2, 0.01]} scale={[0.25, 0.25, 0.25]}>\r\n          {props.selected.has(\"greenlaserPower_1\") ? (\r\n            <meshStandardMaterial color={\"#00ff00\"} transparent opacity={0.7} />\r\n          ) : (\r\n            <meshStandardMaterial color=\"#ffffff\" opacity={0.5} />\r\n          )}\r\n        </Box>\r\n      </group>\r\n    </group>\r\n  );\r\n}\r\n\r\nexport default memo(Model2d, isEqual);\r\n","import MIS1_230504 from \"../../experiment/MichelsonInterferometer/MIS1_230504\";\r\nimport Model2d from \"../../experiment/MichelsonInterferometer/MIS1_2D_control\";\r\nimport { OrbitControls, Environment, Billboard } from \"@react-three/drei\";\r\nimport { useAppContext } from \"../../../services/AppContext\";\r\nimport { Canvas } from \"@react-three/fiber\";\r\nimport { Suspense } from \"react\";\r\nimport { useSocketContext } from \"../../../services/SocketContext\";\r\n\r\nconst VirtualLayer = (...props) => {\r\n  const appCtx = useAppContext();\r\n  const socketCtx = useSocketContext();\r\n\r\n  if (appCtx.showVirtualLayer) {\r\n    return (\r\n      <Canvas\r\n        style={{\r\n          position: \"absolute\",\r\n          background: \"linear-gradient(Teal, Black)\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n        }}\r\n        colorManagement\r\n        softShadows\r\n        camera={{ position: [0, 3, 5], fov: 40 }}\r\n      >\r\n        <Suspense fallback={null}>\r\n          <Environment files=\"../hdri/autoshop.hdr\" />\r\n          <OrbitControls autoRotate={appCtx.autoRotate} />\r\n          <MIS1_230504\r\n            toggleSelect={appCtx.toggleSelectedComp}\r\n            selected={appCtx.selectedComps}\r\n            showTags={appCtx.showTags}\r\n            showBeam={appCtx.showBeam}\r\n            socket={socketCtx.socket}\r\n          />\r\n        </Suspense>\r\n      </Canvas>\r\n    );\r\n  } else {\r\n    // Hier kommt die Camera hin!\r\n    // socketCtx.socket.emit(\"command\", {\r\n    //   userId: socketCtx.username,\r\n    //   controlId: props.component,\r\n    //   getStatus: true,\r\n    // });\r\n\r\n    // appCtx.toogleRoomComp(props.component, true);\r\n\r\n    // socketCtx.socket.on(\"data\", Settings.data);\r\n\r\n    return (\r\n      <Canvas\r\n        style={{\r\n          position: \"absolute\",\r\n          background: \"linear-gradient(Teal, Black)\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n        }}\r\n        colorManagement\r\n        camera={{ position: [0, 0, 5], fov: 40 }}\r\n      >\r\n        <Suspense fallback={null}>\r\n          {/* <canvas\r\n            id=\"Canvas\"\r\n            width={props.width}\r\n            height={props.height}\r\n            style={{ borderRadius: \"5px\", backgroundSize: \"cover\" }}\r\n          /> */}\r\n\r\n          <Environment files=\"../hdri/autoshop.hdr\" />\r\n\r\n          {/* <pointLight /> */}\r\n          <Billboard>\r\n            <Model2d\r\n              toggleSelect={appCtx.toggleSelectedComp}\r\n              selected={appCtx.selectedComps}\r\n              showTags={appCtx.showTags}\r\n              socket={socketCtx.socket}\r\n            />\r\n          </Billboard>\r\n        </Suspense>\r\n      </Canvas>\r\n    );\r\n  }\r\n};\r\n\r\nexport default VirtualLayer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./index.css\"\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>,\r\n  document.getElementById(\"root\")\r\n);","import { createTheme } from '@mui/material/styles';\r\n\r\n/**\r\n * Standard theme\r\n * \r\n * @description This theme is the default theme used.\r\n * \r\n * @returns theme\r\n */\r\nexport const theme = createTheme({\r\n    palette: {\r\n        mode: 'dark',\r\n        primary: {\r\n            light: '#01bd7d',\r\n            main: '#01bd7d',\r\n            dark: '#01bd7d',\r\n            contrastText: '#01bd7d',\r\n        },\r\n    }\r\n})\r\n\r\n/**\r\n * Login theme\r\n * \r\n * @description This theme is used in the login window. The special feature here is that the contrast text is white and spaceing is set to two.\r\n * \r\n * @returns login theme\r\n */\r\n\r\nexport const themeLogin = createTheme({\r\n    palette: {\r\n        mode: 'dark',\r\n        primary: {\r\n            light: '#01bd7d',\r\n            main: '#01bd7d',\r\n            dark: '#01bd7d',\r\n            contrastText: '#fff',\r\n        },\r\n    },\r\n    spacing: 2,\r\n})","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"Description_mainWrapper__1yx_Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"window\":\"Window_window__bP_tv\",\"windowHeader\":\"Window_windowHeader__3dGvs\",\"windowFooter\":\"Window_windowFooter__32UEl\",\"icon\":\"Window_icon__3b2y3\",\"iconClose\":\"Window_iconClose__1d70Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"WelcomeWindowContent_mainWrapper__2RnKn\",\"buttons\":\"WelcomeWindowContent_buttons__1tooy\",\"WelcomegifContainer1\":\"WelcomeWindowContent_WelcomegifContainer1__3Gq-h\",\"WelcomegifContainer2\":\"WelcomeWindowContent_WelcomegifContainer2__1c-Rw\",\"WelcomegifContainer3\":\"WelcomeWindowContent_WelcomegifContainer3__3LP9S\",\"gifImage\":\"WelcomeWindowContent_gifImage__3pKdI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatContainer\":\"Chat_chatContainer__12YJt\",\"chatMain\":\"Chat_chatMain__2eTFB\",\"msgForm\":\"Chat_msgForm__3_C6o\",\"chatHandler\":\"Chat_chatHandler__321sW\",\"openChat\":\"Chat_openChat__3oUjr\",\"closeChat\":\"Chat_closeChat__GVHsw\",\"buttonBlink\":\"Chat_buttonBlink__3AMb2\"};"],"sourceRoot":""}